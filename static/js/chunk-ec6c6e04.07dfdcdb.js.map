{"version":3,"sources":["webpack:///./src/assets/images/arrow_b@2x.png","webpack:///./src/views/index/IndexOption.vue?5257","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/assets/images/record@2x.png","webpack:///./src/views/index/index.vue?35db","webpack:///./src/views/index/index.vue","webpack:///./src/views/index/IndexOption.vue","webpack:///./src/views/index/IndexOption.vue?704c","webpack:///./src/views/index/IndexPool.vue","webpack:///./src/views/index/IndexPool.vue?38d4","webpack:///./src/views/index/index.vue?bc54","webpack:///./src/views/index/index.vue?fc16","webpack:///./src/views/index/IndexPool.vue?2daf","webpack:///./src/assets/images/arrow_b@3x.png","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./src/assets/images/record@3x.png","webpack:///./src/assets/images/close@2x.png","webpack:///./src/assets/images/close@3x.png","webpack:///./src/views/index/IndexOption.vue?0353"],"names":["module","exports","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","class","id","title","tabClick","type","src","alt","srcset","price","address","blockClick","active","blockName","to","showColumnsPicker","columnsValue","amount","changeAmount","placeholder","extra","wtType","changeWtType","initWallet","isOpen","line-width","records","item","investor","investType","openPrice","busdPerBeth","investAmount","isWin","income","investBlock","openBlock","Number","toFixed","show","position","columns","onColumnsConfirm","showModal","style","curMarketType","duration","minute","tokenAllowance","invest","size","approve","setup","store","data","marketType","state","accounts","web3","provider","BsnContract","BusdContract","windTokenContract","BsnDataContract","changeTab","val","value","index","initWeb3","initContract","eth","Contract","BSNAbi","config","BsnAddress","BusdAddress","BSNDataAbi","BsnDataAddress","windToken","initData","getMarketTypeIds","getEthUsdt","getTokenAllowance","getList","methods","allowance","result","console","log","arr","comlArr","ids","forEach","marketTypes","params","maxAmount","minAmount","push","getEthUsd","Math","pow","getUserInfo","userInfo","getBlockNumber","block","decimals","windeciams","_recordIds","getOrderById","order","getBlockPrice","getWin","canOpen","back","unshift","send","from","BN","utils","toString","refData","render","__scopeId","showDayPicker","dayValue","marketToTalMoney","curCycleIncome","userMarket","addpoolMoney","day","onDayConfirm","wAmount","markerRedeem","getCurCycleIncome","cur","getCurDayNum","dayNum","getCurCycleData","curAmount","_marketToTalMoney","marketInvest","marketProvide","addMarketPool","components","IndexOption","IndexPool","$","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError","that","global","ignoreCase","multiline","dotAll","unicode","sticky"],"mappings":"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","file":"static/js/chunk-ec6c6e04.07dfdcdb.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAJ1BMVEUAAABFKntFKnpVKoBFKnlFKnpFKnpEKnlEKnpEKXtFKXpAKoBFKno2lUxJAAAADHRSTlMAhbIGeO/ZpNhwbwxmN0n6AAAAWElEQVQY02OgGCwthjKYSycw5BwygHCMziQw+JxRhkjonHFgYDwDlAJLHASSMkApsIQAkAJJQSUgUlAJqBRYAiqlDZaASh0FScClQBIwKaAEAng4MFAfAACz1R8N41BpSAAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexOption.vue?vue&type=style&index=1&id=a0cefa0c&lang=less&scoped=true\"","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAOVBMVEUAAAAfx9Qfx9Uky9Iex9QYyc4fx9Qfx9QcxtUfx9QfyNQfx9Qfx9MeyNMcxtAfx9Qex9Qfx9Qfx9TWk5SmAAAAEnRSTlMA+oQGbgr0yBHcz8V6bxvQdtHGrpxGAAAAtElEQVQ4y+2Uyw6DIBBFHUCgPtvz/x9bE6cGdTQuurBJz3JymHAJuVVB7R7CgjxcXZnULRta23TscFvHhxSZ6Hwx65iIKRSzoWHGr66iw2ZYzqq326iMn2kACdm+Yw4CQcUE/XHqJyQVBfLxO2YQFYHqBOD3RCdsEGeKwo54eeM/9c1SizNEM3W8vPGmP/xrojbFIRli2T022j3rNrNYt5kfOeXly8Y9ZhyKdu1TxCSmft73BpxYJqN+c+7xAAAAAElFTkSuQmCC\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=5088e551&lang=less\"","<template>\r\n  <div class=\"container bg-container\" id=\"indexPage\">\r\n    <van-nav-bar\r\n      title=\"BSC期权\" />\r\n    <van-tabs @click=\"tabClick\" type=\"card\" class=\"fixed-tab\">\r\n      <!-- 期权 -->\r\n      <van-tab title=\"期权\" name=\"1\">\r\n        <index-option></index-option>\r\n      </van-tab>\r\n      <!-- 矿池 -->\r\n      <van-tab title=\"矿池\" name=\"2\">\r\n        <index-pool></index-pool>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs } from \"vue\";\r\nimport IndexOption from \"./IndexOption\";\r\nimport IndexPool from \"./IndexPool\";\r\nexport default {\r\n  components: {\r\n    IndexOption,\r\n    IndexPool\r\n  },\r\n  setup() {\r\n    const data = reactive({\r\n      tabClick: (name, title) => Toast(title),\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n#indexPage {\r\n  .van-cell {\r\n    height: 44px;\r\n    background: #EEEAF4;\r\n    border-radius: 22px;\r\n    font-size: 16px;\r\n    .van-field__control {\r\n      color: #452A7A;\r\n    }\r\n  }\r\n  .input-right {\r\n    font-size: 16px;\r\n    color: #1FC7D4;\r\n  }\r\n  .qq-block--tab>.van-tabs__wrap {\r\n    padding: 0 22px;\r\n  }\r\n  .qq-block--cont {\r\n    margin: 20px 15px;\r\n    background: #fff;\r\n    border-radius: 25px;\r\n    padding: 15px;\r\n    color: #8F80BA;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n    .cell-tit {\r\n      font-size: 16px;\r\n      line-height: 42px;\r\n      .cell-tit--right {\r\n        font-size: 14px;\r\n        color: #1FC7D4;\r\n      }\r\n    }\r\n    .cell-sellect {\r\n      height: 44px;\r\n      background: #EEEAF4;\r\n      border-radius: 22px;\r\n      padding: 0 16px;\r\n      color: #452A7A;\r\n      font-size: 16px;\r\n      margin-bottom: 12px;\r\n    }\r\n    .cell-type {\r\n      margin-bottom: 12px;\r\n      .btn + .btn {\r\n        margin-left: 14px;\r\n      }\r\n      .btn {\r\n        height: 44px;\r\n        line-height: 44px;\r\n        border-radius: 44px;\r\n        text-align: center;\r\n        color: #452A7A;\r\n        font-size: 16px;\r\n        background: #EEEAF4;\r\n        &.active-D4566C {\r\n          color: #fff;\r\n          background: #D4566C;\r\n        }\r\n        &.active-2FBBA1 {\r\n          color: #fff;\r\n          background: #2FBBA1;\r\n        }\r\n      }\r\n    }\r\n    .cell-msg {\r\n      font-size: 13px;\r\n      margin: 14px 0 0;\r\n    }\r\n    .cell-button {\r\n      margin: 30px 0 9px;\r\n    }\r\n    .cell-number {\r\n      margin: 0 -7px;\r\n      margin-bottom: 5px;\r\n      .item {\r\n        width: 33.33%;\r\n        padding: 0 7px 7px;\r\n        span {\r\n          display: block;\r\n          text-align: center;\r\n          line-height: 44px;\r\n          background: #EEEAF4;\r\n          border-radius: 22px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          color: #452A7A;\r\n        }\r\n        &.active {\r\n          span {\r\n            background: #1FC7D4;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .cell-balance {\r\n      margin: -5px 0 7px;\r\n      .num {\r\n        font-size: 25px;\r\n        color: #452A7A;\r\n        margin: 0 0 5px;\r\n      }\r\n      .info-item + .info-item {\r\n        margin: 0 15px;\r\n      }\r\n      .info-item:last-child {\r\n        text-align: right;\r\n      }\r\n      .info-item {\r\n        .tit {\r\n          font-size: 13px;\r\n        }\r\n        .num {\r\n          font-size: 20px;\r\n          margin: 2px 0 0;\r\n        }\r\n      }\r\n    }\r\n    .cell-tip {\r\n      margin: 10px 0 0;\r\n      font-size: 13px;\r\n      .cell-tip--link {\r\n        background: rgba(31, 199, 212, .2);\r\n        color: #1FC7D4;\r\n        padding: 0 13px;\r\n        height: 23px;\r\n        line-height: 23px;\r\n        border-radius: 12px;\r\n      }\r\n    }\r\n  }\r\n  .modal-box {\r\n    width: 315px;\r\n    background: #fff;\r\n    border-radius: 25px;\r\n    overflow: hidden;\r\n    color: #452A7A;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    .modal-close {\r\n      position: absolute;\r\n      top:0;\r\n      right: 0;\r\n      width: 52px;\r\n      height: 52px;\r\n    }\r\n    .modal-title {\r\n      line-height: 52px;\r\n      text-align: center;\r\n      font-size: 18px;\r\n    }\r\n    .modal-cont {\r\n      padding: 4px 17px 0;\r\n      .row + .row {\r\n        margin-top: 8px;\r\n      }\r\n      .label {\r\n        color: #8F80BA;\r\n      }\r\n      .cont {\r\n        word-break: break-all;\r\n      }\r\n    }\r\n    .modal-btn {\r\n      background: #1FC7D4;\r\n      margin-top: 24px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  padding-top: 107px !important;\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"indexOption\">\r\n    <div class=\"qq-chart\">\r\n      <div class=\"flex-middle coin-title\">BETH<img src=\"@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n      <div class=\"coin-num\">\r\n        <div class=\"flex-middle\">\r\n          <span class=\"price\">{{price}}BUSDT</span>\r\n          <!-- <span class=\"rate\">+1.23%</span> -->\r\n        </div>\r\n        <!-- <div class=\"s-price\">$2900.00</div> -->\r\n      </div>\r\n      <div class=\"coin-address\">\r\n        地址 {{address}}\r\n      </div>\r\n      <!-- <div class=\"chart-box border-1px-t\">\r\n        <div class=\"chart-btns flex\">\r\n          <span class=\"btn-item active\">24H</span>\r\n          <span class=\"btn-item\">近一周</span>\r\n          <span class=\"btn-item\">近一月</span>\r\n          <span class=\"btn-item\">近一年</span>\r\n          <span class=\"btn-item\">全部</span>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <van-tabs @click=\"blockClick\" v-model:active=\"blockName\" type=\"card\" class=\"qq-block--tab\">\r\n      <van-tab title=\"期权板块\" name=\"qq\">\r\n        <div class=\"qq-block--cont\">\r\n          <div class=\"cell-tit flex-between\">\r\n            请选择委托周期\r\n            <router-link class=\"cell-tit--right\" :to=\"{name: 'List'}\">历史记录</router-link>\r\n          </div>\r\n          <div class=\"cell-sellect flex-between\" @click=\"showColumnsPicker = true\">\r\n            {{columnsValue}}\r\n            <img src=\"@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\">\r\n          </div>\r\n          <div class=\"cell-tit\">请输入委托数量</div>\r\n          <div class=\"cell-number flex-wrap\">\r\n            <div class=\"item\" :class=\"{'active': amount == '100'}\" @click=\"changeAmount('100')\"><span>100BUSD</span></div>\r\n            <div class=\"item\" :class=\"{'active': amount == '200'}\" @click=\"changeAmount('200')\"><span>200BUSD</span></div>\r\n            <div class=\"item\" :class=\"{'active': amount == '1000'}\" @click=\"changeAmount('1000')\"><span>1000BUSD</span></div>\r\n          </div>\r\n          <van-field\r\n            class=\"mb15\"\r\n            type=\"number\"\r\n            v-model=\"amount\"\r\n            placeholder=\"请输入您的委托数量\">\r\n            <template #extra><span class=\"input-right\">BUSD</span></template>\r\n          </van-field>\r\n          <div class=\"cell-tit\">请选择委托方向：<span v-if=\"wtType === 1\" class=\"c-2FBBA1\">看涨</span><span v-if=\"wtType === 0\" class=\"c-D4566C\">看跌</span></div>\r\n          <div class=\"cell-type flex\" v-if=\"address\">\r\n            <div class=\"btn flex-item\" :class=\"{'active-2FBBA1': wtType === 1}\" @click=\"changeWtType(1)\">看涨</div>\r\n            <div class=\"btn flex-item\" :class=\"{'active-D4566C': wtType === 0}\" @click=\"changeWtType(0)\">看跌</div>\r\n          </div>\r\n          <div class=\"cell-type flex\" v-else>\r\n            <div class=\"btn flex-item active-D4566C\"  @click=\"initWallet\">连接钱包</div>\r\n          </div>\r\n          <div class=\"cell-msg\">注：一个地址在一个区块内仅接受<span class=\"c-1FC7D4\">一次转账</span>，且单笔转账不能超过<span class=\"c-1FC7D4\">100000BUSD</span>，超出将按照上限记录下单金额，多余部分在下一区块退回。</div>\r\n          <!-- <div class=\"cell-button\">\r\n            <van-button type=\"primary\" size=\"large\" @click=\"showModal = true\">确定</van-button>\r\n          </div> -->\r\n        </div>\r\n      </van-tab>\r\n      <van-tab title=\"流水记录\" class=\"ls\">\r\n        <div class=\"qq-block--record\">\r\n          <van-tabs v-model:active=\"isOpen\" class=\"qq-block--recordtab\" line-width=\"25px\">\r\n            <van-tab title=\"已开奖\"></van-tab>\r\n            <van-tab title=\"未开奖\"></van-tab>\r\n          </van-tabs>\r\n          <div>\r\n            <div class=\"record-item\" v-for=\"item in records\" v-show=\"item.isOpen == !isOpen\">\r\n              <div class=\"flex-between title\">\r\n                <div class=\"flex-item\">{{item.investor}}</div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.investType == 0 && item.openPrice != item.busdPerBeth\" >{{item.openPrice - item.busdPerBeth > 0 ? '错误' : '正确'}}</div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.openPrice == item.busdPerBeth\">返回本金</div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.investType == 1 && item.openPrice != item.busdPerBeth\">{{item.openPrice - item.busdPerBeth > 0 ? '正确' : '错误'}}</div>\r\n                <!-- <div class=\"status c-D4566C\">错误</div> -->\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\">委托方向：<span class=\"c-2FBBA1\">{{item.investType == 0 ? '看跌' : '看涨'}}</span></div>\r\n                <div class=\"flex-item text-r\">委托数量：{{item.investAmount}}BUSD</div>\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\" v-if=\"item.isWin\">委托本金：扣除</div>\r\n                <div class=\"flex-item\" v-else>委托本金：+{{item.income}}BUSD</div>\r\n                <div class=\"flex-item text-r\">区块：{{item.investBlock}}-{{item.openBlock}}</div>\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\" v-if=\"item.isWin\">额外获得：<span class=\"c-2FBBA1\">{{Number(item.income - item.investAmount).toFixed(2)}}BUSD</span></div>\r\n                <div class=\"flex-item\" v-else>额外获得：<span class=\"c-2FBBA1\">{{item.income}}WIND</span></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n  <!-- 选择委托周期 -->\r\n  <van-popup v-model:show=\"showColumnsPicker\" position=\"bottom\">\r\n    <van-picker\r\n      :columns=\"columns\"\r\n      @confirm=\"onColumnsConfirm\"\r\n      @cancel=\"showColumnsPicker = false\"\r\n    />\r\n  </van-popup>\r\n  <!-- 确认委托 -->\r\n  <van-popup v-model:show=\"showModal\" :style=\"{ background: 'transparent' }\">\r\n    <div class=\"modal-box\">\r\n      <div class=\"modal-title\">确认委托</div>\r\n      <div class=\"modal-close flex-center\" @click=\"showModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n      <div class=\"modal-cont\">\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">当前BETH起始价格：</div>\r\n          <div class=\"cont text-r flex-item\">{{price}}BUSD</div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托周期：</div>\r\n          <div class=\"cont text-r flex-item\">{{curMarketType.duration}}个块({{curMarketType.minute}}分钟)</div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托方向：</div>\r\n          <div class=\"cont text-r flex-item\">\r\n            <span class=\"c-2FBBA1\" v-if=\"wtType === 1\">看涨</span>\r\n            <span class=\"c-D4566C\" v-if=\"wtType === 0\">看跌</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托金额：</div>\r\n          <div class=\"cont text-r flex-item\">{{amount}}BUSD</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-btn\" v-if=\"Number(tokenAllowance)\">\r\n        <van-button type=\"primary\" @click=\"invest\" size=\"large\">确定</van-button>\r\n      </div>\r\n      <div class=\"modal-btn\" v-else>\r\n        <van-button type=\"primary\" @click=\"approve\" size=\"large\">授权BUSD</van-button>\r\n      </div>\r\n    </div>\r\n  </van-popup>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport { MaxUint256 } from \"@ethersproject/constants\";\r\nimport config from \"@/utils/config\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport {useStore} from \"vuex\";\r\nimport Web3 from \"web3\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      showModal: false,\r\n      price: '',\r\n      amount: '',\r\n      blockName: 'qq',\r\n      columns: [],\r\n      marketType: [],\r\n      curMarketType: null,\r\n      showColumnsPicker: false,\r\n      columnsValue: '请选择',\r\n      wtType: 1,\r\n      isOpen: false,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      BsnContract: null,\r\n      BusdContract: null,\r\n      tokenAllowance: 0,\r\n      records: [],\r\n      windTokenContract: null,\r\n      BsnDataContract: null,\r\n      changeTab: () => {\r\n        data.isOpen = !data.isOpen\r\n      },\r\n      changeWtType: (type) => {\r\n        data.wtType = type\r\n        if (!data.curMarketType) {\r\n          Toast('请选择委托周期')\r\n          return\r\n        }\r\n        if (!data.amount) {\r\n          Toast('请输入投资金额')\r\n          return\r\n        }\r\n        data.showModal = true\r\n      },\r\n      blockClick: (name, title) => Toast(title),\r\n      changeAmount: (val) => {\r\n        data.amount = val;\r\n      },\r\n      onColumnsConfirm: (value, index) => {\r\n        data.columnsValue = value;\r\n        data.showColumnsPicker = false;\r\n        data.curMarketType = data.marketType[index]\r\n      },\r\n       initWallet: () => {\r\n         web3Data.initWeb3()\r\n       },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.windTokenContract = new data.web3.eth.Contract(tokenAbi, config.windToken)\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getMarketTypeIds()\r\n        data.getEthUsdt()\r\n        data.getTokenAllowance()\r\n        data.getList()\r\n      },\r\n      getTokenAllowance: async () => {\r\n        let result = await data.BusdContract.methods.allowance(data.address, config.BsnAddress).call();\r\n        data.tokenAllowance = result\r\n      },\r\n      getMarketTypeIds: async() => {\r\n        console.log(data.BsnContract)\r\n        let arr = []\r\n        let comlArr = []\r\n        let ids = await data.BsnContract.methods.getMarketTypeIds().call()\r\n        console.log(ids)\r\n        ids.forEach(async item => {\r\n          let result = await data.BsnContract.methods.marketTypes(item).call()\r\n          let params = {\r\n            minute: result.minute,\r\n            duration: result.duration,\r\n            maxAmount: result.maxAmount,\r\n            minAmount: result.minAmount,\r\n          }\r\n          arr.push(params)\r\n          comlArr.push(`${result.duration}个块(${result.minute}分钟)`)\r\n        });\r\n        data.marketType = arr\r\n        data.columns = comlArr\r\n      },\r\n      getEthUsdt: async () => {\r\n        let result = await data.BsnContract.methods.getEthUsd().call();\r\n        let price = result / Math.pow(10, 10);\r\n        data.price = Number(price).toFixed(4);\r\n      },\r\n      getList: async () => {\r\n        let userInfo = await data.BsnDataContract.methods.getUserInfo(data.address).call();\r\n        let block = await data.web3.eth.getBlockNumber()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let windeciams = await data.windTokenContract.methods.decimals().call();\r\n        console.log(userInfo)\r\n        userInfo._recordIds.forEach(async (item) => {\r\n          let order = await data.BsnDataContract.methods.getOrderById(item).call();\r\n          let price = await data.BsnContract.methods.getBlockPrice(order.openBlock).call()\r\n          let result = await data.BsnContract.methods.getWin(item).call()\r\n          console.log(result)\r\n          if (price > 0 &&  block >= order.openBlock && !order.isOpen) {\r\n            order.canOpen = true;\r\n          }\r\n          if (price > 0 &&  block >= order.openBlock) {\r\n            if (result.back > 0) {\r\n              order.income = Number(result.back/Math.pow(10, decimals)).toFixed(2)\r\n              order.isWin = true;\r\n            } else {\r\n              order.income = Number(result.back/Math.pow(10, windeciams)).toFixed(2)\r\n              order.isWin = false\r\n            }\r\n          }\r\n          if (price <=0) {\r\n            order.canOpen = false;\r\n          }\r\n          console.log(order)\r\n          order.id = item;\r\n          order.openPrice = price;\r\n          order.investAmount =Number(order.investAmount / Math.pow(10, decimals)).toFixed(2)\r\n          data.records.unshift(order)\r\n        })\r\n      },\r\n      approve: async () => {\r\n        let result = await data.BusdContract.methods.approve(config.BsnAddress, MaxUint256).send({from: data.address});\r\n        data.getTokenAllowance()\r\n      },\r\n      invest: async () => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let BN = Web3.utils.BN;\r\n        console.log(decimals)\r\n        let amount = new BN(data.amount * Math.pow(10, decimals)).toString();\r\n        let result = await data.BsnContract.methods.invest(data.wtType, data.curMarketType.minute, amount).send({from: data.address});\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n#indexOption {\r\n  .qq-block--recordtab {\r\n    margin-bottom: 10px;\r\n    border-radius: 13px;\r\n    overflow: hidden;\r\n    .van-tabs__nav {\r\n      background: #EEEAF4;\r\n      .van-tab {\r\n        color: #AFA4CC;\r\n      }\r\n      .van-tab--active {\r\n        color: #1FC7D4;\r\n      }\r\n      .van-tabs__line {\r\n        bottom: 18px;\r\n        background: #1FC7D4;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  padding-top: 107px !important;\r\n}\r\n.mb15 {\r\n  margin-bottom: 15px;\r\n}\r\n.qq-chart {\r\n  margin: 20px 15px;\r\n  background: #fff;\r\n  border-radius: 25px;\r\n  padding: 20px 0 10px;\r\n  .coin-title {\r\n    font-size: 25px;\r\n    color: #452A7A;\r\n    font-weight: bold;\r\n    padding: 0 20px;\r\n    .icon_arrow {\r\n      width: 12px;\r\n      height: 12px;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n  .coin-num {\r\n    padding: 0 20px;\r\n    .price {\r\n      font-size: 25px;\r\n      color: #452A7A;\r\n      font-weight: bold;\r\n    }\r\n    .rate {\r\n      margin-left: 19px;\r\n      height: 23px;\r\n      line-height: 23px;\r\n      background: rgba(31, 199, 212, .2);\r\n      border-radius: 12px;\r\n      padding: 0 12px;\r\n      font-size: 14px;\r\n      color: #1FC7D4;\r\n      font-weight: bold;\r\n    }\r\n    .s-price {\r\n      font-size: 14px;\r\n      color: #8F80BA;\r\n    }\r\n  }\r\n  .coin-address {\r\n    margin: 10px 15px 21px;\r\n    background: rgba(238, 234, 244, .4);\r\n    padding: 8px 12px;\r\n    border-radius: 17px;\r\n    color: #8F80BA;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n    word-break: break-all\r\n  }\r\n  .chart-box {\r\n    padding: 10px 15px;\r\n    .chart-btns {\r\n      overflow: auto;\r\n      .btn-item {\r\n        font-size: 12px;\r\n        font-weight: bold;\r\n        color: #1FC7D4;\r\n        line-height: 20px;\r\n        padding: 0 13px;\r\n        margin: 0 7px 10px 0;\r\n        white-space: nowrap;\r\n        &:last-child {\r\n          margin: 0;\r\n        }\r\n        &.active {\r\n          color: #fff;\r\n          background: #1FC7D4;\r\n          border-radius: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.qq-block--record {\r\n  background: #fff;\r\n  border-radius: 25px;\r\n  margin: 20px 15px;\r\n  padding: 20px 15px;\r\n  .record-item + .record-item {\r\n    margin-top: 15px;\r\n  }\r\n  .record-item {\r\n    background: #EEEAF4;\r\n    border-radius: 13px;\r\n    padding: 0 12px 8px;\r\n    font-size: 12px;\r\n    color: #8F80BA;\r\n    line-height: 20px;\r\n    word-break: break-all;\r\n    .title {\r\n      color: #452A7A;\r\n      font-size: 15px;\r\n      font-weight: bold;\r\n      padding: 15px 0 7px;\r\n      word-break: break-all;\r\n      .status {\r\n        white-space: nowrap;\r\n        color: #1FC7D4;\r\n        font-size: 13px;\r\n        margin-left: 15px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./IndexOption.vue?vue&type=template&id=a0cefa0c&scoped=true\"\nimport script from \"./IndexOption.vue?vue&type=script&lang=js\"\nexport * from \"./IndexOption.vue?vue&type=script&lang=js\"\n\nimport \"./IndexOption.vue?vue&type=style&index=0&id=a0cefa0c&lang=less\"\nimport \"./IndexOption.vue?vue&type=style&index=1&id=a0cefa0c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a0cefa0c\"\n\nexport default script","<template>\r\n  <div id=\"indexPool\">\r\n    <div class=\"wind-block qq-block--cont\">\r\n      <div class=\"title\">\r\n        冻结wind token\r\n        <router-link class=\"flex-center t-right\" :to=\"{name: 'ListFreeze'}\">\r\n          <img src=\"@/assets/images/record@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/record@3x.png')} 3x`\" class=\"icon-record\">\r\n        </router-link>\r\n      </div>\r\n      <van-field\r\n        class=\"mb15\"\r\n        type=\"number\"\r\n        placeholder=\"请输入冻结wind token 的数量\">\r\n      </van-field>\r\n      <div class=\"cell-sellect flex-between\" @click=\"showDayPicker = true\">\r\n        {{dayValue}}\r\n        <img src=\"@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\">\r\n      </div>\r\n      <div class=\"cell-tip flex-between\">\r\n        <div>已冻结：<span class=\"c-1FC7D4\">526.00wind token</span></div>\r\n      </div>\r\n      <div class=\"cell-button\">\r\n        <van-button type=\"primary\" size=\"large\">确定</van-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"dividend-block\">\r\n      <div class=\"tit\">累积分红</div>\r\n      <router-link class=\"flex-center t-right\" :to=\"{name: 'ListPool'}\">\r\n        <img src=\"@/assets/images/record@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/record@3x.png')} 3x`\" class=\"icon-record\">\r\n      </router-link>\r\n      <div class=\"num\">0 BUSD</div>\r\n    </div>\r\n    <div class=\"qq-block--cont\">\r\n      <div class=\"cell-tit flex-between\">\r\n        做市商资金池余额(BUSD)\r\n        <span class=\"cell-tit--right\">记录</span>\r\n      </div>\r\n      <div class=\"cell-balance\">\r\n        <div class=\"num\">{{marketToTalMoney > curCycleIncome ? curCycleIncome : marketToTalMoney}}</div>\r\n        <div class=\"flex-between\">\r\n          <div class=\"info-item flex-item\">\r\n            <p class=\"tit\">做市商资金池当日盈利</p>\r\n            <p class=\"num c-2FBBA1\">{{Number(curCycleIncome - marketToTalMoney).toFixed(2)}}</p>\r\n          </div>\r\n          <div class=\"info-item flex-item\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"cell-tit\">委托数量</div>\r\n      <van-field\r\n        type=\"number\"\r\n        v-model=\"amount\"\r\n        placeholder=\"请输入您的委托数量\">\r\n        <template #extra><span class=\"input-right\">BUSD</span></template>\r\n      </van-field>\r\n      <div class=\"cell-tip flex-between\">\r\n        <span>用户做市商总额：{{userMarket}}BUSD</span>\r\n        <span class=\"cell-tip--link\" @click=\"showModal = true\">赎回</span>\r\n      </div>\r\n      <div class=\"cell-button\">\r\n        <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n        <van-button type=\"primary\" size=\"large\" v-else-if=\"!Number(tokenAllowance)\" @click=\"approve\">授权BUSD</van-button>\r\n        <van-button type=\"primary\" :block=\"true\" size=\"large\" v-else @click=\"addpoolMoney\">确定</van-button>\r\n      </div>\r\n    </div>\r\n    <!-- 冻结天数 -->\r\n    <van-popup v-model:show=\"showDayPicker\" position=\"bottom\">\r\n      <van-picker\r\n        :columns=\"day\"\r\n        @confirm=\"onDayConfirm\"\r\n        @cancel=\"showDayPicker = false\"\r\n      />\r\n    </van-popup>\r\n    <!-- 赎回 -->\r\n    <van-popup v-model:show=\"showModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">赎回</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>赎回数量</div>\r\n            <div class=\"c-1FC7D4\">上限：{{userMarket}}</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"wAmount\"\r\n            placeholder=\"请输入赎回wind token\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"markerRedeem\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nimport { MaxUint256 } from \"@ethersproject/constants\";\r\nimport config from \"@/utils/config\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport {useStore} from \"vuex\";\r\nimport Web3 from \"web3\";\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      day: [\r\n        '3天',\r\n        '4天'\r\n      ],\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      BsnContract: null,\r\n      amount: '',\r\n      BusdContract: null,\r\n      tokenAllowance: 0,\r\n      marketToTalMoney: 0,\r\n      userMarket: 0,\r\n      wAmount: '',\r\n      curCycleIncome: 0,\r\n      showModal: false,\r\n      showDayPicker: false,\r\n      dayValue: '3天',\r\n      onDayConfirm: (value) => {\r\n        data.dayValue = value;\r\n        data.showDayPicker = false;\r\n      },\r\n      initWallet: () => {\r\n         web3Data.initWeb3()\r\n      },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.initData()\r\n      },\r\n       initData: () => {\r\n         data.getCurCycleIncome()\r\n         data.getUserInfo()\r\n         data.getTokenAllowance()\r\n      },\r\n      getCurCycleIncome: async () => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let cur =  await data.BsnContract.methods.getCurCycleIncome().call();\r\n        console.log(cur)\r\n        let dayNum = await data.BsnDataContract.methods.getCurDayNum().call()\r\n        let marketToTalMoney = await data.BsnDataContract.methods.getCurCycleData(dayNum).call();\r\n        console.log('marketToTalMoney----', marketToTalMoney)\r\n        data.curCycleIncome = Number(cur.curAmount / Math.pow(10, decimals)).toFixed(2)\r\n        data.marketToTalMoney = \r\n        marketToTalMoney._marketToTalMoney > 0 ? Number(marketToTalMoney._marketToTalMoney / Math.pow(10, decimals)).toFixed(2) : Number(cur.marketInvest / Math.pow(10, decimals)).toFixed(2)\r\n      },\r\n      getUserInfo: async () => {\r\n        let  userInfo = await data.BsnDataContract.methods.getUserInfo(data.address).call();\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        data.userMarket = Number(userInfo.marketProvide / Math.pow(10, decimals)).toFixed(2);\r\n      },\r\n      addpoolMoney: async () => {\r\n        if (data.amount < 1000) {\r\n          Toast('数量必须大于等于1000')\r\n          return\r\n        }\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let BN = Web3.utils.BN;\r\n        let amount = new BN(data.amount * Math.pow(10, decimals)).toString();\r\n        let result = await data.BsnContract.methods.addMarketPool(amount).send({from: data.address});\r\n      },\r\n      approve: async () => {\r\n        let result = await data.BusdContract.methods.approve(config.BsnAddress, MaxUint256).send({from: data.address});\r\n        data.getTokenAllowance()\r\n      },\r\n      getTokenAllowance: async () => {\r\n        let result = await data.BusdContract.methods.allowance(data.address, config.BsnAddress).call();\r\n        data.tokenAllowance = result;\r\n      },\r\n      markerRedeem: async () => {\r\n        if (data.wAmount <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let BN = Web3.utils.BN;\r\n        let amount = new BN(data.wAmount * Math.pow(10, decimals)).toString();\r\n        let result = await data.BsnContract.methods.markerRedeem(amount).send({from: data.address});\r\n      },\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.qq-block--cont {\r\n  margin: 15px !important;\r\n}\r\n.mb15 {\r\n  margin-bottom: 15px;\r\n}\r\n.t-right {\r\n  width: 52px;\r\n  height: 52px;\r\n  position: absolute;\r\n  top: 9px;\r\n  right: 0;\r\n  .icon-record {\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n}\r\n.wind-block {\r\n  position: relative;\r\n  .title {\r\n    font-size: 21px;\r\n    line-height: 40px;\r\n    color: #8F80BA;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 13px;\r\n  }\r\n}\r\n.dividend-block {\r\n  position: relative;\r\n  background: #fff;\r\n  margin: 15px;\r\n  border-radius: 25px;\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  color: #8F80BA;\r\n  padding: 23px 16px 15px;\r\n  .num {\r\n    font-size: 25px;\r\n    color: #452A7A;\r\n  }\r\n}\r\n.modal-tip {\r\n  font-size: 14px;\r\n  color: #8F80BA;\r\n  margin-bottom: 10px;\r\n}\r\n.modal-box .modal-btn {\r\n  margin-top: 30px !important;\r\n}\r\n</style>","import { render } from \"./IndexPool.vue?vue&type=template&id=3311e03c&scoped=true\"\nimport script from \"./IndexPool.vue?vue&type=script&lang=js\"\nexport * from \"./IndexPool.vue?vue&type=script&lang=js\"\n\nimport \"./IndexPool.vue?vue&type=style&index=0&id=3311e03c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3311e03c\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=5088e551&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5088e551&lang=less\"\nimport \"./index.vue?vue&type=style&index=1&id=5088e551&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5088e551\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=5088e551&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexPool.vue?vue&type=style&index=0&id=3311e03c&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAVFBMVEUAAABFKnpFKXpSP5ZFKnpFKnpBKn9FKnpFLHtEKnpCKXtFKnpFKntFKnpLLXhILHpEKHpFKnpFKXtDKXpGKHlFKnlGK3tFKXlEKXpHK3xEK3pFKnoS1nEEAAAAG3RSTlMA7ocE9WYLzzrCH9dVsREuJ8d0LhbfoKBeSEdTsvMfAAAAlElEQVQ4y+3NyxLCIAyF4bQCvViVXrzm/d/TKMO4+GHprmcTmJzJJ3skTMvzUN1ufllt+EYbX2udB6ddFJlVtZnKrXGwpXuI3GxWbo2n7+4lErvcoqWftMHe/VGzSEtdm3797xYsZ3dSLrlVsSwQaUEsWRRpUYRVFmlR3GhRvNKimK1a1tSCRZEWRVpMvM8+yJ7/5Q2c0hJAWZ1VrQAAAABJRU5ErkJggg==\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAh1BMVEUAAAAexdMit8cfx9QeyNUfx9Qfx9Qhx88fx9Qex9Qfx9QfyNUex9UfyNQeyNQfx9QfxNAivdMfx9QfyNQgxtIextUex9Qex9Qex9Qfx9Udx9Mex9Ufx9Uex9Uex9Mfx9Qex9QeyNUfy9cdxtMfydMex9QfyNQex9Qcxtcbv9Eeydsgv98fx9TtjM00AAAALHRSTlMAgAP6h/F6D/zayuB+6MQmFAX39DMMn5dzX1hSjGdD67qwKSI40ms/LRwVCCtVfaAAAAGmSURBVEjH7ZfZkoIwEEVlgIQAsm+CbOJu/v/7ZtrSRGBi4GmcKu4bSR/odN+iOquR/J1GVDqQSrSdv5IKI4v+KgthGeujgAoUINm3z2sq1PosxL7cPLOVFqIcTRlIc2C9VdAxd7/GrJda+qNODt/nb3YeldOt1Btunghl0jjLA7SX0lX9gIpQriQew3FCuUjVy7nXHj2LR2ym99rmveSU3osJPshVKpSa/zhoe29HyhN3LWALWLg2Yrjx4EMF0JbL4FznZYqIiCURL52eMziDXJ/vurTrYEwG6/byzBNOkDHYhm12Cn9f2spAqNz7rEIQbTNYgcfVZEG0ssB/DUemQQUyzEgCm/SNHAmsv4N1CbwNxWyoSWC8sRWB7A3+2FYtJllM8sHwyCThFnNstknCDcdmm8TIODbXJAbZc2yuSdDpP7RqgafACPwcT2UxwIg9ljB4FVPhAsayks+8NfwavWmsB5N3XfGZ1oShLulucvTWJTAumvFLJrBAD6kiVXqASLUYzPFyie4COAmmo2qCB2VAZCpL0HV0A+nKpjZkoFE3x47l/A32Zsn694VFeQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAALVBMVEUAAABGKH1EKntFKnpFKnpJJHlFKnpFKnlEKnlFKnpFKnpFKnpFKnpFKntFKnqqnya1AAAADnRSTlMAEc7UyBW66WX18bHDcuUs0UMAAAB8SURBVBjTLc6xCYVAFETRMfj58gNzG7AEwRoEcxswtgO7MDYSbMTcVEQD4dUgcudFu5zgjvZOvnbWdCTev+pWHwWfJh7940hA1MrKKIAzCQIEGSDABJgAE2ACHKflODMc9wziXkg8MxE3EYcAyGDaPoAuLR9At8ZVvnx4AQGZS0evcNKCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAP1BMVEUAAABlAIBDKHlFKntEKXpEKnlFKnpFKnpELHxFKnpDK3lFK3lFKnpFKnpFKnpFKXpFKntFK3lEKnpFKXpFKnpQ3U6VAAAAFHRSTlMAAjngMtDl20DHKju0+eqpITO+oLO9whQAAADGSURBVDjLddRJDoMwDEBRk4SxmQDf/6xlUBWp3/EO2dJb8BWpMR37IJ0Z3JpKlaiqo+sdLeO1LpL0Gh/sm890b7Mc+ly5wbCW6VlG2UfVJtJSXTcZnNcm0tI53Mjum0hr3t5v10RaP+BPpPVOaKJpUaQF0bQowrJEWJYIyxJpUaRFEVavDZbD/8Vy2AbLoTV7imwD5VhtoBx2yHJooZx+hxDZIUVaEC0LIi1TdLAgBllhQYySYEHMUmBBPKWWHLf+cxhiPusX/W8fAlNsnmkAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexOption.vue?vue&type=style&index=0&id=a0cefa0c&lang=less\""],"sourceRoot":""}