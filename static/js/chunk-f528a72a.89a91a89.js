(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f528a72a"],{"076b":function(e,t,n){"use strict";n.r(t);n("a9e3");var a=n("7a23"),c=Object(a["N"])("data-v-3124b424");Object(a["A"])("data-v-3124b424");var r={class:"container bg-container"},s={class:"list"},i={class:"item flex-middle"},o={class:"flex-item"},d={class:"flex row"},u=Object(a["i"])("div",{class:"label"},"结算周期：",-1),l={class:"flex-item cont"},b={class:"flex row"},f=Object(a["i"])("div",{class:"label"},"分红数量：",-1),v={class:"flex-item cont"},j={key:1,class:"num c-2FBBA1"};Object(a["y"])();var O=c((function(e,t,n,c,O,w){var m=Object(a["E"])("van-nav-bar");return Object(a["x"])(),Object(a["f"])("div",r,[Object(a["i"])(m,{"left-arrow":"",title:"矿池分红记录",onClickLeft:e.$goBack},null,8,["onClickLeft"]),Object(a["i"])("div",s,[(Object(a["x"])(!0),Object(a["f"])(a["a"],null,Object(a["D"])(e.records,(function(t){return Object(a["x"])(),Object(a["f"])("div",i,[Object(a["i"])("div",o,[Object(a["i"])("div",d,[u,Object(a["i"])("div",l,Object(a["H"])(t.dayNum),1)]),Object(a["i"])("div",b,[f,Object(a["i"])("div",v,Object(a["H"])(t.amount)+" Wind Token",1)])]),!t.isGive&&Number(t.amount)?(Object(a["x"])(),Object(a["f"])("div",{key:0,class:"btn",onClick:function(n){return e.getDividends(t.dayNum)}},"领取",8,["onClick"])):(Object(a["x"])(),Object(a["f"])("div",j,"已领取"))])})),256))])])})),w=n("5530"),m=n("1da1"),C=(n("96cf"),n("b680"),n("d9d1")),x=n("722f"),h=n("01ea"),p=n("5502"),k=n("901e"),B=n.n(k),g=n("fb9e"),D={setup:function(){var e=Object(p["b"])(),t=Object(a["B"])({records:[],address:Object(a["d"])((function(){return e.state.accounts[0]})),web3:Object(a["d"])((function(){return e.state.provider})),BsnContract:null,BusdContract:null,freezeContract:null,windTokenContract:null,BsnDataContract:null,initContract:function(){t.BsnContract=new t.web3.eth.Contract(C,h["a"].BsnAddress),t.BusdContract=new t.web3.eth.Contract(x,h["a"].BusdAddress),t.BsnDataContract=new t.web3.eth.Contract(g,h["a"].BsnDataAddress),t.windTokenContract=new t.web3.eth.Contract(x,h["a"].windToken),t.initData()},initData:function(){t.getList()},getList:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var n,a,c,r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.BsnDataContract.methods.getCurDayNum().call();case 3:return a=e.sent,e.next=6,t.windTokenContract.methods.decimals().call();case 6:c=e.sent,r=1;case 8:if(!(r<a)){e.next=20;break}return e.next=11,t.BsnContract.methods.getDividends(r).call({from:t.address});case 11:return s=e.sent,e.next=14,t.BsnDataContract.methods.isDividend(t.address,r).call({from:t.address});case 14:i=e.sent,o={amount:new B.a(s).dividedBy(Math.pow(10,c)).toFixed(3),isGive:i,dayNum:r},n.push(o);case 17:r++,e.next=8;break;case 20:t.records=n,console.log(n);case 22:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getDividends:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.web3.eth.getGasPrice();case 2:return a=e.sent,e.next=5,t.BsnContract.methods.receiveDividends(n).send({from:t.address,gasPrice:a});case 5:t.getList();case 6:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()});t.address&&t.initContract(),Object(a["L"])((function(){return t.address}),(function(e){e&&t.initContract()}));var n=Object(a["I"])(t);return Object(w["a"])({},n)}};n("92c8");D.render=O,D.__scopeId="data-v-3124b424";t["default"]=D},"48fa":function(e,t,n){},"92c8":function(e,t,n){"use strict";n("48fa")}}]);
//# sourceMappingURL=chunk-f528a72a.89a91a89.js.map