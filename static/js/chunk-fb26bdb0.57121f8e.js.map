{"version":3,"sources":["webpack:///./src/assets/images/arrow_b@2x.png","webpack:///./src/views/index/index.vue?1f7c","webpack:///./src/views/index/IndexOption.vue?fc19","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/assets/images/record@2x.png","webpack:///./src/assets/images/back@2x.png","webpack:///./src/views/index/index.vue","webpack:///./src/views/index/IndexOption.vue","webpack:///./node_modules/@ethersproject/constants/lib.esm/addresses.js","webpack:///./src/views/index/IndexOption.vue?704c","webpack:///./src/views/index/IndexPool.vue","webpack:///./src/views/index/IndexPool.vue?38d4","webpack:///./src/views/index/index.vue?bc54","webpack:///./src/assets/images/arrow_b@3x.png","webpack:///./src/assets/images/arr_g.png","webpack:///./src/views/index/index.vue?dc2d","webpack:///./src/assets/images/share.png","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/index/IndexOption.vue?ba0d","webpack:///./src/assets/images/arr_y.png","webpack:///./src/assets/images/record@3x.png","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/index/IndexPool.vue?ca73","webpack:///./src/assets/images/close@2x.png","webpack:///./src/assets/images/close@3x.png","webpack:///./node_modules/@antv/f2/dist/f2.js"],"names":["module","exports","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","class","id","src","alt","active","tabsActive","tabClick","type","title","$router","push","style","autoplay","vertical","show-indicators","records","item","investor","income","windIncome","srcset","price","blockName","to","showColumnsPicker","columnsValue","amount","changeAmount","placeholder","extra","curMarketType","minAmount","Math","pow","maxAmount","address","wtType","changeWtType","initWallet","recordType","changeTab","line-width","wtRecords","Number","busdPerBeth","toFixed","isOpen","openPrice","openBlock","investBlock","minute","investAmount","investType","canOpen","openOrder","isWin","show","position","columns","onColumnsConfirm","showModal","duration","tokenAllowance","invest","size","approve","AddressZero","setup","store","data","marketType","state","accounts","web3","provider","intro","get","BsnContract","BusdContract","windTokenContract","BsnDataContract","console","log","methods","decimals","balanceOf","balance","val","value","index","initWeb3","initContract","eth","Contract","BSNAbi","config","BsnAddress","BusdAddress","BSNDataAbi","BsnDataAddress","windToken","initData","getMarketTypeIds","getEthUsdt","getTokenAllowance","getWtList","getList","allowance","result","arr","comlArr","ids","forEach","marketTypes","params","getEthUsd","getUserInfo","userInfo","getBlockNumber","block","windeciams","_recordIds","getOrderById","order","getBlockPrice","getWin","back","winTokenAmount","unshift","sort","a","b","investTime","getGasPrice","gasPrice","openAward","send","from","getAllrecord","recordIds","BN","utils","toString","isAddress","date","tag","chart","Chart","pixelRatio","window","devicePixelRatio","padding","tickCount","min","formatter","tooltip","showCrosshairs","showItemMarker","onShow","ev","items","axis","label","text","total","textCfg","textAlign","textBaseline","line","color","point","fill","lineWidth","render","refData","__scopeId","totalMarketWind","marketToTalMoney","curCycleIncome","showCyModal","userMarket","marketIncome","isGet","receiveMarketIncome","freezeTokenNum","userBlance","showDjModal","showShModal","totalPool","yesPool","freezeIncome","getReward","showDayPicker","day","onDayConfirm","addpoolMoney","wAmount","markerRedeem","userWindBlance","windAmount","windAllowance","freezeToken","approveWind","shAmount","withdrawFreezeToken","freezeContract","dayValue","freezeAbi","frozen","getCurCycleIncome","getFreezeToken","getMarketIncome","getTotalData","getFreezeIncome","decimalsWind","Promise","all","dividedToIntegerBy","cur","getCurDayNum","dayNum","getCurCycleData","yesMarketToTalMoney","curAmount","curDayMarketTotal","poolAmount","getProportion","proportion","marketProvide","multipliedBy","addMarketPool","wResult","stake","withdraw","earned","dividedBy","totalSupply","blance","curNum","getUserDayMarket","userNum","isDividend","_windToken","_marketToTalMoney","components","IndexOption","IndexPool","route","router","selectIds","showSelect","checkboxGroup","checkAll","query","replace","$","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError","DESCRIPTORS","defineProperty","FunctionPrototype","Function","FunctionPrototypeToString","nameRE","NAME","configurable","match","error","factory","isArrayLike","isFinite","contains","indexOf","filter","func","isType","isFunction","isNil","Array","each","elements","rst","hasOwnProperty","keys","Object","obj","key","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","find","predicate","_predicate","getRange","values","filterValues","v","isNaN","max","tmp","apply","isString","str","uniq","resultArr","head","o","last","fixedBase","base","round","substr","parseFloat","isNumber","toString$1","lowerFirst","charAt","toLowerCase","substring","substitute","slice","upperFirst","toUpperCase","toString$2","getType","isBoolean","isDate","objectProto","isPrototype","Ctor","constructor","_mix","dist","mix","src1","src2","src3","MAX_MIX_LEVEL","_deepMix","level","maxLevel","deepMix","args","_i","m","isEmpty","isEqual","other","valueKeys","otherKeys","map","merge","dataArray","tmpMap","firstValue","groupToMap","fields","0","callback","row","unique","l","groups","group","appendConditions","_values","remove","splice","getRange$1","freeze","__proto__","supportsEventListenerOptions","supports","options","addEventListener","e","eventListenerOptions","passive","isWx","wx","getSystemInfoSync","isMy","my","isNode","global","isBrowser","document","sessionStorage","isCanvasElement","el","nodeType","nodeName","getPixelRatio","getStyle","property","currentStyle","defaultView","getComputedStyle","getPropertyValue","getWidth","width","offsetWidth","getHeight","height","offsetHeight","getDomById","getElementById","getRelativePosition","canvas","canvasDom","_canvasDom$getBoundin","getBoundingClientRect","top","left","paddingLeft","paddingTop","mouseX","x","mouseY","y","listener","removeEventListener","landscapePoint","landscape","convertPoints","touches","clientX","clientY","changedTouches","points","touch","_point","createEvent","event","measureText","font","ctx","createElement","getContext","isObjectValueEqual","assign","aProps","getOwnPropertyNames","bProps","propName","parsePadding","right","bottom","directionEnabled","mode","dir","toTimeStamp","Date","getTime","Util","color1","color2","defaultAxis","fontSize","stroke","grid","lineDash","tickLine","labelOffset","Theme","fontFamily","defaultColor","appendPadding","colors","shapes","sizes","common","circle","radius","shape","lineJoin","lineCap","area","fillOpacity","_defaultAxis","lang","general","withTitle","coord","cartesian","scale","linear","cat","timeCat","geometry","prefix","oneData","partData","allData","legend","Global","version","scales","widthRatio","column","rose","multiplePie","_defineProperty","enumerable","writable","_extends","_inheritsLoose","subClass","superClass","create","_assertThisInitialized","self","ReferenceError","setTheme","theme","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_DATA_CHANGE","EVENT_AFTER_DATA_CHANGE","EVENT_AFTER_SIZE_CHANGE","EVENT_AFTER_GEOM_INIT","EVENT_BEFORE_GEOM_DRAW","EVENT_AFTER_GEOM_DRAW","EVENT_CLEAR","EVENT_CLEAR_INNER","EVENT_REPAINT","EventEmit","__events","_proto","on","events","emit","_this","off","Base","_Emit","cfg","defaultCfg","getDefaultCfg","_attrs","set","destroy","destroyed","Plot","_init","start","end","xMin","xMax","yMin","yMax","tl","tr","bl","br","reset","isInRange","Matrix","generateDefault","isChanged","multiply","m1","m2","m11","m12","m21","m22","dx","dy","out","rotate","radian","c","cos","s","sin","translate","transform","actions","action","Vector2","sqrt","normalize","add","v1","v2","sub","dot","direction","angle","theta","acos","angleTo","angleLargeThanPI","PI","zero","distance","clone","transformMat2d","defaultMatrix","Base$1","_initDefaultCfg","plot","init","_scale","s1","s2","matrix","center","convertPoint","_this$_convertPoint","_convertPoint","vector","invertPoint","_invertPoint","Cartesian","_Base","transposed","isRect","xDim","yDim","toScaleString","invert","Rect","AttributeBase","method","mixedCallback","defaultCallback","userCallback","_len","_key","ret","_getAttrValue","isCategory","percent","getLinearValue","steps","step","floor","leftPercent","rstValue","getNames","names","getFields","field","getScale","mapping","_len2","_key2","_toOriginParam","param","isLinear","Position","rstX","rstY","scaleX","scaleY","j","xLen","yLen","yVal","xVal","Shape","gradient","Size","getValue","arr2hex","toRGBValue","calColor","rgb","hex2arr","parseInt","colorCache","black","blue","grey","green","orange","pink","purple","red","white","yellow","toHex","hex","r","g","shift","split","Color","gradient$1","Attr","Shape$1","ShapeBase","_coord","draw","container","drawShape","setCoord","parsePoint","isPolar","parsePoints","ShapeFactoryBase","defaultShapeType","getShape","getShapePoints","fn","getPoints","getDefaultPoints","_mix$1","registerFactory","factoryName","className","geomObj","registerShape","shapeType","shapeObj","registShape","getShapeFactory","mix$1","mix_1","Adjust","adjustNames","processAdjust","generateScaleAria","join","getText","generateCoordAria","xScale","yScale","xLabel","yLabel","GROUP_ATTRS","FIELD_ORIGIN","FIELD_ORIGIN_Y","parseFields","Geom","styleOptions","generatePoints","attrOptions","sortable","startOnZero","visible","connectNulls","ignoreEmptyGroup","isInit","_initAttrs","_processData","_getGroupScales","attrName","attr","getAttr","attrScales","_groupData","colDefs","groupScales","_setAttrOptions","attrCfg","_createAttr","_createAttrOption","defaultValues","option","_createScale","hasAdjust","change","nice","createScale","groupedArray","getYScale","some","subData","tempData","_saveOrigin","_numberic","_adjustData","_sort","origin","positionAttr","count","adjust","adjustType","Error","getXScale","xField","yField","adjustObject","_updateStackRange","mergeArray","tmpMin","tmpMax","mappedArray","itemArr","obj1","obj2","paint","shapeFactory","_beforeMapping","mappedData","_mapping","generateAria","mappedCache","record","mappedRecord","_getAttrValues","_name","getAttrValue","_generatePoints","isInCircle","getCallbackCfg","tmpCfg","getDrawCfg","opacity","nextPoints","_origin","shapeData","gShape","shapeAttr","createShapePointsCfg","nextData","aria","ariaLables","coordAriaLabel","_lang$geometry","groupScale","prefixLabel","firstObj","template","xValue","yValue","part","_normalizeValues","y0","getYMinValue","_getSnap","getSnapRecords","xfield","invertPointX","rangeMax","rangeMin","originValue","_isEqual","getRecords","animate","changeData","clearInner","clear","_display","hide","methodCache","getTickMethod","registerTickMethod","Scale","isContinuous","isIdentity","range","ticks","__cfg__","initCfg","getTicks","tick","idx","tickValue","res","getConfig","setDomain","calculateTicks","tickMethod","calcPercent","NaN","calcValue","extendStatics","d","setPrototypeOf","__extends","__","__spreadArrays","il","jl","Category","_super","scaledValue","domainRange","includes","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","_a","args_1","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","ZZ","offset","getTimezoneOffset","abs","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","now","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","literals","$0","$1","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","hour","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","regex","requiredField","matches","parser","dateWithoutTZ","validateFields","UTC","fecha","fecha1","bisector","getter","_lo","_hi","lo","hi","mid","FORMAT_METHOD","timeFormat","time","toTimeStamp$1","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","interval","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getInvertPercent","Linear","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","Infinity","secondMin_1","max_1","timeStamp","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","Quantile","map$1","getClass","registerClass","cls","Identity","DEFAULT_Q","eps","EPSILON","mod","simplicity","q","Q","lmin","lmax","lstep","simplicityMax","density","dmin","dmax","rt","densityMax","coverage","coverageMax","span","half","legibility","extended","onlyLoose","w","best","score","Q_1","sm","dm","delta","z","ceil","log10","cm","minStart","maxStart","isInteger","calculateCatTicks","tickInterval","ticks_1","valid","d3Linear","D3Linear","domain","DEFAULT_COUNT","e10","e5","e2","_domain","_b","i0","i1","stop","tickIncrement","d3ArrayTicks","reverse","power","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","calculateLogTicks","avg","pretty","h5","unit","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","ratio","calculateTimeCatTicks","lastValue","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","warn","CatTick","SNAP_COUNT_ARRAY","DEFAULT_COUNT$1","LinearTick","_ref","_ref2","getBestInterval","intervalCount","tickLength","fixedLength","getFixedLength","DECIMAL_LENGTH","getFactor","number","_ref3","avgInterval","calInterval","calMax","calMin","similarityIndex","similarityInterval","getInterval","startIndex","verify","intervalIsVerify","_ref4","num","indexOfExp","Linear$1","Identity$1","Category$1","TimeCat$1","isFullCircle","startAngle","endAngle","clearObj","Cat","ScaleController","defs","setFieldDef","updateScales","_getDef","def","_getDefaultType","_getScaleDef","values$1","_Array$getRange","isRounding","_adjustRange","_getScaleCfg","firstValue$1","_this$_getScaleCfg","newScale","_updateScale","_getScaleData","_this$_getScaleCfg2","adjustStartZero","Abastract","offsetFactor","frontContainer","backContainer","gridPoints","drawGrid","drawTicks","drawLine","drawLabels","tickCfg","getContainer","getOffsetPoint","getSidePoint","addShape","x1","y1","x2","y2","_id","labels","labelShape","_self$getSidePoint","getTextAlignInfo","gridCfg","subPoints","executedGrid","getAxisVector","getOffsetVector","axisVector","normal","verticalVector","offsetVector","align","baseLine","isTop","Line","_Abstract","lineCfg","formatTicks","first","AxisController","axisCfg","frontPlot","backPlot","axes","_isHide","_getLinePosition","dimType","_getLineCfg","_getCircleCfg","circleRadius","_getRadiusCfg","_getAxisCfg","verticalScale","maxWidth","maxHeight","labelCfg","executedLabel","textStyle","axisLabel","context","_axisLabel$getBBox","getBBox","_createAxis","coordType","createAxis","yScales","_isAutoPadding","userPadding","legendRange","circleAxis","_axes$right","_maxWidth","_labelOffset","_axes$left","_maxWidth2","_labelOffset2","_axes$bottom","_maxHeight","_labelOffset3","_updateLayout","appendCfg","verticalTicks","verticalTick","calcDirection","xDistance","yDistance","calcDistance","point1","point2","getCenter","PRESS_DELAY","EventController","emitEvent","startTime","startPoints","startDistance","pressTimeout","setTimeout","eventType","emitStart","clearPressTimeout","currentDistance","zoom","deltaX","deltaY","getEventType","prevMoveTime","lastMoveTime","prevMovePoints","lastMovePoints","emitEnd","intervalTime","velocity","_start","delegateEvent","processEvent","canvasEl","_click","_move","_end","_cancel","panEventListeners","pan","enable","isProcess","_this2","clearTimeout","pinch","CanvasElement","_EventEmit","setAttribute","dispatchEvent","supportEventListener","support","Event","CanvasElement$1","_mod","_addStop","addColorStop","_parseLineGradient","_shape$getBBox","minX","minY","maxX","maxY","tanTheta","tan","tanTheta2","createLinearGradient","_parseRadialGradient","circleCfg","fx","fy","fr","_color","_shape$getBBox2","createRadialGradient","parseStyle","firstCode","ALIAS_ATTRS_MAP","SHAPE_ATTRS","CLIP_SHAPES","Element","_initProperties","initAttrs","initTransform","zIndex","isGroup","isShape","getDefaultAttrs","_setAttr","_setAttrClip","alias","_getAttr","clip","argumentsLen","bbox","_afterAttrsSet","getParent","setContext","drawInner","restoreContext","save","resetTransform","createPath","resetContext","restore","elAttrs","setLineDash","hasFill","fillStyle","hasStroke","strokeStyle","isVisible","getAriaLabel","_this$_attrs","_getAriaLabel","ariaLabel","_removeFromParent","parent","children","getMatrix","setMatrix","setTransform","rad","sx","sy","moveTo","cx","cy","mo","isDestroyed","Shape$2","_Element","originOpacity","globalAlpha","strokeOpacity","calculateBox","parseRadius","minWidth","minHeight","_Shape","canFill","canStroke","createRadiusPath","lineTo","arc","closePath","beginPath","rect","ImageShape","_Rect","loading","image","drawImage","Image","_image","crossOrigin","onload","swidth","sheight","Circle","extremity","getCubicBezierXYatT","startPt","controlPt1","controlPt2","endPt","T","CubicN","t2","t3","cubicBezierBounds","c1","c2","t","pt","getBBoxFromPoints","getBBoxFromLine","x0","getBBoxFromArc","anticlockwise","diff","getBBoxFromBezierGroup","Line$1","Polygon","getPoint","smoothBezier","smooth","isLoop","constraint","prevPoint","nextPoint","cps","hasConstraint","d0","d1","sum","cp0","cp1","catmullRom2bezier","pointList","cp2","controlPointList","_filterPoints","filteredPoints","Polyline","constaint","sps","sp","bezierCurveTo","newPoints","lastPoint","Arc","Sector","r0","unitX","unitY","outerBBox","innerBBox","Rect$1","calcRotatedBox","absRotate","textWidthCacheCounter","textWidthCache","TEXT_CACHE_MAX","Text","lineCount","fontStyle","fontWeight","fontVariant","lineHeight","textArr","_getFontStyle","_getTextHeight","spaceingY","_getSpaceingY","subY","subText","fillText","_subText","strokeText","_getTextWidth","rotatedBox","Custom","SYMBOLS","square","Marker","symbol","SHAPE_MAP","INDEX","getComparer","compare","Container","getGroupClass","getChildren","addGroup","groupClass","contain","child","drawChildren","descendants","_setEvn","_self$_attrs","_item$_attrs","childAriaLabels","_childAriaLabel","childAriaLabel","Group","box","leftTop","leftBottom","rightTop","rightBottom","requestAnimationFrame","Canvas","_initPixelRatio","_initCanvas","beforeDraw","clearRect","changeSize","eventController","canvasDOM","getPointByClient","_beginDraw","toDraw","_endDraw","setAriaLabel","engines","registerEngine","engine","getEngine","G","createCanvas","renderer","getClip","margin","isClip","isPointInPlot","Helper","_isScaleExist","compareScale","flag","scaleValues","compareScaleValues","initPlugins","_plugins","_cacheId","register","plugins","plugin","unregister","getAll","notify","hook","descriptor","descriptors","ilen","cache","geomConstructor","methodName","geom","addGeom","rendered","geoms","filters","_syncYScales","syncY","syncScales","_getFieldsForLegend","filteredData","legendFields","_adjustScale","scaleController","_removeGeoms","_clearGeoms","_clearInner","_initFilteredData","_changeGeomsData","_initGeom","middlePlot","_initGeoms","_initCoord","coordCfg","C","_initLayout","newPlot","_initLayers","_initEvents","_initScaleController","_clearScaleController","axisController","condition","_renderAxis","repaint","_interactions","interaction","getPosition","getYScales","getRecord","getLegendItems","legendItems","colorAttr","scaleValue","marker","dataValue","checked","registerPlugins","chartPlugins","_landscape","track","splitPoints","yItem","splitArray","SHAPES","pointInfo","getPointsCfg","pointCfg","Point$1","_Geom","Point","hasStack","getStyle$1","drawLines","topPoints","bottomPoints","isStack","topShape","bottomShape","SHAPES$1","Path","splitArrayObj","splitedIndex","Line$3","_Path","equals","notEmpty","filterPoints","equalsCenter","eqls","drawRectShape","isSmooth","pointsLen","topSps","bottomSps","_n","_sp","drawShape$1","SHAPES$2","Area$1","Area","splitArrayfn","SizeMixin","initEvent","getDefaultSize","defaultSize","normalizeSize","getDimWidth","dimName","_getWidth","_toNormalizedSize","_toCoordSize","getNormalizedSize","getSize","getRectPoints","xmin","xmax","ymin","ymax","getRectRange","xValues","yValues","getMiddlePoint","_cfg$center","v0","rectCfg","polygonPoints","Interval$1","Interval","Polygon$2","temp","xCount","yCount","xOffset","yOffset","_sortValue","getCandlePoints","Schema$1","Schema","toString$3","isType$1","isType_1","isArray$1","isArray_1","isNil$1","isNil_1","_inheritsLoose$1","Stack","_Adjust","processStack","stackCache","positive","negative","reverseOrder","xkey","_typeof","Symbol","iterator","isObject$1","isObject_1","each$1","each_1","_inheritsLoose$2","MARGIN_RATIO","DODGE_RATIO","Dodge","marginRatio","dodgeRatio","getDodgeOffset","pre","next","dodgeValue","isFunction$1","isFunction_1","maxBy","maxData","maxBy_1","merge$1","merge_1","_inheritsLoose$3","ArrayUtil","Symmetric","cacheMax","groupFields","_getMax","dim","mergeData","maxRecord","maxValue","_getXValuesMax","_processSymmetric","valueMax","subVal","Polar","inner","innerRadius","maxRadius","startV","pointV","percentX","percentY","Circle$1","_getCirclePoint","KEYWORDS_PERCENT","median","GuideBase","_getNormalizedValue","parsePercentPoint","xPercent","yPercent","limitInPlot","element","changeVisible","display","Arc$1","_GuideBase","coordCenter","atan2","getOffsetFromAlign","alignX","alignY","modifyCSS","DOM","CSS","createDom","innerHTML","childNodes","Html","offsetX","offsetY","html","myNode","visibility","parentNode","wrapperNode","appendChild","canvasOffsetTop","offsetTop","canvasOffsetLeft","offsetLeft","newOffset","removeChild","Line$4","Rect$2","Text$1","content","Tag","direct","autoAdjust","side","background","withPoint","pointStyle","_getDirect","tagWidth","tagHeight","clientWidth","clientHeight","horizontal","wrapperContainer","pointShape","tagContainer","tagText","textBBox","tagBg","arrowPoints","sideShape","Point$2","MARKER_RADIUS","List","_renderTitle","_renderItems","showTitle","titleGap","itemGap","itemMarginBottom","itemFormatter","itemWidth","wordSpace","layout","joinString","wrapper","itemsGroup","titleShape","titleHeight","titleStyle","_titleHeight","reversed","_addItem","_adjustItems","_renderBackground","_wrapper$getBBox","backShape","nameText","itemGroup","unCheckStyle","unCheckColor","nameStyle","valueStyle","startX","markerAttrs","markerShape","_formatItemValue","valueX","_getMaxItemWidth","maxItemWidth","_children$i$getBBox","_width","maxLength","twoAvgWidth","threeAvgWidth","_adjustHorizontal","rowWidth","legendHitBoxes","childHeight","childWidth","_adjustVertical","colHeight","totalWidth","setItems","clearItems","setTitle","TextBox","updateContent","updatePosition","backgroundShape","textShape","_getBBox","_this$_getBBox","tipWidth","tipHeight","_height","_this$_getBBox2","GAP","Tooltip","custom","fixed","tooltipArrow","showXTip","xTipBackground","xTipTextStyle","xTipBox","showYTip","yTipBackground","yTipTextStyle","yTipBox","_renderCrosshairs","crosshairsStyle","crosshairsType","xTip","yTip","setContent","setYTipContent","setYTipPosition","pos","plotRange","crosshairsShapeX","yTipHeight","yTipWidth","posX","posY","setXTipContent","setXTipPosition","crosshairsShapeY","canvasHeight","xTipWidth","xTipHeight","setXCrosshairPosition","setYCrosshairPosition","setPosition","containerBBox","_x","arrowY","setMarkers","_cfg","markerGroup","_getMarkerGroup","clearMarkers","_getTooltipValueScale","colorScale","getTooltipName","nameScale","valueScale","getTooltipValue","getTooltipTitle","_indexOfArray","_uniqItems","isEqual$1","arr1","arr2","JSON","stringify","triggerOn","triggerOff","alwaysShow","showTooltipMarker","itemMarkerStyle","snap","TooltipController","_tooltipCfg","lastTimeStamp","showTooltip","hideTooltip","_chart","_setCrosshairsCfg","_getMaxLength","tooltipCfg","prePoint","bindEvents","unBindEvents","_lastActive","_getTooltipMarkerStyle","_cfg2","_chart$get","firstItem","lastItem","intervalWidth","tooltipMarkerStyle","_setTooltip","tooltipMarkerCfg","lastActive","tip","onChange","xTipPosX","yTipPosY","markerItems","tooltipMarkerType","tooltipMarkerItems","tooltipItem","onHide","_handleEvent","aMethod","handleShowEvent","handleHideEvent","tooltipController","afterGeomDraw","Tooltip$1","guide","GuideController","guides","guideShapes","_toString","_getId","_createGuide","ClassName","regionFilter","init$1","guideController","afterGeomDraw$1","Guide","LEGEND_GAP","MARKER_SIZE","DEFAULT_CFG","selectedMode","getPaddingByPos","LegendController","findItem","legends","legendPosX","legendPosY","clickedItem","clickedLegend","_createEvent","clicked","clickable","onClick","filteredVals","isSingeSelected","legendCfg","addLegend","fieldCfg","addCustomLegend","_addCategoryLegend","_isFiltered","lastCfg","_alignLegend","_self$plotRange","chartWidth","chartHeight","legendHeight","legendWidth","verticalAlign","preWidth","alignLegends","handleEvent","init$2","legendController","beforeGeomDraw","afterGeomDraw$2","clearInner$1","Legend","clock","performance","Timeline","anims","playing","play","update","pushAnim","animInfo","delay","endTime","currentTime","propertyAnim","hasEnded","startState","endState","interpolate","hasStarted","onStart","easing","onFrame","newValue","aLen","onUpdate","onEnd","linear$1","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Easing","plainArray","interpolateNumber","interpolateArray","nb","na","Animator","timeline","startValue","endValue","frame","defaultAnimationCfg","appear","enter","leave","Animate","Action","getAnimation","geomType","animationType","geomAnimateCfg","animation","getAnimateCfg","geomConfig","registerAnimation","animationName","animationFun","_extends2","getCoordInfo","getScaledMatrix","scaledMatrix","_matrix","_matrix2","getAnimateParam","animateCfg","doAnimation","_getAnimateParam","anim","fadeIn","ShapeAction","_groupScaleIn","zeroY","_getCoordInfo","endMatrix","_shapeScale","groupScaleInX","groupScaleInY","groupScaleInXY","shapesScaleInX","shapesScaleInY","shapesScaleInXY","groupWaveIn","isTransposed","GroupAction","path","GROUP_ANIMATION","schema","fromAttrs","toAttrs","_getShapeId","dataObj","geomIdx","getShapes","geomContainer","geomShapes","_getAnimateCfgByShapeType","getAnimate","addAnimate","updateShapes","newShapes","deletedShape","tempShape","updateShape","cacheAttrs","newShape","lastShape","afterCanvasInit","beforeCanvasDraw","isUpdate","caches","cacheShapes","axisShapes","componentShapes","geomCfg","appearCfg","_animate","afterCanvasDestroyed","detail","Animation","isValuesEqual","newValues","lastIndex","_Interactions","registerInteraction","getInteraction","interactions","interact","clearInteraction","defaultRange","Context","getPinchScale","minScale","minCount","updateRange","updateTicks","_initEvent","_afterinit","_afterdatachange","getFollowScale","startRange","lastTickCount","doZoom","leftScale","rightScale","zoomOffset","rangeLen","rangeOffset","leftOffset","rightOffset","newStart","newEnd","newRange","doMove","valueStart","valueEnd","currentValues","updateScale","updateFollowScale","pinchScale","pinchValues","followScale","pinchField","pinchScaleType","followField","pinchValueMap","_getRange","newTickCount","catTicks","Base$2","preStart","preProcess","process","onProcess","preEnd","preReset","onReset","getInteractionContext","_bindEvents","interactionContext","startEvent","endEvent","resetEvent","_process","_reset","_clearEvents","Pan","preventDefault","coordWidth","Pinch","_assertThisInitialize","leftLen","rightLen","Component"],"mappings":"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","file":"static/js/chunk-fb26bdb0.57121f8e.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA+UlEQVRIS+2VPW7CQBBG39dwAk4QzgMVaVJRcINUwZFQpNipuAEFVapUyXngBJyAZqJF62gje3+MROdtd/a9nU9jr7jz0p35jIJswmNE+YjM7Bl4A76BlaRL9lSkwMwmwAFYAFtJO5nZEXjwZ5zk8RaJh38Bc886SZo5wQaog0v9AMshkh64w1WSmusUmZkTOFG7iiUReCOpcrC/Mb1FkoP/EwztJAKvJb2GM9D50Mzs3eWXiqsU3umghaYkQ+BRgY+rr5Mn4DMYRVfaiSUZUbjZ08kZmAY1SXiyg0Rc7VYWXiSIxFUELxZ4yQuwBvaSPkr/V+N7kE3qFz+QdBmJObKmAAAAAElFTkSuQmCC\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=7324dd31&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexOption.vue?vue&type=style&index=0&id=5630460c&lang=less\"","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAOVBMVEUAAAAfx9Qfx9Uky9Iex9QYyc4fx9Qfx9QcxtUfx9QfyNQfx9Qfx9MeyNMcxtAfx9Qex9Qfx9Qfx9TWk5SmAAAAEnRSTlMA+oQGbgr0yBHcz8V6bxvQdtHGrpxGAAAAtElEQVQ4y+2Uyw6DIBBFHUCgPtvz/x9bE6cGdTQuurBJz3JymHAJuVVB7R7CgjxcXZnULRta23TscFvHhxSZ6Hwx65iIKRSzoWHGr66iw2ZYzqq326iMn2kACdm+Yw4CQcUE/XHqJyQVBfLxO2YQFYHqBOD3RCdsEGeKwo54eeM/9c1SizNEM3W8vPGmP/xrojbFIRli2T022j3rNrNYt5kfOeXly8Y9ZhyKdu1TxCSmft73BpxYJqN+c+7xAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAABJUlEQVRYR9XYuxHCMAwGYGkFWARmoGcUlmEd2IFJaCmdU87OJY7jVxRJpAbfZxn/CkJgepxzJ1oKEb8cSyLHIh71IhcA3Dhwu2Ez1NVv8sOB2wVLoMIBPBHxsec0umEZFB3pHRF/4rCjUeMlat2VBKoZJoVqgkmiqmHSqCqYBqoI86g3AFyiS8ISCbmLt3krNVGbFdNGJWEWUCuYFdQCZgk1wTKo1o7F8nmkxxrKvwWPsDMAUC7FWcWy+55FxorRF63hJlgBd3jKp6q6SP5M5cRxq5ZkJTaSvdIC7r+aePgxalau+GdEC1eE+SihuYToC2MVTANXDZPGNcEkcc0wKVwXbIajVhXGTyFlWNpXN6yA0xtDRSE8r5z+4C6BszPqjHBsw+EBlZLUJzmdgLwAAAAASUVORK5CYII=\"","<template>\r\n  <div class=\"container\" id=\"indexPage\">\r\n    <div class=\"header-box flex-center\">\r\n      <div class=\"side-left flex-center\">\r\n        <img src=\"~@/assets/images/back@2x.png\" alt=\"\">\r\n      </div>\r\n      <van-tabs v-model:active=\"tabsActive\" @click=\"tabClick\" type=\"card\" class=\"flex-item middle\">\r\n        <!-- 期权 -->\r\n        <van-tab title=\"期权\" name=\"1\"></van-tab>\r\n        <!-- 矿池 -->\r\n        <van-tab title=\"矿池\" name=\"2\"></van-tab>\r\n      </van-tabs>\r\n      <div class=\"side-right flex-center\" @click=\"$router.push({name: 'Share'})\">\r\n        <img src=\"~@/assets/images/share.png\" alt=\"\">\r\n      </div>\r\n    </div>\r\n    <div class=\"top-tip flex-middle\">\r\n      <van-swipe style=\"height: 30px;\" :autoplay=\"3000\" vertical :show-indicators=\"false\">\r\n        <van-swipe-item class=\"row\" v-for=\"item in records\">\r\n          恭喜{{item.investor}}获得{{item.income}}BUSD和{{item.windIncome}}wind token\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n    </div>\r\n    <!-- 期权 -->\r\n    <template v-if=\"tabsActive === '1'\">\r\n      <index-option></index-option>\r\n    </template>\r\n    <!-- 矿池 -->\r\n    <template v-if=\"tabsActive === '2'\">\r\n      <index-pool></index-pool>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport IndexOption from \"./IndexOption\";\r\nimport IndexPool from \"./IndexPool\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nimport config from \"@/utils/config\";\r\nimport {useStore} from \"vuex\";\r\nexport default {\r\n   components: {\r\n    IndexOption,\r\n    IndexPool\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const data = reactive({\r\n      selectIds: [],\r\n      showSelect: false,\r\n      checkboxGroup: null,\r\n      checkAll:false,\r\n      records: [],\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      BsnContract: null,\r\n      BusdContract: null,\r\n      windTokenContract: null,\r\n      BsnDataContract: null,\r\n      tabsActive: route.query.name,\r\n      tabClick: (name) => {\r\n        // console.log(name)\r\n        router.replace({\r\n          name: 'Index',\r\n          query: {\r\n            name: name\r\n          }\r\n        })\r\n      },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.windTokenContract = new data.web3.eth.Contract(tokenAbi, config.windToken)\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getList()\r\n      },\r\n      getList: async () => {\r\n        let recordIds = await data.BsnDataContract.methods.getAllrecord().call();\r\n        console.log(recordIds)\r\n        let block = await data.web3.eth.getBlockNumber()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let windeciams = await data.windTokenContract.methods.decimals().call();\r\n        recordIds.forEach(async (item) => {\r\n          let order = await data.BsnDataContract.methods.getOrderById(item).call();\r\n          let price = await data.BsnContract.methods.getBlockPrice(order.openBlock).call()\r\n          let result = await data.BsnContract.methods.getWin(item).call()\r\n          if (price > 0 &&  block >= order.openBlock && !order.isOpen) {\r\n            order.canOpen = true;\r\n          }\r\n          if (price > 0 &&  block >= order.openBlock) {\r\n            if (Number(result.back) > 0) {\r\n              order.income = Number(result.back/Math.pow(10, decimals)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = true;\r\n            } else {\r\n              order.income = Number(result.back/Math.pow(10, windeciams)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = false;\r\n            }\r\n          }\r\n          if (price <=0) {\r\n            order.canOpen = false;\r\n          }\r\n          order.id = item;\r\n          order.openPrice = price;\r\n          order.investAmount =Number(order.investAmount / Math.pow(10, decimals)).toFixed(2)\r\n          if (order.isWin) {\r\n            console.log(order)\r\n            data.records.unshift(order) \r\n          }\r\n        })\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#indexPage {\r\n  .header-box .van-tabs__nav--card .van-tab {\r\n    font-size: 15px;\r\n  }\r\n  .van-cell {\r\n    height: 44px;\r\n    background: rgba(13, 14, 17, .8);\r\n    border-radius: 22px;\r\n    font-size: 16px;\r\n    .van-field__control {\r\n      color: #fff;\r\n    }\r\n    &::after {\r\n      border: 0;\r\n    }\r\n  }\r\n  .input-right {\r\n    font-size: 16px;\r\n    color: #FBC509;\r\n  }\r\n  .qq-block--tab>.van-tabs__wrap {\r\n    padding: 0 48px;\r\n  }\r\n  .qq-block--tab {\r\n    margin: 15px 15px;\r\n    background: rgba(27, 28, 35, 0.7);\r\n    border-radius: 25px;\r\n    padding: 20px 15px;\r\n    .qq-block--cont {\r\n      margin: 0;\r\n      padding: 4px 0;\r\n    }\r\n  }\r\n  .qq-block--cont {\r\n    margin: 20px 15px;\r\n    background: rgba(27, 28, 35, .7);\r\n    border-radius: 25px;\r\n    padding: 15px;\r\n    color: #fff;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n    .cell-tit {\r\n      font-size: 15px;\r\n      line-height: 42px;\r\n      .cell-tit--right {\r\n        font-size: 14px;\r\n        color: #FBC509;\r\n      }\r\n    }\r\n    .cell-sellect {\r\n      height: 44px;\r\n      background: rgba(13, 14, 17, .8);\r\n      border-radius: 22px;\r\n      padding: 0 16px;\r\n      color: #fff;\r\n      font-size: 16px;\r\n      margin-bottom: 12px;\r\n    }\r\n    .cell-type {\r\n      margin-bottom: 12px;\r\n      .btn + .btn {\r\n        margin-left: 14px;\r\n      }\r\n      .btn {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        border-radius: 40px;\r\n        text-align: center;\r\n        color: #787988;\r\n        font-size: 16px;\r\n        background: #373946;\r\n        border: 1px solid #5C5D68;\r\n        &.active-D4566C {\r\n          color: #fff;\r\n          background: #D4566C;\r\n          border-color: #D4566C;\r\n        }\r\n        &.active-2FBBA1 {\r\n          color: #fff;\r\n          background: #2FBBA1;\r\n          border-color: #2FBBA1;\r\n        }\r\n      }\r\n    }\r\n    .cell-msg {\r\n      font-size: 12px;\r\n      margin: 14px 0 0;\r\n      font-weight: normal;\r\n    }\r\n    .cell-button {\r\n      margin: 30px 0 9px;\r\n    }\r\n    .cell-number {\r\n      margin: 0 -7px;\r\n      margin-bottom: 5px;\r\n      .item {\r\n        width: 33.33%;\r\n        padding: 0 7px 7px;\r\n        span {\r\n          display: block;\r\n          text-align: center;\r\n          line-height: 34px;\r\n          background: #373946;\r\n          border: 1px solid #5C5D68;\r\n          border-radius: 22px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          color: #787988;\r\n        }\r\n        &.active {\r\n          span {\r\n            background: #FBC509;\r\n            border-color: #FBC509;\r\n            color: #0D0E11;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .cell-balance {\r\n      margin: -5px 0 7px;\r\n      .num {\r\n        font-size: 25px;\r\n        color: #452A7A;\r\n        margin: 0 0 5px;\r\n      }\r\n      .info-item + .info-item {\r\n        margin: 0 0 0 15px;\r\n      }\r\n      .info-item:nth-child(even) {\r\n        text-align: right;\r\n      }\r\n      .info-item {\r\n        .tit {\r\n          font-size: 13px;\r\n        }\r\n        .num {\r\n          font-size: 20px;\r\n          margin: 2px 0 0;\r\n        }\r\n      }\r\n    }\r\n    .cell-tip {\r\n      margin: 10px 0 0;\r\n      font-size: 13px;\r\n      .cell-tip--link {\r\n        background: rgba(31, 199, 212, .2);\r\n        color: #1FC7D4;\r\n        padding: 0 13px;\r\n        height: 23px;\r\n        line-height: 23px;\r\n        border-radius: 12px;\r\n      }\r\n    }\r\n  }\r\n  .modal-box {\r\n    width: 315px;\r\n    background: rgba(37, 38, 43, 1);\r\n    border-radius: 25px;\r\n    overflow: hidden;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    .modal-close {\r\n      position: absolute;\r\n      top:0;\r\n      right: 0;\r\n      width: 52px;\r\n      height: 52px;\r\n    }\r\n    .modal-title {\r\n      line-height: 52px;\r\n      text-align: center;\r\n      font-size: 18px;\r\n      color: rgba(255, 255, 255, 1);\r\n    }\r\n    .modal-cont {\r\n      padding: 4px 17px 0;\r\n      .row + .row {\r\n        margin-top: 8px;\r\n      }\r\n      .label {\r\n        color: rgba(153, 153, 153, 1);\r\n      }\r\n      .cont {\r\n        word-break: break-all;\r\n      }\r\n    }\r\n    .modal-btn {\r\n      background: rgba(251, 197, 9, 1);\r\n      color: rgba(20, 21, 26, 1);\r\n      margin-top: 24px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  padding-top: 49px !important;\r\n}\r\n.header-box {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 100%;\r\n  max-width: 640px;\r\n  background: #14151a;\r\n  z-index: 100;\r\n  .side-left,\r\n  .side-right {\r\n    width: 49px;\r\n    height: 49px;\r\n    img {\r\n      width: 19px;\r\n    }\r\n  }\r\n  .side-left {\r\n    margin-right: 29px;\r\n  }\r\n  .side-right {\r\n    margin-left: 29px;\r\n  }\r\n}\r\n.top-tip {\r\n  margin: 10px 15px 12px;\r\n  background: rgba(251, 197, 9, .2);\r\n  height: 39px;\r\n  border-radius: 39px;\r\n  color: #fff;\r\n  font-size: 12px;\r\n  padding: 0 16px;\r\n  .row {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    line-height: 30px;\r\n    padding-right: 18px;\r\n    background: url('~@/assets/images/arrow_b@2x.png') no-repeat right center;\r\n    background-size: 12px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"indexOption\">\r\n    <div class=\"qq-chart\">\r\n      <div class=\"flex-middle coin-title\">BETH<img src=\"~@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n      <div class=\"coin-num\">\r\n        <div class=\"flex-middle\">\r\n          <span class=\"price\">{{price}}BUSDT</span>\r\n          <!-- <span class=\"rate\">+1.23%</span> -->\r\n        </div>\r\n        <!-- <div class=\"s-price\">$2900.00</div> -->\r\n      </div>\r\n      <div class=\"chart-box border-1px-t\">\r\n        <div class=\"flex-between\">\r\n          <div class=\"name\">价格($)</div>\r\n          <div class=\"flex-item flex-middle cont\">\r\n            <span class=\"c-FBC509\">已结算</span><img src=\"~@/assets/images/arr_y.png\" alt=\"\">\r\n            <span class=\"c-5AF10B\">已结算</span><img src=\"~@/assets/images/arr_g.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"chart\">\r\n          <canvas id=\"boxCanvas\"></canvas>\r\n        </div>\r\n        <div class=\"tip c-FBC509\">温馨提示：您有未领取的收益请及时领取</div>\r\n      </div>\r\n      <!-- <div class=\"chart-box border-1px-t\">\r\n        <div class=\"chart-btns flex\">\r\n          <span class=\"btn-item active\">24H</span>\r\n          <span class=\"btn-item\">近一周</span>\r\n          <span class=\"btn-item\">近一月</span>\r\n          <span class=\"btn-item\">近一年</span>\r\n          <span class=\"btn-item\">全部</span>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <van-tabs v-model:active=\"blockName\" type=\"card\" class=\"qq-block--tab\">\r\n      <van-tab title=\"期权板块\" name=\"qq\">\r\n        <div class=\"qq-block--cont\">\r\n          <div class=\"cell-tit flex-between\">\r\n            请选择委托周期\r\n            <router-link class=\"cell-tit--right\" :to=\"{name: 'List'}\">历史记录</router-link>\r\n          </div>\r\n          <div class=\"cell-sellect flex-between\" @click=\"showColumnsPicker = true\">\r\n            {{columnsValue}}\r\n            <img src=\"@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\">\r\n          </div>\r\n          <div class=\"cell-tit\">请输入委托数量</div>\r\n          <div class=\"cell-number flex-wrap\">\r\n            <div class=\"item\" :class=\"{'active': amount == '100'}\" @click=\"changeAmount('100')\"><span>100BUSD</span></div>\r\n            <div class=\"item\" :class=\"{'active': amount == '200'}\" @click=\"changeAmount('200')\"><span>200BUSD</span></div>\r\n            <div class=\"item\" :class=\"{'active': amount == '1000'}\" @click=\"changeAmount('1000')\"><span>1000BUSD</span></div>\r\n          </div>\r\n          <van-field\r\n            class=\"mb15\"\r\n            type=\"number\"\r\n            v-model=\"amount\"\r\n            placeholder=\"请输入您的委托数量\">\r\n            <template #extra><span class=\"input-right\">BUSD</span></template>\r\n          </van-field>\r\n          <div class=\"cell-tit\" v-if=\"curMarketType\">委托限制：{{curMarketType.minAmount / Math.pow(10,6)}}BUSD-{{curMarketType.maxAmount / Math.pow(10,6)}}BUSD</div>\r\n          <div class=\"cell-type flex\" v-if=\"address\">\r\n            <div class=\"btn flex-item\" :class=\"{'active-2FBBA1': wtType === 1}\" @click=\"changeWtType(1)\">看涨</div>\r\n            <div class=\"btn flex-item\" :class=\"{'active-D4566C': wtType === 0}\" @click=\"changeWtType(0)\">看跌</div>\r\n          </div>\r\n          <div class=\"cell-type flex\" v-else>\r\n            <div class=\"btn flex-item active-D4566C\"  @click=\"initWallet\">连接钱包</div>\r\n          </div>\r\n          <div class=\"cell-msg\">注：一个地址在一个区块内仅接受<span class=\"c-FBC509\">一次转账</span>，且单笔转账不能超过<span class=\"c-FBC509\">100000BUSD</span>，超出将按照上限记录下单金额，多余部分在下一区块退回。</div>\r\n          <div class=\"coin-address\">\r\n            <div class=\"tit\">钱包地址</div>\r\n            <div class=\"cont\">地址 {{address}}</div>\r\n          </div>\r\n          <!-- <div class=\"cell-button\">\r\n            <van-button type=\"primary\" size=\"large\" @click=\"showModal = true\">确定</van-button>\r\n          </div> -->\r\n        </div>\r\n      </van-tab>\r\n      <van-tab title=\"流水记录\" class=\"ls\">\r\n        <div class=\"qq-block--record\">\r\n          <van-tabs v-model:active=\"recordType\" @click=\"changeTab\" class=\"qq-block--recordtab\" line-width=\"25px\">\r\n            <van-tab title=\"我的委托\" name=\"1\"></van-tab>\r\n            <van-tab title=\"未开奖\" name=\"2\"></van-tab>\r\n            <van-tab title=\"已开奖\" name=\"3\"></van-tab>\r\n          </van-tabs>\r\n          <div>\r\n            <div v-if=\"recordType === '1'\" class=\"list\">\r\n              <div class=\"item\" v-for=\"item in wtRecords\">\r\n                <div class=\"title flex\">\r\n                  <div class=\"flex-item\">BETH {{Number(item.busdPerBeth/Math.pow(10, 10)).toFixed(8)}}-{{item.isOpen ? Number(item.openPrice/Math.pow(10, 10)).toFixed(8) : '*****'}}BUSD</div>\r\n                  <div class=\"status\" v-if=\"item.isOpen && item.openPrice != item.busdPerBeth\" >\r\n                    <span class=\"c-2FBBA1\" v-if=\"item.openPrice - item.busdPerBeth > 0\">涨</span><span v-else class=\"c-D4566C\">跌</span>\r\n                  </div>\r\n                  <div class=\"status c-D4566C\" v-if=\"item.isOpen && item.openPrice == item.busdPerBeth\">返回本金</div>\r\n                </div>\r\n                <div class=\"flex row\">\r\n                  <div class=\"label\">委托周期：</div>\r\n                  <div class=\"flex-item cont\">{{item.openBlock - item.investBlock}}个区块({{item.minute}}分钟)</div>\r\n                </div>\r\n                <div class=\"flex row\">\r\n                  <div class=\"label\">委托金额：</div>\r\n                  <div class=\"flex-item cont\">{{item.investAmount}}BUSD <span class=\"c-D4566C\" v-if=\"item.investType == 0\">看跌</span><span v-else class=\"c-2FBBA1\">看涨</span></div>\r\n                </div>\r\n                <div class=\"flex row\">\r\n                  <div class=\"label\">资金变化：</div>\r\n                  <template v-if=\"item.isOpen\">\r\n                  <div class=\"flex-item cont\" v-if=\"item.income\"><span class=\"c-2FBBA1\">+{{item.income}}BUSD</span></div>\r\n                  <div class=\"flex-item cont\" v-else-if=\"item.busdPerBeth == item.openPrice\"><span class=\"c-2FBBA1\">+{{item.investAmount}}BUSD</span></div>\r\n                  <div class=\"flex-item cont\" v-if=\"item.windIncome\"><span class=\"c-2FBBA1\">+{{item.windIncome}}WIND</span></div>\r\n                  </template>\r\n                  <div class=\"flex-item cont\" v-else><span class=\"c-2FBBA1\">*******</span></div>\r\n                  <div class=\"btn\" v-if=\"item.canOpen\" @click=\"openOrder(item.id)\">点击开奖</div>\r\n                  <div class=\"flex-item\" style=\"text-align: right\" v-if=\"!item.canOpen && !item.isOpen\"><span class=\"c-2FBBA1\">等待开奖</span></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <template v-else>\r\n            <div class=\"record-item\" v-for=\"item in records\" v-show=\"item.isOpen == (recordType === '3')\">\r\n              <div class=\"flex-between title\">\r\n                <div class=\"flex-item\">{{item.investor}}</div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.openPrice != item.busdPerBeth\" >\r\n                  <span class=\"c-2FBBA1\" v-if=\"item.openPrice - item.busdPerBeth > 0\">涨</span><span v-else class=\"c-D4566C\">跌</span>\r\n                </div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.openPrice == item.busdPerBeth\">返回本金</div>\r\n                <!-- <div class=\"status c-D4566C\">错误</div> -->\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\">委托方向：<span class=\"c-D4566C\" v-if=\"item.investType == 0\">看跌</span><span v-else class=\"c-2FBBA1\">看涨</span></div>\r\n                <div class=\"flex-item text-r\">委托数量：{{item.investAmount}}BUSD</div>\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\" v-if=\"!item.isWin && item.isOpen\">委托本金：扣除</div>\r\n                <div class=\"flex-item\" v-else-if=\"item.isWin && item.isOpen\">委托本金：+{{item.income}}BUSD</div>\r\n                <div class=\"flex-item\" v-else>委托本金：暂未开奖</div>\r\n                <div class=\"flex-item text-r\">区块：{{item.investBlock}}-{{item.openBlock}}</div>\r\n              </div>\r\n              <div class=\"flex\" v-if=\"item.isOpen\">\r\n                <div class=\"flex-item\">额外获得：<span class=\"c-2FBBA1\" v-if=\"Number(item.income)\">{{Number(item.income - item.investAmount).toFixed(2)}}BUSD</span> <span class=\"c-2FBBA1\" v-if=\"Number(item.windIncome)\">{{item.windIncome}}WIND</span></div>\r\n              </div>\r\n            </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n  <!-- 选择委托周期 -->\r\n  <van-popup v-model:show=\"showColumnsPicker\" position=\"bottom\">\r\n    <van-picker\r\n      :columns=\"columns\"\r\n      @confirm=\"onColumnsConfirm\"\r\n      @cancel=\"showColumnsPicker = false\"\r\n    />\r\n  </van-popup>\r\n  <!-- 确认委托 -->\r\n  <van-popup v-model:show=\"showModal\" :style=\"{ background: 'transparent' }\">\r\n    <div class=\"modal-box\">\r\n      <div class=\"modal-title\">确认委托</div>\r\n      <div class=\"modal-close flex-center\" @click=\"showModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n      <div class=\"modal-cont\">\r\n        <!-- <div class=\"row flex\">\r\n          <div class=\"label\">当前BETH起始价格：</div>\r\n          <div class=\"cont text-r flex-item\">{{price}}BUSD</div>\r\n        </div> -->\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托周期：</div>\r\n          <div class=\"cont text-r flex-item\">{{curMarketType.duration}}个块({{curMarketType.minute}}分钟)</div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托方向：</div>\r\n          <div class=\"cont text-r flex-item\">\r\n            <span class=\"c-2FBBA1\" v-if=\"wtType === 1\">看涨</span>\r\n            <span class=\"c-D4566C\" v-if=\"wtType === 0\">看跌</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托金额：</div>\r\n          <div class=\"cont text-r flex-item\">{{amount}}BUSD</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-btn\" v-if=\"Number(tokenAllowance)\">\r\n        <van-button type=\"primary\" @click=\"invest\" size=\"large\">确定</van-button>\r\n      </div>\r\n      <div class=\"modal-btn\" v-else>\r\n        <van-button type=\"primary\" @click=\"approve\" size=\"large\">授权BUSD</van-button>\r\n      </div>\r\n    </div>\r\n  </van-popup>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs, computed, watch, onMounted} from \"vue\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport { MaxUint256, AddressZero } from \"@ethersproject/constants\";\r\nimport config from \"@/utils/config\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport {useStore} from \"vuex\";\r\nimport Web3 from \"web3\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nimport { intro } from \"@/storage\"\r\nimport F2 from '@antv/f2';\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      showModal: false,\r\n      price: '',\r\n      amount: '',\r\n      blockName: 'qq',\r\n      columns: [],\r\n      marketType: [],\r\n      curMarketType: null,\r\n      showColumnsPicker: false,\r\n      columnsValue: '请选择',\r\n      wtType: 1,\r\n      recordType: '1',\r\n      isOpen: false,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      intro: intro.get() || AddressZero,\r\n      BsnContract: null,\r\n      BusdContract: null,\r\n      tokenAllowance: 0,\r\n      records: [],\r\n      wtRecords: [],\r\n      windTokenContract: null,\r\n      BsnDataContract: null,\r\n      changeTab: (name) => {\r\n        console.log(data.recordType)\r\n        console.log(name)\r\n        data.isOpen = !!(name === '2')\r\n        console.log(data.isOpen)\r\n      },\r\n      changeWtType: async (type) => {\r\n        data.wtType = type\r\n        if (!data.curMarketType) {\r\n          Toast('请选择委托周期')\r\n          return\r\n        }\r\n        if (!data.amount) {\r\n          Toast('请输入投资金额')\r\n          return\r\n        }\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        if (data.amount < data.curMarketType.minAmount/Math.pow(10, decimals) || data.amount > data.curMarketType.maxAmount/Math.pow(10, decimals)) {\r\n          Toast('超出投资区间')\r\n          return\r\n        };\r\n        let balance = await data.BusdContract.methods.balanceOf(data.address).call();\r\n        if (data.amount > balance/Math.pow(10, decimals)) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        data.showModal = true\r\n      },\r\n      changeAmount: (val) => {\r\n        data.amount = val;\r\n      },\r\n      onColumnsConfirm: (value, index) => {\r\n        data.columnsValue = value;\r\n        data.showColumnsPicker = false;\r\n        data.curMarketType = data.marketType[index]\r\n      },\r\n       initWallet: () => {\r\n         web3Data.initWeb3()\r\n       },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.windTokenContract = new data.web3.eth.Contract(tokenAbi, config.windToken)\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getMarketTypeIds()\r\n        data.getEthUsdt()\r\n        data.getTokenAllowance()\r\n        data.getWtList()\r\n        data.getList()\r\n      },\r\n      getTokenAllowance: async () => {\r\n        let result = await data.BusdContract.methods.allowance(data.address, config.BsnAddress).call();\r\n        data.tokenAllowance = result\r\n      },\r\n      getMarketTypeIds: async() => {\r\n        console.log(data.BsnContract)\r\n        let arr = []\r\n        let comlArr = []\r\n        let ids = await data.BsnContract.methods.getMarketTypeIds().call()\r\n        ids.forEach(async item => {\r\n          let result = await data.BsnContract.methods.marketTypes(item).call()\r\n          let params = {\r\n            minute: result.minute,\r\n            duration: result.duration,\r\n            maxAmount: result.maxAmount,\r\n            minAmount: result.minAmount,\r\n          }\r\n          arr.push(params)\r\n          comlArr.push(`${result.duration}个块(${result.minute}分钟)`)\r\n        });\r\n        data.marketType = arr\r\n        data.columns = comlArr\r\n      },\r\n      getEthUsdt: async () => {\r\n        let result = await data.BsnContract.methods.getEthUsd().call();\r\n        let price = result / Math.pow(10, 10);\r\n        data.price = Number(price).toFixed(4);\r\n      },\r\n      getWtList: async () => {\r\n        data.wtRecords = []\r\n        let userInfo = await data.BsnDataContract.methods.getUserInfo(data.address).call();\r\n        let block = await data.web3.eth.getBlockNumber()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let windeciams = await data.windTokenContract.methods.decimals().call();\r\n        userInfo._recordIds.forEach(async (item) => {\r\n          let order = await data.BsnDataContract.methods.getOrderById(item).call();\r\n          let price = await data.BsnContract.methods.getBlockPrice(order.openBlock).call()\r\n          let result = await data.BsnContract.methods.getWin(item).call()\r\n          console.log(result)\r\n          if (price > 0 &&  block >= order.openBlock && !order.isOpen) {\r\n            order.canOpen = true;\r\n          }\r\n          if (price > 0 &&  block >= order.openBlock) {\r\n            if (result.back > 0) {\r\n              order.income = Number(result.back/Math.pow(10, decimals)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = true;\r\n            } else {\r\n              order.income = Number(result.back/Math.pow(10, windeciams)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = false;\r\n            }\r\n          }\r\n          if (price <=0) {\r\n            order.canOpen = false;\r\n          }\r\n          console.log(order)\r\n          order.id = item;\r\n          order.openPrice = price;\r\n          order.investAmount =Number(order.investAmount / Math.pow(10, decimals)).toFixed(2)\r\n          data.wtRecords.unshift(order)\r\n          data.wtRecords = data.wtRecords.sort((a, b) => b.investTime - a.investTime);\r\n        })\r\n      },\r\n      openOrder:async (id) => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.BsnContract.methods.openAward(id).send({from: data.address, gasPrice: gasPrice});\r\n         Toast('开奖成功')\r\n        data.getWtList()\r\n      },\r\n      getList: async () => {\r\n        let recordIds = await data.BsnDataContract.methods.getAllrecord().call();\r\n        let block = await data.web3.eth.getBlockNumber()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let windeciams = await data.windTokenContract.methods.decimals().call();\r\n        recordIds.forEach(async (item) => {\r\n          let order = await data.BsnDataContract.methods.getOrderById(item).call();\r\n          let price = await data.BsnContract.methods.getBlockPrice(order.openBlock).call()\r\n          let result = await data.BsnContract.methods.getWin(item).call()\r\n          if (price > 0 &&  block >= order.openBlock && !order.isOpen) {\r\n            order.canOpen = true;\r\n          }\r\n          if (price > 0 &&  block >= order.openBlock) {\r\n            if (result.back > 0) {\r\n              order.income = Number(result.back/Math.pow(10, decimals)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = true;\r\n            } else {\r\n              order.income = Number(result.back/Math.pow(10, windeciams)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = false;\r\n            }\r\n          }\r\n          if (price <=0) {\r\n            order.canOpen = false;\r\n          }\r\n          order.id = item;\r\n          order.openPrice = price;\r\n          order.investAmount =Number(order.investAmount / Math.pow(10, decimals)).toFixed(2)\r\n          data.records.unshift(order)\r\n        })\r\n      },\r\n      approve: async () => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.BusdContract.methods.approve(config.BsnAddress, MaxUint256).send({from: data.address, gasPrice: gasPrice});\r\n        Toast('授权成功')\r\n        data.getTokenAllowance()\r\n      },\r\n      invest: async () => {\r\n        data.showModal = false;\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let BN = Web3.utils.BN;\r\n        let amount = new BN(data.amount * Math.pow(10, decimals)).toString();\r\n         if (!data.web3.utils.isAddress(data.intro)) {\r\n          data.intro = AddressZero\r\n        }\r\n        let result = await data.BsnContract.methods.invest(data.wtType, data.curMarketType.minute, amount, data.intro).send({from: data.address, gasPrice: gasPrice});\r\n        if (result) {\r\n          Toast('下单成功')\r\n        }\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    onMounted(() => {\r\n      var data = [{\r\n        date: \"515123305\",\r\n        value: 11.6,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123306\",\r\n        value: 12.9,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123307\",\r\n        value: 13.5,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123308\",\r\n        value: 8.6,\r\n        tag: 2\r\n      }, {\r\n        date: \"515123309\",\r\n        value: 7.3,\r\n        tag: 2\r\n      }, {\r\n        date: \"515123310\",\r\n        value: 8.5,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123311\",\r\n        value: 7.3,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123320\",\r\n        value: 20.6,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123321\",\r\n        value: 13.7,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123322\",\r\n        value: 12.8,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123323\",\r\n        value: 8.5,\r\n        tag: 1\r\n      }];\r\n      var chart = new F2.Chart({\r\n        id: 'boxCanvas',\r\n        pixelRatio: window.devicePixelRatio,\r\n        padding: [0, 'auto', 'auto']\r\n      });\r\n      chart.source(data, {\r\n        value: {\r\n          tickCount: 5,\r\n          min: 0,\r\n          formatter: function formatter(val) {\r\n            return '$' + val;\r\n          }\r\n        },\r\n        date: {\r\n          tickCount: 3\r\n        }\r\n      });\r\n      chart.tooltip({\r\n        showCrosshairs: true,\r\n        showItemMarker: false,\r\n        onShow: function onShow(ev) {\r\n          const items = ev.items;\r\n          items[0].date = null;\r\n          items[0].value = items[0].value;\r\n        }\r\n      });\r\n      chart.axis('date', {\r\n        label: function label(text, index, total) {\r\n          var textCfg = {};\r\n          if (index === 0) {\r\n            textCfg.textAlign = 'left';\r\n          } else if (index === total - 1) {\r\n            textCfg.textAlign = 'right';\r\n          }\r\n          return textCfg;\r\n        }\r\n      });\r\n      chart.axis('value', {\r\n        label: function label(text, index, total) {\r\n          var textCfg = {};\r\n          if (index === 0) {\r\n            textCfg.textBaseline = 'bottom';\r\n          } else if (index === total - 1) {\r\n            textCfg.textBaseline = 'top';\r\n          }\r\n          return textCfg;\r\n        }\r\n      });\r\n      chart.line().position('date*value').color('rgba(47, 187, 161, 0.8)');\r\n      chart.point().position('date*value').size('tag', function(val) {\r\n        return val ? 4 : 0;\r\n      }).style('tag', {\r\n        fill: function fill(val) {\r\n          if (val === 2) {\r\n            return '#FBC509';\r\n          } else {\r\n            return '#5AF10B';\r\n          }\r\n        },\r\n        lineWidth: 1\r\n      });\r\n      chart.render();\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n#indexOption {\r\n  .qq-block--recordtab {\r\n    margin-bottom: 10px;\r\n    border-radius: 13px;\r\n    overflow: hidden;\r\n    .van-tabs__nav {\r\n      background: #22242B;\r\n      .van-tab {\r\n        color: #999999;\r\n      }\r\n      .van-tab--active {\r\n        color: #FBC509;\r\n      }\r\n      .van-tabs__line {\r\n        bottom: 18px;\r\n        background: #FBC509;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  padding-top: 107px !important;\r\n}\r\n.mb15 {\r\n  margin-bottom: 15px;\r\n}\r\n.qq-chart {\r\n  margin: 20px 15px;\r\n  background: rgba(27, 28, 35, .7);\r\n  border-radius: 25px;\r\n  padding: 20px 0 10px;\r\n  color: rgba(255, 255, 255, .25);\r\n  .coin-title {\r\n    font-size: 25px;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    padding: 0 20px;\r\n    .icon_arrow {\r\n      width: 12px;\r\n      height: 12px;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n  .coin-num {\r\n    padding: 0 20px 8px;\r\n    .price {\r\n      font-size: 25px;\r\n      color:#FBC509;\r\n      font-weight: bold;\r\n    }\r\n    .rate {\r\n      margin-left: 19px;\r\n      height: 23px;\r\n      line-height: 23px;\r\n      background: rgba(31, 199, 212, .2);\r\n      border-radius: 12px;\r\n      padding: 0 12px;\r\n      font-size: 14px;\r\n      color: #2FBBA1;\r\n      font-weight: bold;\r\n    }\r\n    .s-price {\r\n      font-size: 14px;\r\n      color: rgba(255, 255, 255, 0.25);\r\n    }\r\n  }\r\n  .chart-box {\r\n    padding: 15px 15px 0;\r\n    .chart {\r\n      margin-top: 12px;\r\n      width: 100%;\r\n      canvas {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .name {\r\n      font-size: 12px;\r\n      color: rgba(255, 255, 255, 1);\r\n      margin: 0 0 0 10px;\r\n    }\r\n    .cont {\r\n      font-size: 12px;\r\n      justify-content: flex-end;\r\n      img {\r\n        width: 8px;\r\n        height: 7px;\r\n        margin-left: 6px;\r\n      }\r\n      img + span {\r\n        margin: 0 0 0 20px;\r\n      }\r\n    }\r\n    .tip {\r\n      margin-left: 19px;\r\n      font-size: 12px;\r\n    }\r\n    .chart-btns {\r\n      overflow: auto;\r\n      .btn-item {\r\n        font-size: 12px;\r\n        font-weight: bold;\r\n        color: #1FC7D4;\r\n        line-height: 20px;\r\n        padding: 0 13px;\r\n        margin: 0 7px 10px 0;\r\n        white-space: nowrap;\r\n        &:last-child {\r\n          margin: 0;\r\n        }\r\n        &.active {\r\n          color: #fff;\r\n          background: #1FC7D4;\r\n          border-radius: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.coin-address {\r\n  margin: 15px 0 0;\r\n  font-weight: bold;\r\n  .tit {\r\n    font-size: 15px;\r\n  }\r\n  .cont {\r\n    margin-top: 8px;\r\n    word-break: break-all;\r\n    background: #0D0E11;\r\n    border-radius: 17px;\r\n    color: #FBC509;\r\n    font-size: 13px;\r\n    padding: 8px 13px;\r\n  }\r\n}\r\n.qq-block--tab {\r\n  margin: 15px 15px;\r\n  background: rgba(27, 28, 35, 0.7);\r\n  border-radius: 25px;\r\n  padding: 20px 15px;\r\n  .qq-block--cont {\r\n    margin: 0;\r\n  }\r\n}\r\n.qq-block--record {\r\n  padding: 15px 0 5px;\r\n  .record-item + .record-item {\r\n    margin-top: 15px;\r\n  }\r\n  .record-item {\r\n    background: #22242B;\r\n    border-radius: 13px;\r\n    padding: 0 12px 8px;\r\n    font-size: 12px;\r\n    color: #999;\r\n    line-height: 20px;\r\n    word-break: break-all;\r\n    .title {\r\n      color: #fff;\r\n      font-size: 15px;\r\n      font-weight: bold;\r\n      padding: 15px 0 7px;\r\n      word-break: break-all;\r\n      .status {\r\n        white-space: nowrap;\r\n        color: #FBC509;\r\n        font-size: 13px;\r\n        margin-left: 15px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.list {\r\n  .item {\r\n    background: #22242B;\r\n    border-radius: 13px;\r\n    padding: 12px;\r\n    color: #999999;\r\n    .row + .row {\r\n      margin: 6px 0 0;\r\n    }\r\n    .title {\r\n      font-weight: 800;\r\n      font-size: 15px;\r\n      color: #FFFFFF;\r\n      margin: 2px 0 6px;\r\n      .status {\r\n        font-size: 14px;\r\n        margin: 0 0 0 15px;\r\n      }\r\n    }\r\n    .cont {\r\n      word-break: break-all;\r\n    }\r\n    .btn {\r\n      padding: 0 22px;\r\n      height: 25px;\r\n      line-height: 25px;\r\n      color: #0D0E11;\r\n      background: #FBC509;\r\n      border-radius: 13px;\r\n      font-size: 12px;\r\n      margin: -9px 0 0 15px;\r\n    }\r\n  }\r\n  .item + .item {\r\n    margin-top: 15px;\r\n  }\r\n}\r\n</style>\r\n","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","import { render } from \"./IndexOption.vue?vue&type=template&id=5630460c&scoped=true\"\nimport script from \"./IndexOption.vue?vue&type=script&lang=js\"\nexport * from \"./IndexOption.vue?vue&type=script&lang=js\"\n\nimport \"./IndexOption.vue?vue&type=style&index=0&id=5630460c&lang=less\"\nimport \"./IndexOption.vue?vue&type=style&index=1&id=5630460c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5630460c\"\n\nexport default script","<template>\r\n  <div id=\"indexPool\">\r\n    \r\n    <div class=\"pool-block qq-block--cont pool-block--bg\">\r\n      <div class=\"pool-block--title\">\r\n        流动性挖矿\r\n      </div>\r\n      <div class=\"flex-between cell-balance\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">流动性挖矿总量(wind token)</p>\r\n          <p class=\"num big-num c-FBC509\">{{totalMarketWind}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-between cell-balance mt12\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">流动性挖矿余额(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{marketToTalMoney}}</p>\r\n        </div>\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">流动性挖矿损益(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{Number(curCycleIncome - marketToTalMoney).toFixed(2)}}</p>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"cell-tit\">委托数量</div>\r\n      <van-field\r\n        type=\"number\"\r\n        v-model=\"amount\"\r\n        placeholder=\"请输入您的委托数量\">\r\n        <template #extra><span class=\"input-right\">BUSD</span></template>\r\n      </van-field> -->\r\n      <!-- <div class=\"cell-button\">\r\n      </div> -->\r\n      <div class=\"cell-button flex\">\r\n        <van-button type=\"primary\" size=\"large\" @click=\"showCyModal = true\">冻结</van-button>\r\n        <van-button type=\"primary\" size=\"large\" color=\"#2FBBA1\" @click=\"showModal = true\">赎回</van-button>\r\n      </div>\r\n      <!-- 做市商累计分红 -->\r\n      <div class=\"flex-between cell-balance border-1px-t\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">我的冻结：</p>\r\n          <p class=\"num big-num\">{{userMarket}} BUSD</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-middle pool-block--link mt12\">\r\n        <div class=\"flex-item\">\r\n          <router-link class=\"c-FBC509\" :to=\"{name: 'ListPool'}\">\r\n            待领取金额记录>>\r\n          </router-link>\r\n        </div>\r\n        <div class=\"btn\" v-if=\"Number(marketIncome) > 0 && !isGet\" @click=\"receiveMarketIncome\">领取</div>\r\n        <div class=\"btn\" v-else-if=\"Number(userMarket) > 0 && isGet\">已领取</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"pool-block qq-block--cont\">\r\n      <div class=\"pool-block--title\">\r\n        锁仓分红\r\n      </div>\r\n      <div class=\"flex-between cell-balance\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">总冻结(wind token)</p>\r\n          <p class=\"num c-FBC509\">{{freezeTokenNum}}</p>\r\n        </div>\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit flex-middle icon-box\">我的冻结(wind token) <router-link class=\"icon-right\" :to=\"{name: 'ListFreeze'}\">\r\n          <img src=\"@/assets/images/record@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/record@3x.png')} 3x`\" class=\"icon-record\">\r\n        </router-link></p>\r\n          <p class=\"num c-FBC509\">{{userBlance}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"cell-button flex\">\r\n        <van-button type=\"primary\" size=\"large\" @click=\"showDjModal = true\">冻结</van-button>\r\n        <van-button type=\"primary\" size=\"large\" color=\"#2FBBA1\" @click=\"showShModal = true\">解冻</van-button>\r\n      </div>\r\n      <div class=\"flex-between cell-balance border-1px-t\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit fs12\">锁仓累积分红(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{totalPool}}</p>\r\n        </div>\r\n        <!-- <div class=\"info-item flex-item\">\r\n          <p class=\"tit fs12\">挖矿(已挖出wind token)</p>\r\n          <p class=\"num c-FBC509\">{{totalMarketWind}}</p>\r\n        </div> -->\r\n      </div>\r\n      <div class=\"flex-between cell-balance mt12\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit fs12\">上轮分红总额(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{yesPool}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"pool-block--tip\">我的待领取收益：{{freezeIncome}} BUSD</div>\r\n      <div class=\"flex-middle pool-block--link\">\r\n        <div class=\"flex-item\">\r\n          <router-link class=\"c-FBC509\" :to=\"{name: 'FrozenPool'}\">\r\n            领取记录>>\r\n          </router-link>\r\n        </div>\r\n        <div class=\"btn\" v-if=\"Number(freezeIncome)\" @click=\"getReward\">领取</div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 冻结天数 -->\r\n    <van-popup v-model:show=\"showDayPicker\" position=\"bottom\">\r\n      <van-picker\r\n        :columns=\"day\"\r\n        @confirm=\"onDayConfirm\"\r\n        @cancel=\"showDayPicker = false\"\r\n      />\r\n    </van-popup>\r\n    <!-- 流动性挖矿的冻结 -->\r\n    <van-popup v-model:show=\"showCyModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">冻结</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showCyModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"amount\"\r\n            placeholder=\"请输入您的委托数量\">\r\n            <template #extra><span class=\"input-right\">BUSD</span></template>\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else-if=\"!Number(tokenAllowance)\" @click=\"approve\">授权BUSD</van-button>\r\n          <van-button type=\"primary\" :block=\"true\" size=\"large\" v-else @click=\"addpoolMoney\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n    <!-- 赎回 -->\r\n    <van-popup v-model:show=\"showModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">赎回</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>赎回数量</div>\r\n            <div class=\"c-1FC7D4\">上限：{{userMarket}}</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"wAmount\"\r\n            placeholder=\"请输入赎回BUSD token\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"markerRedeem\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n    <!-- 冻结 -->\r\n    <van-popup v-model:show=\"showDjModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">冻结wind token</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showDjModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>余额</div>\r\n            <div class=\"c-1FC7D4\">{{userWindBlance}}wind token</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"windAmount\"\r\n            placeholder=\"请输入冻结wind token的数量\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else-if=\"!Number(windAllowance)\" @click=\"approveWind\">授权Wind Token</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"freezeToken\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n     <van-popup v-model:show=\"showShModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">解冻</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showShModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>解冻数量</div>\r\n            <div class=\"c-1FC7D4\">上限：{{userBlance}}</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"shAmount\"\r\n            placeholder=\"请输入解冻wind token\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"withdrawFreezeToken\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nimport freezeAbi from \"@/utils/freezeAbi\";\r\nimport { MaxUint256, AddressZero } from \"@ethersproject/constants\";\r\nimport config from \"@/utils/config\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport { intro } from \"@/storage\"\r\nimport {useStore} from \"vuex\";\r\nimport Bignumber from \"bignumber.js\";\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      intro: intro.get() || AddressZero,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      BsnContract: null,\r\n      amount: '',\r\n      windAmount: '',\r\n      BusdContract: null,\r\n      freezeContract: null,\r\n      windTokenContract: null,\r\n      BsnDataContract: null,\r\n      freezeTokenNum: 0,\r\n      windAllowance: 0,\r\n      tokenAllowance: 0,\r\n      marketToTalMoney: 0,\r\n      userMarket: 0,\r\n      wAmount: '',\r\n      curCycleIncome: 0,\r\n      showDjModal: false,\r\n      showCyModal: false,\r\n      showModal: false,\r\n      showDayPicker: false,\r\n      showShModal: false,\r\n      shAmount: '',\r\n      marketIncome: 0,\r\n      isGet: false,\r\n      freezeIncome: 0,\r\n      totalPool: 0,\r\n      userBlance: 0,\r\n      totalMarketWind: 0,\r\n      userWindBlance: 0,\r\n      yesPool: 0,\r\n      dayValue: '3天',\r\n      onDayConfirm: (value) => {\r\n        data.dayValue = value;\r\n        data.showDayPicker = false;\r\n      },\r\n      initWallet: () => {\r\n         web3Data.initWeb3()\r\n      },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.freezeContract = new data.web3.eth.Contract(freezeAbi, config.frozen)\r\n        data.windTokenContract = new data.web3.eth.Contract(tokenAbi, config.windToken)\r\n        data.initData()\r\n      },\r\n       initData: () => {\r\n         data.getCurCycleIncome()\r\n         data.getUserInfo()\r\n         data.getTokenAllowance()\r\n         data.getFreezeToken()\r\n         data.getMarketIncome()\r\n         data.getTotalData()\r\n         data.getFreezeIncome()\r\n      },\r\n      getTotalData: async () => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let decimalsWind = await data.windTokenContract.methods.decimals().call();\r\n        let result = await Promise.all([data.BsnDataContract.methods.totalPool().call(),\r\n           data.BsnDataContract.methods.totalMarketWind().call(),\r\n           data.windTokenContract.methods.balanceOf(data.address).call()\r\n         ]);\r\n         console.log('result-----', result)\r\n        data.totalPool = new Bignumber(result[0]).dividedToIntegerBy(Math.pow(10, decimals)).toFixed(3)\r\n        data.totalMarketWind =  new Bignumber(result[1]).dividedToIntegerBy(Math.pow(10, decimalsWind)).toFixed(3)\r\n        data.userWindBlance = new Bignumber(result[2]).dividedToIntegerBy(Math.pow(10, decimalsWind)).toFixed(3)\r\n      },\r\n      getCurCycleIncome: async () => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let cur =  await data.BsnContract.methods.getCurCycleIncome().call();\r\n        let dayNum = await data.BsnDataContract.methods.getCurDayNum().call()\r\n        let yesMarketToTalMoney = await data.BsnDataContract.methods.getCurCycleData(dayNum - 1).call();\r\n        data.curCycleIncome = Number(cur.curAmount / Math.pow(10, decimals)).toFixed(2)\r\n        data.marketToTalMoney = Number(cur.curDayMarketTotal / Math.pow(10, decimals)).toFixed(2);\r\n        data.yesPool = Number(yesMarketToTalMoney.poolAmount / Math.pow(10, decimals)).toFixed(2)\r\n        console.log('yesMarketToTalMoney', yesMarketToTalMoney)\r\n      },\r\n      getUserInfo: async () => {\r\n        let  userInfo = await data.BsnDataContract.methods.getUserInfo(data.address).call();\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let proportion = await data.BsnDataContract.methods.getProportion().call();\r\n        data.userMarket = Number(userInfo.marketProvide * proportion[0]/proportion[1]/ Math.pow(10, decimals)).toFixed(2);\r\n      },\r\n      addpoolMoney: async () => {\r\n        if (data.amount < 1000) {\r\n          Toast('数量必须大于等于1000')\r\n          return\r\n        }\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let amount = new Bignumber(data.amount).multipliedBy(Math.pow(10, decimals)).toString();\r\n        let balance = await data.BusdContract.methods.balanceOf(data.address).call();\r\n        if (amount > balance) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        if (!data.web3.utils.isAddress(data.intro)) {\r\n          data.intro = AddressZero\r\n        }\r\n         await data.BsnContract.methods.addMarketPool(amount, data.intro).send({from: data.address, gasPrice: gasPrice});\r\n         Toast('参与成功')\r\n         data.initData()\r\n      },\r\n      approveWind: async () => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.windTokenContract.methods.approve(config.frozen, MaxUint256).send({from: data.address, gasPrice: gasPrice});\r\n        data.getTokenAllowance() \r\n      },\r\n      approve: async () => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n         await data.BusdContract.methods.approve(config.BsnAddress, MaxUint256).send({from: data.address, gasPrice: gasPrice});\r\n        data.getTokenAllowance()\r\n      },\r\n      getTokenAllowance: async () => {\r\n        let result = await data.BusdContract.methods.allowance(data.address, config.BsnAddress).call();\r\n        let wResult = await data.windTokenContract.methods.allowance(data.address, config.frozen).call();\r\n        data.tokenAllowance = result;\r\n        data.windAllowance = wResult;\r\n      },\r\n      markerRedeem: async () => {\r\n        if (data.wAmount <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        data.showModal = false;\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let amount = new Bignumber(data.wAmount).multipliedBy(Math.pow(10, decimals)).toString();\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.BsnContract.methods.markerRedeem(amount).send({from: data.address, gasPrice: gasPrice});\r\n        Toast('赎回成功')\r\n        data.initData()\r\n      },\r\n      freezeToken: async () => {\r\n        if (data.windAmount <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        data.showDjModal = false\r\n        let decimals = await data.windTokenContract.methods.decimals().call();\r\n        let amount = new Bignumber(data.windAmount).multipliedBy(Math.pow(10, decimals)).toFixed();\r\n         let balance = await data.windTokenContract.methods.decimals().call();\r\n        if (amount > balance) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.freezeContract.methods.stake(amount).send({from: data.address, gasPrice: gasPrice});\r\n         Toast('冻结成功')\r\n        data.initData()\r\n      },\r\n      withdrawFreezeToken: async () => {\r\n        if (Number(data.shAmount) <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        if (Number(data.shAmount) <= Number(data.userBlance)) {\r\n          data.showShModal = false;\r\n          let decimals = await data.windTokenContract.methods.decimals().call();\r\n          let amount = new Bignumber(data.shAmount).multipliedBy(Math.pow(10, decimals)).toFixed();\r\n          let gasPrice = await data.web3.eth.getGasPrice()\r\n          await data.freezeContract.methods.withdraw(amount).send({from: data.address, gasPrice: gasPrice});\r\n           Toast('领取成功')\r\n          data.initData()\r\n        } else {\r\n          Toast('数量不足')\r\n        }\r\n      },\r\n      getFreezeIncome: async() => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let income = await data.freezeContract.methods.earned(data.address).call();\r\n        let decimalsWind = await data.windTokenContract.methods.decimals().call();\r\n        let userBlance  = await data.freezeContract.methods.balanceOf(data.address).call();\r\n        data.userBlance = new Bignumber(userBlance).dividedBy(Math.pow(10, decimalsWind)).toFixed(3);\r\n        data.freezeIncome = new Bignumber(income).dividedBy(Math.pow(10, decimals)).toFixed(3);\r\n      },\r\n      getFreezeToken: async () => {\r\n        let blance = await data.freezeContract.methods.totalSupply().call();\r\n        let decimals = await data.windTokenContract.methods.decimals().call();\r\n        console.log(blance)\r\n        data.freezeTokenNum = Number(blance / Math.pow(10, decimals)).toFixed(2);\r\n      },\r\n      getMarketIncome: async () => {\r\n        let curNum = await data.BsnDataContract.methods.dayNum().call()\r\n        let decimals = await data.windTokenContract.methods.decimals().call();\r\n        let result = await data.BsnDataContract.methods.getCurCycleData(curNum - 1).call()\r\n        let userNum = await data.BsnDataContract.methods.getUserDayMarket(data.address, curNum -1).call();\r\n        let isGet = await data.BsnDataContract.methods.isDividend(data.address, curNum -1).call();\r\n        data.isGet = isGet\r\n        if (!isGet) {\r\n           data.marketIncome = new Bignumber(userNum).multipliedBy(result._windToken).dividedBy(result._marketToTalMoney).dividedBy(Math.pow(10, decimals)).toFixed(4)\r\n        } else {\r\n          data.marketIncome = 0.000\r\n        }\r\n        \r\n      },\r\n      getReward: async () => {\r\n         let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.freezeContract.methods.getReward().send({from: data.address, gasPrice: gasPrice});\r\n        data.getFreezeIncome()\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.pool-block {\r\n  position: relative;\r\n  overflow: hidden;\r\n  color: rgba(153, 153, 153, 1) !important;\r\n  &.pool-block--bg {\r\n    background: rgba(26, 28, 37, .7) url('~@/assets/images/img2@2x.png') no-repeat right 0 !important;\r\n    background-size: 87px auto !important;\r\n  }\r\n  .pool-block--title {\r\n    font-size: 20px;\r\n    line-height: 30px;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 15px;\r\n  }\r\n  .cell-balance {\r\n    margin: 0 !important;\r\n    .big-num {\r\n      font-size: 25px !important;\r\n      color: rgba(251, 197, 9, 1) !important;\r\n    }\r\n  }\r\n  .fs12 {\r\n    font-size: 12px !important;\r\n  }\r\n  .mt12 {\r\n    margin-top: 12px !important;\r\n  }\r\n  .cell-button {\r\n    margin-top: 14px !important;\r\n    .van-button + .van-button {\r\n      margin-left: 15px;\r\n    }\r\n  }\r\n  .border-1px-t {\r\n    margin-top: 20px !important;\r\n    padding-top: 20px;\r\n  }\r\n  .pool-block--tip {\r\n    margin-top: 12px;\r\n    font-size: 12px;\r\n  }\r\n  .pool-block--link {\r\n    font-size: 12px;\r\n    line-height: 23px;\r\n    .btn {\r\n      padding: 0 17px;\r\n      color: rgba(13, 14, 17, 1);\r\n      line-height: 23px;\r\n      border-radius: 12px;\r\n      font-size: 13px;\r\n      background: rgba(251, 197, 9, 1);\r\n      margin-top: -12px;\r\n    }\r\n  }\r\n  .icon-box {\r\n    justify-content: flex-end;\r\n    white-space: nowrap;\r\n    .icon-right {\r\n      height: 20px;\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n  .cell-sellect {\r\n    margin-bottom: 8px !important;\r\n  }\r\n}\r\n.modal-tip {\r\n  font-size: 14px;\r\n  color: #8F80BA;\r\n  margin-bottom: 10px;\r\n}\r\n.modal-box .modal-btn {\r\n  margin-top: 30px !important;\r\n}\r\n</style>","import { render } from \"./IndexPool.vue?vue&type=template&id=26bfaa02&scoped=true\"\nimport script from \"./IndexPool.vue?vue&type=script&lang=js\"\nexport * from \"./IndexPool.vue?vue&type=script&lang=js\"\n\nimport \"./IndexPool.vue?vue&type=style&index=0&id=26bfaa02&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-26bfaa02\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=7324dd31&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7324dd31&lang=less\"\nimport \"./index.vue?vue&type=style&index=1&id=7324dd31&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7324dd31\"\n\nexport default script","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB30lEQVRYR+2WMUsdQRRGzxdQAomNiIH8lWARtLUQwUaQEEwIgj6bgIq2MWKl6VKmyS9IitQxpEggnVVALBQrsbIwcsPFWdi3z30z+3aLV+y2s7P38J25d0cM2aMh46EFihlpE2oTiiUQW2/PUJtQLIHYuszsKfAReAZ8Ad5KOo9trLNuZg+AKeADMAnsA4eSbhzIYV6FArcBqiPppE7Rsr1mNgosAXvAeHjvCliQ9M2Bvod0sm/8A46AOUmXTUKFZF4Cu8BE7tvXwBtJnxzoNXAAPCwU/wnMSzprAirAzACfc8lkn/4LzEo6diAH2QE6wKNccdf3FVirq69EU1bqD7AqyU3dXT/MbAzYAjYKadTW10eTl3KYZUm/s7pdk9rM3oekGtEX0XQKLGbJlAE1pq+KpryVnn9ZE/qqauoLlC2ambfmetXuG0RTKpDr2w5QSd03qKYkoNB9j0P3bca6r46mZKBUfcAFMF0y9O7tprJhm3RBC8Ozn74f/lO+ZwJ3Db2UiZ8ElKDPB2hxdvUMvUaBEvTl61XSVPkM5Tfk9Pm/zw998amsqRZQRN9AmmoD5fS9A1YAv3T5NeVF8d+Ucm6aBBoBngNPgF9+n6kKUHw/ucvqFkrd3wLFkhq6hP4DEQ/PJdJHpB4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAABGElEQVQ4T42SQU7CQBiF3yuFBBqchJ0HcNGFeAWX4t6Q4hnAs4hnEGLci0uvABsW7nVjSEbSmujIb9oKQpm2znLmvS//zDdEwbrUjY4AHKnoIS/GvINTgXu49GYU8OUgPH4ijC2bC+jp+gBwrtPS6mqkPob/BlxotFx4zwRacUmAhUF4dK+wyEKsEwS6MSTY3w4L5GasokEpoLus+RVxpxBWMwCzckz7rvk5397fmyDQ3oTAme2+AjyOVdjJBaTamKssLhJyfquiyRqymSDR9u7NCPhFf0OI+WszbK+1bgCBrvcJx6pqH/inNQFktRVNkNWaAGzayiGpVnbfan6l6k6BXW1lAFC+vmlO2NNe/Oo7akrLv4FY6w8tG2OUfMk4GQAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=7324dd31&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAFDUlEQVRYR62YXYhUZRzGn+fMOTPn+IGVqeiFn0ilVkIaqzOu2ScKXoWGQYpKRdonFrhdhDcZRVBk2IUmWzeGQZikkcqK7sysX1mhFJVgVGtpeBPtnrPn64kz7tbu7Mzunl3PzcC8z//3Puf//t/3/c8QQ3z8k6PuMUKtF3UfgJkATIKXBZyOhU+yeXc/iXiIuLoyDgbQCUwIM85OAI8CqKsXdMGCsYH5zjODMQcaH9CQdzw32zCNIwSmDW0SdZF8wlzsfjo0fX9V/Tduxc2RYZ8ROCsVnPIR40Gr4LWmiusW1zXkF+3dJDcOByrhkhW4c7gMXtr4moZ0yp4RhvwpKdy0wB69EG/K5rs+SBtf01BQtF8F+XpaWJW+bOXdfFpGTUNhyT4ocEVaWF+9ArPdG8PV8NNwahryS/Z5gvPSgGppzVjTuMT7NQ2ntqGifYHk3DSgmoZCTOVS97c0nHo1dAjk8jSg/lr5pu+N5jKEaTj1DDWB3J4GVMPQcSvvJddMqqf2tm+1p4YGLgK0UtF6iRVrY3aJtydtfN2DMSzZOwU+kxaY6AX9aLV7d6XdYUls/aujiLEh7dMAb09lSvIUc2m20T2dKq5bPODl6h6zp5s5HIY4e2hwuYRWmfmug0PT91cN3n5cv2R3CHx84PYD31hxuJ5Lgu+Ga2bAJauG+q3W3TDMDYTuB5B0AKbEP0C0CdHe7GL/AAmNxEwqQ8OdSKcwPgzsp0GuJDRPoA3gioSSgbjZLHR92Zs96JIN10gSF5adNYqxE8RN9Tk6bGa8tWzAlSFlSKUxE0OGdxKcGEs5ENkkMANZgMEI8o0YHYKumh1dZT6CjmQ8Ko/aHEs7+tadfpBwhsBjIHM9JgVdtODlmcfV2gfjWViRZ6+TwSchLByomHugBNoz49yZnAc/KDmLACQdY6Z3ZkzLncx78WdX0d5ukE19siYdsQrew/0M+UWnAVQzwdvSLZfetPLe1iQmKDnHATRWx1t5tzKfX3ZepPBO9TgVr+hjqKvVWWMYagZYWZZ0jx6w8l6LSrlZIYyfa2V1MEMi9v1nKGzLLVfMAwCH1bZ6kTtxbCP+8lvttTT4UffLfGsY+Bgxokrd5d33kk+VrPkxzEoGY2gShC3dNdVeMdRxApOzGec8gPHpsvK/2jziZrgNcVB0XgHxVjJiZsIFbAi+HowZlu1miesgRBVDYcneI3D9YIEDjZv/uGOSHeYXc8+SRrK7AOo183dvO1dfz1CtR0cxKRxlt0CcQ+hvdhQxJUv7l5G0GtezEc1lg/99ULSXgWypNflgNQTgJKOy80IsvDuS7FTqAnoqm/d26Sys0HMug7g17S5DrCYGZecAhJUjNQTpqFXwHko4QdneCvGNaqbpu1bS0gYlZwuAt6vGr5mxO5t+yb5EcPqIDQFSFC7INgbntA/ZcIrTAqLqd5m2KY6+oGHuBjC/15wxFa0yC/5nDEp2J0DnBhhKEG2m7zYmWVAZtwSx8zmJwsBs+RI2ZQveh5V9EBSdEOx7xI/EHIX3zYL7XKWujsEMs87zBF4WMLmKG4P6SlHUlO3VQzEoOcn/OQtGYqI6lsCOTLv7Us927za2kNQdlOwQxpVQbBtd6LzcLzZpvIyMuV/Cjaij3vyTMsLN2UXBuTQvWzkYdQi5aJyzUqis9wwAEySNN8ixAmxIWRBGP7CYfJ8BlPx+jyB2AXBJdUjsBHWN5C5zsbt3qKb+BU+dBpG/i17KAAAAAElFTkSuQmCC\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexOption.vue?vue&type=style&index=1&id=5630460c&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAABEklEQVQ4T42SPW7CQBCF31st/mm5QwqKkJqYJl3IXYCzxLkL0EWR7FCHhiJ3oDW2N57IVmzF1tpm23nv02i+JQaeObor/IB6me76YuwbyDu0cb2TCDjJrvd8grFlewFZ7G4I9VqWBNg6QRLeDJBPTI343wCmf6WLZnLHR1y6EOsGJvZDAdb/wwTedJBsRgFydGamUF8AJ+2wGK2KORfZuQNux/LI24N8th5X5DBZXle9ABO5K6HqVVYWqYoXvUj3NaS5Qaktd7wTwdnQ3wDlrNPrvNbaALLYXRPKqqoLFBRbJ0irbAWwaBtcAkCjtQJkkR+SbW1jhFor0w9nprRN2xhCcq2KB+aRtwPZUjNWbeYih1/pG2KCuOKpDQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAh1BMVEUAAAAexdMit8cfx9QeyNUfx9Qfx9Qhx88fx9Qex9Qfx9QfyNUex9UfyNQeyNQfx9QfxNAivdMfx9QfyNQgxtIextUex9Qex9Qex9Qfx9Udx9Mex9Ufx9Uex9Uex9Mfx9Qex9QeyNUfy9cdxtMfydMex9QfyNQex9Qcxtcbv9Eeydsgv98fx9TtjM00AAAALHRSTlMAgAP6h/F6D/zayuB+6MQmFAX39DMMn5dzX1hSjGdD67qwKSI40ms/LRwVCCtVfaAAAAGmSURBVEjH7ZfZkoIwEEVlgIQAsm+CbOJu/v/7ZtrSRGBi4GmcKu4bSR/odN+iOquR/J1GVDqQSrSdv5IKI4v+KgthGeujgAoUINm3z2sq1PosxL7cPLOVFqIcTRlIc2C9VdAxd7/GrJda+qNODt/nb3YeldOt1Btunghl0jjLA7SX0lX9gIpQriQew3FCuUjVy7nXHj2LR2ym99rmveSU3osJPshVKpSa/zhoe29HyhN3LWALWLg2Yrjx4EMF0JbL4FznZYqIiCURL52eMziDXJ/vurTrYEwG6/byzBNOkDHYhm12Cn9f2spAqNz7rEIQbTNYgcfVZEG0ssB/DUemQQUyzEgCm/SNHAmsv4N1CbwNxWyoSWC8sRWB7A3+2FYtJllM8sHwyCThFnNstknCDcdmm8TIODbXJAbZc2yuSdDpP7RqgafACPwcT2UxwIg9ljB4FVPhAsayks+8NfwavWmsB5N3XfGZ1oShLulucvTWJTAumvFLJrBAD6kiVXqASLUYzPFyie4COAmmo2qCB2VAZCpL0HV0A+nKpjZkoFE3x47l/A32Zsn694VFeQAAAABJRU5ErkJggg==\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexPool.vue?vue&type=style&index=0&id=26bfaa02&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABWklEQVRIS6WWvy4FURCHvxOJRKOQeAoatDqER1Bp9QqJUryKRqtREAoFGt5DIbmNdmTunStzz55/e+52m939vnPmNzu7QUQugGvgDTgNIfywxCEim8AdsAdcBhH5BdaM+Qkc9UoM/gxsG+9bBU/AgVt0lyQBV+S9CjYAlez0SjLwD+A4KHQZSREewmQq6JXU4Mr9F4yVtMAHglZJKzwpqEmAFcC3oj4yCzSESfwKLZTIXywEv+r6vAjP7qASvF9HduXzm7I7aJBU4dUdWB46W+Ka66WmN764g0y3+BJVJaWQUyvXsmjIfqx8AYe5AZkUlPrc2jSeXVnJQGDwF2DL1WIh0EwLJyXxqNCyFOGV7hpI/LBrho+RzMf1aHirRD843fBI8gjsutxm5RKRV2A/F2g8vHLnFnwseVCBTsB1e/AdOElNxRZRQjL96J8DN/bbctYLj8p1a+W6+gNxI+wjtHGjaQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACeklEQVRYR7WYP4sVMRRHz8VC/AgiCtaCKIK4WogWNhaKIPgJtNFWttRWrEWtBMU/lWAhWoiVheIuwu4HEFYstBcrr9w188xkJzM3ybxXLTuPyXk5uTe/RFR1H3APOAd8BG4AmyKiLPGjqgIcBe4Cp4CXwE1RVfvjYhjbIL4YlIh8WCIPqnoSeAAcAgzOPi8M6BewJxrcoL4Cl0VkbRlQqnrCBgf2RzA21A8Deg+cTh7Yw+/ABWBtLn1B0wrwDDiQ/FibiLcGdBh4BBxJoGbXl9FkXDbWJ+CaAZk/8/kYODhAPYu+EU025BZwCVjvFpMtsmPAK2DvnPocmr4B50Vkw8gWQNvz9g/qYSjH+Fm1Poem6yLyuTOTAs2qz61J5M8gUPfPVn2lmuJ125uh+EGLvlJNXqAqfTWaXECl+sL3x5per5pyO0BWWam+0NzSvSluer1qagXy6Ns1sDf1m15UTU1ATn3pGNa7XJqK1tCOUfLNs2c57E0uTa1AY/q6d//fmxya5gDKVVP37uro4qqypOKGkt7Q+qlKnkVAE01vCKo4uriAosz0NJP0rJqs7JujixfITgX3k0Dea3qhMTZHl0kgVbUF/Hyq6QWg5uQ5ttt35T2maZH0nM1zsvrGgCY1xUmvdO/LnfsGgbyaJNP0Wg4OuQhbpCm3UdYkzxSoWtMElLv64mOQq5pymkaAPNFlcWyPD4qzaGrWFzzbUTq+hShOejmQwuq7ajP0DjgzcFqtjhAN+t4Y0G9gd/SSqqTnmSFH8/xpQHY1ciV8ubuFKE56JUDb62Fn8rSxnxiQ3dPcAc7aXRCwCmyUVlMFkFWf3SXcBo4Dr4FbfwFA8aU/chve7AAAAABJRU5ErkJggg==\"","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.F2 = {}));\n}(this, (function (exports) { 'use strict';\n\n    var isArrayLike = function (value) {\n      /**\n       * isArrayLike([1, 2, 3]) => true\n       * isArrayLike(document.body.children) => true\n       * isArrayLike('abc') => true\n       * isArrayLike(Function) => false\n       */\n      return value !== null && typeof value !== 'function' && isFinite(value.length);\n    };\n\n    var contains = function (arr, value) {\n      if (!isArrayLike(arr)) {\n        return false;\n      }\n\n      return arr.indexOf(value) > -1;\n    };\n\n    var filter = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n\n        if (func(value, index)) {\n          result.push(value);\n        }\n      }\n\n      return result;\n    };\n\n    var toString = {}.toString;\n\n    var isType = function (value, type) {\n      return toString.call(value) === '[object ' + type + ']';\n    };\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n    var isFunction = (function (value) {\n      return isType(value, 'Function');\n    });\n\n    // isFinite,\n    var isNil = function (value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isArray = (function (value) {\n      return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n    });\n\n    var isObject = (function (value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value;\n      return value !== null && type === 'object' || type === 'function';\n    });\n\n    function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst;\n\n      if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    var keys = Object.keys ? function (obj) {\n      return Object.keys(obj);\n    } : function (obj) {\n      var result = [];\n      each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n          result.push(key);\n        }\n      });\n      return result;\n    };\n\n    function isMatch(obj, attrs) {\n      var _keys = keys(attrs);\n\n      var length = _keys.length;\n      if (isNil(obj)) return !length;\n\n      for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isObjectLike = function (value) {\n      /**\n       * isObjectLike({}) => true\n       * isObjectLike([1, 2, 3]) => true\n       * isObjectLike(Function) => false\n       * isObjectLike(null) => false\n       */\n      return typeof value === 'object' && value !== null;\n    };\n\n    var isPlainObject = function (value) {\n      /**\n       * isObjectLike(new Foo) => false\n       * isObjectLike([1, 2, 3]) => false\n       * isObjectLike({ x: 0, y: 0 }) => true\n       * isObjectLike(Object.create(null)) => true\n       */\n      if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n      }\n\n      if (Object.getPrototypeOf(value) === null) {\n        return true;\n      }\n\n      var proto = value;\n\n      while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n      }\n\n      return Object.getPrototypeOf(value) === proto;\n    };\n\n    function find(arr, predicate) {\n      if (!isArray(arr)) return null;\n\n      var _predicate;\n\n      if (isFunction(predicate)) {\n        _predicate = predicate;\n      }\n\n      if (isPlainObject(predicate)) {\n        _predicate = function (a) {\n          return isMatch(a, predicate);\n        };\n      }\n\n      if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n          if (_predicate(arr[i])) {\n            return arr[i];\n          }\n        }\n      }\n\n      return null;\n    }\n\n    var getRange = function (values) {\n      // 存在 NaN 时，min,max 判定会出问题\n      var filterValues = values.filter(function (v) {\n        return !isNaN(v);\n      });\n\n      if (!filterValues.length) {\n        // 如果没有数值则直接返回0\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      if (isArray(values[0])) {\n        var tmp = [];\n\n        for (var i = 0; i < values.length; i++) {\n          tmp = tmp.concat(values[i]);\n        }\n\n        filterValues = tmp;\n      }\n\n      var max = Math.max.apply(null, filterValues);\n      var min = Math.min.apply(null, filterValues);\n      return {\n        min: min,\n        max: max\n      };\n    };\n\n    var isString = (function (str) {\n      return isType(str, 'String');\n    });\n\n    var uniq = function (arr) {\n      var resultArr = [];\n      each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n          resultArr.push(item);\n        }\n      });\n      return resultArr;\n    };\n\n    function head(o) {\n      if (isArrayLike(o)) {\n        return o[0];\n      }\n\n      return undefined;\n    }\n\n    function last(o) {\n      if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n      }\n\n      return undefined;\n    }\n\n    var fixedBase = function (v, base) {\n      var str = base.toString();\n      var index = str.indexOf('.');\n\n      if (index === -1) {\n        return Math.round(v);\n      }\n\n      var length = str.substr(index + 1).length;\n\n      if (length > 20) {\n        length = 20;\n      }\n\n      return parseFloat(v.toFixed(length));\n    };\n\n    /**\n     * 判断是否数字\n     * @return {Boolean} 是否数字\n     */\n\n    var isNumber = function (value) {\n      return isType(value, 'Number');\n    };\n\n    var toString$1 = (function (value) {\n      if (isNil(value)) return '';\n      return value.toString();\n    });\n\n    var lowerFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toLowerCase() + str.substring(1);\n    };\n\n    function substitute(str, o) {\n      if (!str || !o) {\n        return str;\n      }\n\n      return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n          return match.slice(1);\n        }\n\n        return o[name] === undefined ? '' : o[name];\n      });\n    }\n\n    var upperFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    };\n\n    var toString$2 = {}.toString;\n\n    var getType = function (value) {\n      return toString$2.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n    };\n\n    /**\n     * 是否是布尔类型\n     *\n     * @param {Object} value 测试的值\n     * @return {Boolean}\n     */\n\n    var isBoolean = function (value) {\n      return isType(value, 'Boolean');\n    };\n\n    var isDate = function (value) {\n      return isType(value, 'Date');\n    };\n\n    var objectProto = Object.prototype;\n\n    var isPrototype = function (value) {\n      var Ctor = value && value.constructor;\n      var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n      return value === proto;\n    };\n\n    // FIXME: Mutable param should be forbidden in static lang.\n    function _mix(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    function mix(dist, src1, src2, src3) {\n      if (src1) _mix(dist, src1);\n      if (src2) _mix(dist, src2);\n      if (src3) _mix(dist, src3);\n      return dist;\n    }\n\n    var MAX_MIX_LEVEL = 5;\n\n    function _deepMix(dist, src, level, maxLevel) {\n      level = level || 0;\n      maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          var value = src[key];\n\n          if (value !== null && isPlainObject(value)) {\n            if (!isPlainObject(dist[key])) {\n              dist[key] = {};\n            }\n\n            if (level < maxLevel) {\n              _deepMix(dist[key], value, level + 1, maxLevel);\n            } else {\n              dist[key] = src[key];\n            }\n          } else if (isArray(value)) {\n            dist[key] = [];\n            dist[key] = dist[key].concat(value);\n          } else if (value !== undefined) {\n            dist[key] = value;\n          }\n        }\n      }\n    } // todo 重写\n\n\n    var deepMix = function (rst) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n      }\n\n      return rst;\n    };\n\n    var indexOf = function (arr, obj) {\n      if (!isArrayLike(arr)) {\n        return -1;\n      }\n\n      var m = Array.prototype.indexOf;\n\n      if (m) {\n        return m.call(arr, obj);\n      }\n\n      var index = -1;\n\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n          index = i;\n          break;\n        }\n      }\n\n      return index;\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    function isEmpty(value) {\n      /**\n       * isEmpty(null) => true\n       * isEmpty() => true\n       * isEmpty(true) => true\n       * isEmpty(1) => true\n       * isEmpty([1, 2, 3]) => false\n       * isEmpty('abc') => false\n       * isEmpty({ a: 1 }) => false\n       */\n      if (isNil(value)) {\n        return true;\n      }\n\n      if (isArrayLike(value)) {\n        return !value.length;\n      }\n\n      var type = getType(value);\n\n      if (type === 'Map' || type === 'Set') {\n        return !value.size;\n      }\n\n      if (isPrototype(value)) {\n        return !Object.keys(value).length;\n      }\n\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isEqual = function (value, other) {\n      if (value === other) {\n        return true;\n      }\n\n      if (!value || !other) {\n        return false;\n      }\n\n      if (isString(value) || isString(other)) {\n        return false;\n      }\n\n      if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < value.length; i++) {\n          rst = isEqual(value[i], other[i]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n\n        if (valueKeys.length !== otherKeys.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < valueKeys.length; i++) {\n          rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      return false;\n    };\n\n    var map = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n      }\n\n      return result;\n    };\n\n    function size(o) {\n      if (isNil(o)) {\n        return 0;\n      }\n\n      if (isArrayLike(o)) {\n        return o.length;\n      }\n\n      return Object.keys(o).length;\n    }\n\n    function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0, len = dataArray.length; i < len; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    }\n\n    function values(data, name) {\n      var rst = [];\n      var tmpMap = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (!isArray(value)) {\n            if (!tmpMap[value]) {\n              rst.push(value);\n              tmpMap[value] = true;\n            }\n          } else {\n            each(value, function (val) {\n              if (!tmpMap[val]) {\n                rst.push(val);\n                tmpMap[val] = true;\n              }\n            });\n          }\n        }\n      }\n\n      return rst;\n    }\n\n    function firstValue(data, name) {\n      var rst = null;\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (isArray(value)) {\n            rst = value[0];\n          } else {\n            rst = value;\n          }\n\n          break;\n        }\n      }\n\n      return rst;\n    }\n\n    function groupToMap(data, fields) {\n      if (!fields) {\n        return {\n          0: data\n        };\n      }\n\n      var callback = function callback(row) {\n        var unique = '_';\n\n        for (var i = 0, l = fields.length; i < l; i++) {\n          unique += row[fields[i]] && row[fields[i]].toString();\n        }\n\n        return unique;\n      };\n\n      var groups = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var row = data[i];\n        var key = callback(row);\n\n        if (groups[key]) {\n          groups[key].push(row);\n        } else {\n          groups[key] = [row];\n        }\n      }\n\n      return groups;\n    }\n\n    function group(data, fields, appendConditions) {\n      if (appendConditions === void 0) {\n        appendConditions = {};\n      }\n\n      if (!fields) {\n        return [data];\n      }\n\n      var groups = groupToMap(data, fields);\n      var array = [];\n\n      if (fields.length === 1 && appendConditions[fields[0]]) {\n        var _values = appendConditions[fields[0]];\n        each(_values, function (value) {\n          value = '_' + value;\n          array.push(groups[value]);\n        });\n      } else {\n        for (var i in groups) {\n          array.push(groups[i]);\n        }\n      }\n\n      return array;\n    }\n\n    function remove(arr, obj) {\n      if (!arr) {\n        return;\n      }\n\n      var index = arr.indexOf(obj);\n\n      if (index !== -1) {\n        arr.splice(index, 1);\n      }\n    }\n\n    function getRange$1(values) {\n      if (!values.length) {\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      var max = Math.max.apply(null, values);\n      var min = Math.min.apply(null, values);\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var array = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        merge: merge,\n        values: values,\n        firstValue: firstValue,\n        group: group,\n        groupToMap: groupToMap,\n        remove: remove,\n        getRange: getRange$1\n    });\n\n    /**\n     * Detects support for options object argument in addEventListener.\n     * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n     * @private\n     */\n\n    var supportsEventListenerOptions = function () {\n      var supports = false;\n\n      try {\n        var options = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            supports = true;\n          }\n        });\n        window.addEventListener('e', null, options);\n      } catch (e) {// continue regardless of error\n      }\n\n      return supports;\n    }(); // Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n    // https://github.com/chartjs/Chart.js/issues/4287\n\n\n    var eventListenerOptions = supportsEventListenerOptions ? {\n      passive: true\n    } : false;\n    /* global wx, my */\n    // weixin miniprogram\n\n    var isWx = typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function'; // ant miniprogram\n\n    var isMy = typeof my === 'object' && typeof my.getSystemInfoSync === 'function'; // in node\n\n    var isNode = typeof global && !typeof window; // in browser\n\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n\n    function isCanvasElement(el) {\n      if (!el || typeof el !== 'object') return false;\n\n      if (el.nodeType === 1 && el.nodeName) {\n        // HTMLCanvasElement\n        return true;\n      } // CanvasElement\n\n\n      return !!el.isCanvasElement;\n    }\n\n    function getPixelRatio() {\n      return window && window.devicePixelRatio || 1;\n    }\n\n    function getStyle(el, property) {\n      return el.currentStyle ? el.currentStyle[property] : document.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n    }\n\n    function getWidth(el) {\n      var width = getStyle(el, 'width');\n\n      if (width === 'auto') {\n        width = el.offsetWidth;\n      }\n\n      return parseFloat(width);\n    }\n\n    function getHeight(el) {\n      var height = getStyle(el, 'height');\n\n      if (height === 'auto') {\n        height = el.offsetHeight;\n      }\n\n      return parseFloat(height);\n    }\n\n    function getDomById(id) {\n      if (!id) {\n        return null;\n      }\n\n      return document.getElementById(id);\n    }\n\n    function getRelativePosition(point, canvas) {\n      var canvasDom = canvas.get('el');\n      if (!canvasDom) return point;\n\n      var _canvasDom$getBoundin = canvasDom.getBoundingClientRect(),\n          top = _canvasDom$getBoundin.top,\n          left = _canvasDom$getBoundin.left;\n\n      var paddingLeft = parseFloat(getStyle(canvasDom, 'padding-left'));\n      var paddingTop = parseFloat(getStyle(canvasDom, 'padding-top'));\n      var mouseX = point.x - left - paddingLeft;\n      var mouseY = point.y - top - paddingTop;\n      return {\n        x: mouseX,\n        y: mouseY\n      };\n    }\n\n    function addEventListener(source, type, listener) {\n      source.addEventListener(type, listener, eventListenerOptions);\n    }\n\n    function removeEventListener(source, type, listener) {\n      source.removeEventListener(type, listener, eventListenerOptions);\n    }\n\n    function landscapePoint(point, canvas) {\n      var landscape = canvas.get('landscape');\n\n      if (!landscape) {\n        return point;\n      }\n\n      if (isFunction(landscape)) {\n        return landscape(point, canvas);\n      } // 默认顺时针旋转90度\n\n\n      var height = canvas.get('height');\n      var x = point.y;\n      var y = height - point.x;\n      return {\n        x: x,\n        y: y\n      };\n    }\n\n    function convertPoints(ev, canvas) {\n      var touches = ev.touches; // 认为是mouse事件\n\n      if (!touches) {\n        var point = getRelativePosition({\n          x: ev.clientX,\n          y: ev.clientY\n        }, canvas);\n        return [landscapePoint(point, canvas)];\n      } // 单指 touchend 后，touchs 会变空，最后的触点要从changedTouches里拿\n\n\n      if (!touches.length) {\n        // 为了防止万一，加个空逻辑\n        touches = ev.changedTouches || [];\n      }\n\n      var points = [];\n\n      for (var i = 0, len = touches.length; i < len; i++) {\n        var touch = touches[i]; // x, y: 相对canvas原点的位置，clientX, clientY 相对于可视窗口的位置\n\n        var x = touch.x,\n            y = touch.y,\n            clientX = touch.clientX,\n            clientY = touch.clientY;\n\n        var _point = void 0; // 小程序环境会有x,y\n\n\n        if (isNumber(x) || isNumber(y)) {\n          _point = {\n            x: x,\n            y: y\n          };\n        } else {\n          // 浏览器环境再计算下canvas的相对位置\n          _point = getRelativePosition({\n            x: clientX,\n            y: clientY\n          }, canvas);\n        }\n\n        points.push(landscapePoint(_point, canvas));\n      }\n\n      return points;\n    }\n\n    function createEvent(event, chart) {\n      var canvas = chart.get('canvas');\n      var points = convertPoints(event, canvas); // touchend会没有points\n\n      var point = points[0] || {};\n      return {\n        type: event.type,\n        chart: chart,\n        \"native\": event,\n        x: point.x,\n        y: point.y\n      };\n    }\n\n    function measureText(text, font, ctx) {\n      if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n      }\n\n      ctx.font = font || '12px sans-serif';\n      return ctx.measureText(text);\n    }\n\n    /**\n     * @fileOverview Utility for F2\n     * @author dxq613 @gmail.com\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function isObjectValueEqual(a, b) {\n      // for vue.js\n      a = Object.assign({}, a);\n      b = Object.assign({}, b);\n      var aProps = Object.getOwnPropertyNames(a);\n      var bProps = Object.getOwnPropertyNames(b);\n\n      if (aProps.length !== bProps.length) {\n        return false;\n      }\n\n      for (var i = 0, len = aProps.length; i < len; i++) {\n        var propName = aProps[i];\n\n        if (a[propName] !== b[propName]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function parsePadding(padding) {\n      var top;\n      var right;\n      var bottom;\n      var left;\n\n      if (isNumber(padding) || isString(padding)) {\n        top = bottom = left = right = padding;\n      } else if (isArray(padding)) {\n        top = padding[0];\n        right = !isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n        left = !isNil(padding[3]) ? padding[3] : right;\n      }\n\n      return [top, right, bottom, left];\n    }\n\n    function directionEnabled(mode, dir) {\n      if (mode === undefined) {\n        return true;\n      } else if (typeof mode === 'string') {\n        return mode.indexOf(dir) !== -1;\n      }\n\n      return false;\n    }\n\n    function toTimeStamp(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n\n    var Util = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Array: array,\n        upperFirst: upperFirst,\n        lowerFirst: lowerFirst,\n        isString: isString,\n        isNumber: isNumber,\n        isBoolean: isBoolean,\n        isFunction: isFunction,\n        isDate: isDate,\n        isArray: isArray,\n        isNil: isNil,\n        isObject: isObject,\n        isPlainObject: isPlainObject,\n        isEqual: isEqual,\n        deepMix: deepMix,\n        mix: mix,\n        each: each,\n        uniq: uniq,\n        find: find,\n        isObjectValueEqual: isObjectValueEqual,\n        parsePadding: parsePadding,\n        directionEnabled: directionEnabled,\n        toTimeStamp: toTimeStamp,\n        substitute: substitute,\n        isWx: isWx,\n        isMy: isMy,\n        isNode: isNode,\n        isBrowser: isBrowser,\n        isCanvasElement: isCanvasElement,\n        getPixelRatio: getPixelRatio,\n        getStyle: getStyle,\n        getWidth: getWidth,\n        getHeight: getHeight,\n        getDomById: getDomById,\n        getRelativePosition: getRelativePosition,\n        addEventListener: addEventListener,\n        removeEventListener: removeEventListener,\n        createEvent: createEvent,\n        convertPoints: convertPoints,\n        measureText: measureText\n    });\n\n    /**\n     * @fileOverview default theme\n     * @author dxq613@gail.com\n     */\n    var color1 = '#E8E8E8'; // color of axis-line and axis-grid\n\n    var color2 = '#808080'; // color of axis label\n\n    var defaultAxis = {\n      label: {\n        fill: color2,\n        fontSize: 10\n      },\n      line: {\n        stroke: color1,\n        lineWidth: 1\n      },\n      grid: {\n        type: 'line',\n        stroke: color1,\n        lineWidth: 1,\n        lineDash: [2]\n      },\n      tickLine: null,\n      labelOffset: 7.5\n    };\n    var Theme = {\n      fontFamily: '\"Helvetica Neue\", \"San Francisco\", Helvetica, Tahoma, Arial, \"PingFang SC\", \"Hiragino Sans GB\", \"Heiti SC\", \"Microsoft YaHei\", sans-serif',\n      defaultColor: '#1890FF',\n      pixelRatio: 1,\n      padding: 'auto',\n      appendPadding: 15,\n      colors: ['#1890FF', '#2FC25B', '#FACC14', '#223273', '#8543E0', '#13C2C2', '#3436C7', '#F04864'],\n      shapes: {\n        line: ['line', 'dash'],\n        point: ['circle', 'hollowCircle']\n      },\n      sizes: [4, 10],\n      axis: {\n        common: defaultAxis,\n        // common axis configuration\n        bottom: mix({}, defaultAxis, {\n          grid: null\n        }),\n        left: mix({}, defaultAxis, {\n          line: null\n        }),\n        right: mix({}, defaultAxis, {\n          line: null\n        }),\n        circle: mix({}, defaultAxis, {\n          line: null\n        }),\n        radius: mix({}, defaultAxis, {\n          labelOffset: 4\n        })\n      },\n      shape: {\n        line: {\n          lineWidth: 2,\n          lineJoin: 'round',\n          lineCap: 'round'\n        },\n        point: {\n          lineWidth: 0,\n          size: 3\n        },\n        area: {\n          fillOpacity: 0.1\n        }\n      },\n      _defaultAxis: defaultAxis\n    };\n\n    var lang = {\n      general: {\n        title: '这是一个图表，',\n        withTitle: '这是一个关于“{title}”的图表。'\n      },\n      coord: {\n        cartesian: 'X轴是{xLabel}Y轴是{yLabel}' // polar: '弧度是{xLabel}半径是{yLabel}'\n\n      },\n      scale: {\n        linear: '数值型，数据最小值为{min}，最大值为{max}；',\n        cat: '分类型, 分类类型有：{values}；',\n        timeCat: '时间型，时间范围从{start}到{end}；'\n      },\n      geometry: {\n        prefix: '共有{count}种分类组成，',\n        oneData: '第{index}类是{name}，数据是{values};',\n        partData: '第{index}类是{name}，共有{count}项数据，前{part}项是{values};',\n        allData: '第{index}类是{name}，有{count}项数据，分别是{values};'\n      },\n      legend: {\n        prefix: '图例分类有：'\n      }\n    };\n\n    var Global = {\n      version: '3.8.2',\n      scales: {},\n      widthRatio: {\n        column: 1 / 2,\n        rose: 0.999999,\n        multiplePie: 3 / 4\n      },\n      lineDash: [4, 4],\n      lang: lang\n    };\n\n    Global.setTheme = function (theme) {\n      deepMix(Global, theme);\n    };\n\n    Global.setTheme(Theme);\n\n    function _defineProperty(obj, key, value) {\n      if (key in obj) {\n        Object.defineProperty(obj, key, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        obj[key] = value;\n      }\n\n      return obj;\n    }\n\n    function _extends() {\n      _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      return _extends.apply(this, arguments);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    function _assertThisInitialized(self) {\n      if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return self;\n    }\n\n    var EVENT_AFTER_INIT = 'afterinit';\n    var EVENT_BEFORE_RENDER = 'beforerender';\n    var EVENT_AFTER_RENDER = 'afterrender';\n    var EVENT_BEFORE_DATA_CHANGE = 'beforedatachange';\n    var EVENT_AFTER_DATA_CHANGE = 'afterdatachange';\n    var EVENT_AFTER_SIZE_CHANGE = '_aftersizechange';\n    var EVENT_AFTER_GEOM_INIT = '_aftergeominit';\n    var EVENT_BEFORE_GEOM_DRAW = 'beforegeomdraw';\n    var EVENT_AFTER_GEOM_DRAW = 'aftergeomdraw';\n    var EVENT_CLEAR = 'clear';\n    var EVENT_CLEAR_INNER = 'clearinner';\n    var EVENT_REPAINT = 'repaint';\n\n    // 实现简单的事件机制\n\n    var EventEmit = /*#__PURE__*/function () {\n      function EventEmit() {\n        this.__events = {};\n      }\n\n      var _proto = EventEmit.prototype;\n\n      _proto.on = function on(type, listener) {\n        if (!type || !listener) {\n          return;\n        }\n\n        var events = this.__events[type] || [];\n        events.push(listener);\n        this.__events[type] = events;\n      };\n\n      _proto.emit = function emit(type, e) {\n        var _this = this;\n\n        if (isObject(type)) {\n          e = type;\n          type = e && e.type;\n        }\n\n        if (!type) {\n          return;\n        }\n\n        var events = this.__events[type];\n\n        if (!events || !events.length) {\n          return;\n        }\n\n        events.forEach(function (listener) {\n          listener.call(_this, e);\n        });\n      };\n\n      _proto.off = function off(type, listener) {\n        var __events = this.__events;\n        var events = __events[type];\n\n        if (!events || !events.length) {\n          return;\n        } // 如果没有指定方法，则删除所有项\n\n\n        if (!listener) {\n          delete __events[type];\n          return;\n        } // 删除指定的 listener\n\n\n        for (var i = 0, len = events.length; i < len; i++) {\n          if (events[i] === listener) {\n            events.splice(i, 1);\n            i--;\n          }\n        }\n      };\n\n      return EventEmit;\n    }();\n\n    var Base = /*#__PURE__*/function (_Emit) {\n      _inheritsLoose(Base, _Emit);\n\n      var _proto = Base.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      function Base(cfg) {\n        var _this;\n\n        _this = _Emit.call(this) || this;\n        var attrs = {};\n\n        var defaultCfg = _this.getDefaultCfg();\n\n        _this._attrs = attrs;\n        mix(attrs, defaultCfg, cfg);\n        return _this;\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.destroy = function destroy() {\n        this._attrs = {};\n        this.destroyed = true;\n      };\n\n      return Base;\n    }(EventEmit);\n\n    var Plot = /*#__PURE__*/function () {\n      function Plot(cfg) {\n        mix(this, cfg);\n\n        this._init();\n      }\n\n      var _proto = Plot.prototype;\n\n      _proto._init = function _init() {\n        var self = this;\n        var start = self.start;\n        var end = self.end;\n        var xMin = Math.min(start.x, end.x);\n        var xMax = Math.max(start.x, end.x);\n        var yMin = Math.min(start.y, end.y);\n        var yMax = Math.max(start.y, end.y);\n        this.tl = {\n          x: xMin,\n          y: yMin\n        };\n        this.tr = {\n          x: xMax,\n          y: yMin\n        };\n        this.bl = {\n          x: xMin,\n          y: yMax\n        };\n        this.br = {\n          x: xMax,\n          y: yMax\n        };\n        this.width = xMax - xMin;\n        this.height = yMax - yMin;\n      }\n      /**\n       * reset\n       * @param  {Object} start start point\n       * @param  {Object} end end point\n       */\n      ;\n\n      _proto.reset = function reset(start, end) {\n        this.start = start;\n        this.end = end;\n\n        this._init();\n      }\n      /**\n       * check the point is in the range of plot\n       * @param  {Number}  x x value\n       * @param  {[type]}  y y value\n       * @return {Boolean} return the result\n       */\n      ;\n\n      _proto.isInRange = function isInRange(x, y) {\n        if (isObject(x)) {\n          y = x.y;\n          x = x.x;\n        }\n\n        var tl = this.tl;\n        var br = this.br;\n        return tl.x <= x && x <= br.x && tl.y <= y && y <= br.y;\n      };\n\n      return Plot;\n    }();\n\n    var Matrix = {\n      generateDefault: function generateDefault() {\n        return [1, 0, 0, 1, 0, 0];\n      },\n      isChanged: function isChanged(m) {\n        return m[0] !== 1 || m[1] !== 0 || m[2] !== 0 || m[3] !== 1 || m[4] !== 0 || m[5] !== 0;\n      },\n      multiply: function multiply(m1, m2) {\n        var m11 = m1[0] * m2[0] + m1[2] * m2[1];\n        var m12 = m1[1] * m2[0] + m1[3] * m2[1];\n        var m21 = m1[0] * m2[2] + m1[2] * m2[3];\n        var m22 = m1[1] * m2[2] + m1[3] * m2[3];\n        var dx = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var dy = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        return [m11, m12, m21, m22, dx, dy];\n      },\n      scale: function scale(out, m, v) {\n        out[0] = m[0] * v[0];\n        out[1] = m[1] * v[0];\n        out[2] = m[2] * v[1];\n        out[3] = m[3] * v[1];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      rotate: function rotate(out, m, radian) {\n        var c = Math.cos(radian);\n        var s = Math.sin(radian);\n        var m11 = m[0] * c + m[2] * s;\n        var m12 = m[1] * c + m[3] * s;\n        var m21 = m[0] * -s + m[2] * c;\n        var m22 = m[1] * -s + m[3] * c;\n        out[0] = m11;\n        out[1] = m12;\n        out[2] = m21;\n        out[3] = m22;\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      translate: function translate(out, m, v) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4] + m[0] * v[0] + m[2] * v[1];\n        out[5] = m[5] + m[1] * v[0] + m[3] * v[1];\n        return out;\n      },\n      transform: function transform(m, actions) {\n        var out = [].concat(m);\n\n        for (var i = 0, len = actions.length; i < len; i++) {\n          var action = actions[i];\n\n          switch (action[0]) {\n            case 't':\n              Matrix.translate(out, out, [action[1], action[2]]);\n              break;\n\n            case 's':\n              Matrix.scale(out, out, [action[1], action[2]]);\n              break;\n\n            case 'r':\n              Matrix.rotate(out, out, action[1]);\n              break;\n          }\n        }\n\n        return out;\n      }\n    };\n\n    /**\n     * 2 Dimensional Vector\n     * @module vector2\n     */\n    var Vector2 = {\n      /**\n       * Creates a new, empty vector2\n       *\n       * @return {vector2} a new 2D vector\n       */\n      create: function create() {\n        return [0, 0];\n      },\n\n      /**\n       * Calculates the length of a vector2\n       *\n       * @param {vector2} v vector to calculate length of\n       * @return {Number} length of v\n       */\n      length: function length(v) {\n        var x = v[0];\n        var y = v[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Normalize a vector2\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v vector to normalize\n       * @return {vector2} out\n       */\n      normalize: function normalize(out, v) {\n        var len = this.length(v);\n\n        if (len === 0) {\n          out[0] = 0;\n          out[1] = 0;\n        } else {\n          out[0] = v[0] / len;\n          out[1] = v[1] / len;\n        }\n\n        return out;\n      },\n\n      /**\n       * Adds two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      add: function add(out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n      },\n\n      /**\n       * Subtracts vector v2 from vector v1\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      sub: function sub(out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n      },\n\n      /**\n       * Scales a vector2 by a scalar number\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to scale\n       * @param {Number} s amount to scale the vector by\n       * @return {vector2} out\n       */\n      scale: function scale(out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n      },\n\n      /**\n       * Calculates the dot product of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} dot product of v1 and v2\n       */\n      dot: function dot(v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n      },\n\n      /**\n       * Calculates the direction of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Boolean} the direction of v1 and v2\n       */\n      direction: function direction(v1, v2) {\n        return v1[0] * v2[1] - v2[0] * v1[1];\n      },\n\n      /**\n       * Calculates the angle of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} angle of v1 and v2\n       */\n      angle: function angle(v1, v2) {\n        var theta = this.dot(v1, v2) / (this.length(v1) * this.length(v2));\n        return Math.acos(theta);\n      },\n\n      /**\n       * Calculates the angle of two vector2's with direction\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @param {Boolean} direction the direction of two vector2's\n       * @return {Number} angle of v1 and v2\n       */\n      angleTo: function angleTo(v1, v2, direction) {\n        var angle = this.angle(v1, v2);\n        var angleLargeThanPI = this.direction(v1, v2) >= 0;\n\n        if (direction) {\n          if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n          }\n\n          return angle;\n        }\n\n        if (angleLargeThanPI) {\n          return angle;\n        }\n\n        return Math.PI * 2 - angle;\n      },\n\n      /**\n       * whether a vector2 is zero vector\n       *\n       * @param  {vector2} v vector to calculate\n       * @return {Boolean}   is or not a zero vector\n       */\n      zero: function zero(v) {\n        return v[0] === 0 && v[1] === 0;\n      },\n\n      /**\n       * Calculates the euclidian distance between two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} distance between a and b\n       */\n      distance: function distance(v1, v2) {\n        var x = v2[0] - v1[0];\n        var y = v2[1] - v1[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Creates a new vector2 initialized with values from an existing vector\n       *\n       * @param {vector2} v vector to clone\n       * @return {Array} a new 2D vector\n       */\n      clone: function clone(v) {\n        return [v[0], v[1]];\n      },\n\n      /**\n       * Return the minimum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      min: function min(out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Return the maximum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      max: function max(out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Transforms the vector2 with a mat2d\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to transform\n       * @param {mat2d} m matrix to transform with\n       * @return {vector2} out\n       */\n      transformMat2d: function transformMat2d(out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n      }\n    };\n\n    var defaultMatrix = [1, 0, 0, 1, 0, 0];\n\n    var Base$1 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function Base(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        var start;\n        var end;\n\n        if (this.plot) {\n          start = this.plot.bl;\n          end = this.plot.tr;\n          this.start = start;\n          this.end = end;\n        } else {\n          start = this.start;\n          end = this.end;\n        }\n\n        this.init(start, end);\n      }\n\n      _proto._scale = function _scale(s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        Matrix.translate(matrix, matrix, [center.x, center.y]);\n        Matrix.scale(matrix, matrix, [s1, s2]);\n        Matrix.translate(matrix, matrix, [-center.x, -center.y]);\n      };\n\n      _proto.init = function init(start, end) {\n        this.matrix = [].concat(defaultMatrix); // 设置中心点\n\n        this.center = {\n          x: (end.x - start.x) / 2 + start.x,\n          y: (end.y - start.y) / 2 + start.y\n        };\n\n        if (this.scale) {\n          this._scale(this.scale[0], this.scale[1]);\n        }\n      };\n\n      _proto.convertPoint = function convertPoint(point) {\n        var _this$_convertPoint = this._convertPoint(point),\n            x = _this$_convertPoint.x,\n            y = _this$_convertPoint.y;\n\n        if (!Matrix.isChanged(this.matrix)) {\n          return {\n            x: x,\n            y: y\n          };\n        }\n\n        var vector = [x, y];\n        Vector2.transformMat2d(vector, vector, this.matrix);\n        return {\n          x: vector[0],\n          y: vector[1]\n        };\n      };\n\n      _proto.invertPoint = function invertPoint(point) {\n        return this._invertPoint(point);\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        return point;\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        return point;\n      };\n\n      _proto.reset = function reset(plot) {\n        this.plot = plot;\n        var bl = plot.bl,\n            tr = plot.tr;\n        this.start = bl;\n        this.end = tr;\n        this.init(bl, tr);\n      };\n\n      return Base;\n    }();\n\n    var Cartesian = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Cartesian, _Base);\n\n      function Cartesian() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Cartesian.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'cartesian';\n        this.transposed = false;\n        this.isRect = true;\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        this.x = {\n          start: start.x,\n          end: end.x\n        };\n        this.y = {\n          start: start.y,\n          end: end.y\n        };\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        return {\n          x: x.start + (x.end - x.start) * point[xDim],\n          y: y.start + (y.end - y.start) * point[yDim]\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var rst = {};\n        rst[xDim] = (point.x - x.start) / (x.end - x.start);\n        rst[yDim] = (point.y - y.start) / (y.end - y.start);\n        return rst;\n      };\n\n      return Cartesian;\n    }(Base$1);\n\n    Base$1.Cartesian = Cartesian;\n    Base$1.Rect = Cartesian;\n\n    /**\n     * @fileOverview the Attribute base class\n     */\n\n    function toScaleString(scale, value) {\n      if (isString(value)) {\n        return value;\n      }\n\n      return scale.invert(scale.scale(value));\n    }\n    /**\n     * 所有视觉通道属性的基类\n     * @class Attr\n     */\n\n\n    var AttributeBase = /*#__PURE__*/function () {\n      function AttributeBase(cfg) {\n        var _this = this;\n\n        /**\n         * 属性的类型\n         * @type {String}\n         */\n        this.type = 'base';\n        /**\n         * 属性的名称\n         * @type {String}\n         */\n\n        this.name = null;\n        /**\n         * 回调函数\n         * @type {Function}\n         */\n\n        this.method = null;\n        /**\n         * 备选的值数组\n         * @type {Array}\n         */\n\n        this.values = [];\n        /**\n         * 属性内部的度量\n         * @type {Array}\n         */\n\n        this.scales = [];\n        /**\n         * 是否通过线性取值, 如果未指定，则根据数值的类型判定\n         * @type {Boolean}\n         */\n\n        this.linear = null;\n        /**\n         * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n         */\n\n        var mixedCallback = null;\n        var defaultCallback = this.callback;\n\n        if (cfg.callback) {\n          var userCallback = cfg.callback;\n\n          mixedCallback = function mixedCallback() {\n            for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n              params[_key] = arguments[_key];\n            }\n\n            var ret = userCallback.apply(void 0, params);\n\n            if (isNil(ret)) {\n              ret = defaultCallback.apply(_this, params);\n            }\n\n            return ret;\n          };\n        }\n\n        mix(this, cfg);\n\n        if (mixedCallback) {\n          mix(this, {\n            callback: mixedCallback\n          });\n        }\n      } // 获取属性值，将值映射到视觉通道\n\n\n      var _proto = AttributeBase.prototype;\n\n      _proto._getAttrValue = function _getAttrValue(scale, value) {\n        var values = this.values;\n\n        if (scale.isCategory && !this.linear) {\n          var index = scale.translate(value);\n          return values[index % values.length];\n        }\n\n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n      }\n      /**\n       * 如果进行线性映射，返回对应的映射值\n       * @protected\n       * @param  {Number} percent 百分比\n       * @return {*}  颜色值、形状、大小等\n       */\n      ;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var steps = values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        var start = values[step];\n        var end = step === steps ? start : values[step + 1];\n        var rstValue = start + (end - start) * leftPercent;\n        return rstValue;\n      }\n      /**\n       * 默认的回调函数\n       * @param {*} value 回调函数的值\n       * @type {Function}\n       * @return {Array} 返回映射后的值\n       */\n      ;\n\n      _proto.callback = function callback(value) {\n        var self = this;\n        var scale = self.scales[0];\n        var rstValue = null;\n\n        if (scale.type === 'identity') {\n          rstValue = scale.value;\n        } else {\n          rstValue = self._getAttrValue(scale, value);\n        }\n\n        return rstValue;\n      }\n      /**\n       * 根据度量获取属性名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getNames = function getNames() {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n\n        for (var i = 0; i < length; i++) {\n          rst.push(names[i]);\n        }\n\n        return rst;\n      }\n      /**\n       * 根据度量获取维度名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getFields = function getFields() {\n        var scales = this.scales;\n        var rst = [];\n        each(scales, function (scale) {\n          rst.push(scale.field);\n        });\n        return rst;\n      }\n      /**\n       * 根据名称获取度量\n       * @param  {String} name the name of scale\n       * @return {Scale} scale\n       */\n      ;\n\n      _proto.getScale = function getScale(name) {\n        var scales = this.scales;\n        var names = this.names;\n        var index = names.indexOf(name);\n        return scales[index];\n      }\n      /**\n       * 映射数据\n       * @param {*} param1...paramn 多个数值\n       * @return {Array} 映射的值组成的数组\n       */\n      ;\n\n      _proto.mapping = function mapping() {\n        var scales = this.scales;\n        var callback = this.callback;\n\n        for (var _len2 = arguments.length, params = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          params[_key2] = arguments[_key2];\n        }\n\n        var values = params;\n\n        if (callback) {\n          for (var i = 0, len = params.length; i < len; i++) {\n            params[i] = this._toOriginParam(params[i], scales[i]);\n          }\n\n          values = callback.apply(this, params);\n        }\n\n        values = [].concat(values);\n        return values;\n      } // 原始的参数\n      ;\n\n      _proto._toOriginParam = function _toOriginParam(param, scale) {\n        var rst = param;\n\n        if (!scale.isLinear) {\n          if (isArray(param)) {\n            rst = [];\n\n            for (var i = 0, len = param.length; i < len; i++) {\n              rst.push(toScaleString(scale, param[i]));\n            }\n          } else {\n            rst = toScaleString(scale, param);\n          }\n        }\n\n        return rst;\n      };\n\n      return AttributeBase;\n    }();\n\n    var Position = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Position, _Base);\n\n      function Position(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n      }\n\n      var _proto = Position.prototype;\n\n      _proto.mapping = function mapping(x, y) {\n        var scales = this.scales;\n        var coord = this.coord;\n        var scaleX = scales[0];\n        var scaleY = scales[1];\n        var rstX;\n        var rstY;\n        var obj;\n\n        if (isNil(x) || isNil(y)) {\n          return [];\n        }\n\n        if (isArray(y) && isArray(x)) {\n          rstX = [];\n          rstY = [];\n\n          for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i++, j++) {\n            obj = coord.convertPoint({\n              x: scaleX.scale(x[i]),\n              y: scaleY.scale(y[j])\n            });\n            rstX.push(obj.x);\n            rstY.push(obj.y);\n          }\n        } else if (isArray(y)) {\n          x = scaleX.scale(x);\n          rstY = [];\n          each(y, function (yVal) {\n            yVal = scaleY.scale(yVal);\n            obj = coord.convertPoint({\n              x: x,\n              y: yVal\n            });\n\n            if (rstX && rstX !== obj.x) {\n              if (!isArray(rstX)) {\n                rstX = [rstX];\n              }\n\n              rstX.push(obj.x);\n            } else {\n              rstX = obj.x;\n            }\n\n            rstY.push(obj.y);\n          });\n        } else if (isArray(x)) {\n          y = scaleY.scale(y);\n          rstX = [];\n          each(x, function (xVal) {\n            xVal = scaleX.scale(xVal);\n            obj = coord.convertPoint({\n              x: xVal,\n              y: y\n            });\n\n            if (rstY && rstY !== obj.y) {\n              if (!isArray(rstY)) {\n                rstY = [rstY];\n              }\n\n              rstY.push(obj.y);\n            } else {\n              rstY = obj.y;\n            }\n\n            rstX.push(obj.x);\n          });\n        } else {\n          x = scaleX.scale(x);\n          y = scaleY.scale(y);\n          var point = coord.convertPoint({\n            x: x,\n            y: y\n          });\n          rstX = point.x;\n          rstY = point.y;\n        }\n\n        return [rstX, rstY];\n      };\n\n      return Position;\n    }(AttributeBase);\n\n    var Shape = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Shape, _Base);\n\n      function Shape(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['shape'];\n        _this.type = 'shape';\n        _this.gradient = null;\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Shape.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var index = Math.round((values.length - 1) * percent);\n        return values[index];\n      };\n\n      return Shape;\n    }(AttributeBase);\n\n    var Size = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Size, _Base);\n\n      function Size(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['size'];\n        _this.type = 'size';\n        _this.gradient = null;\n        return _this;\n      }\n\n      return Size;\n    }(AttributeBase);\n\n    function getValue(start, end, percent, index) {\n      var value = start[index] + (end[index] - start[index]) * percent;\n      return value;\n    } // convert to hex\n\n\n    function arr2hex(arr) {\n      return '#' + toRGBValue(arr[0]) + toRGBValue(arr[1]) + toRGBValue(arr[2]);\n    }\n\n    function toRGBValue(value) {\n      value = Math.round(value);\n      value = value.toString(16);\n\n      if (value.length === 1) {\n        value = '0' + value;\n      }\n\n      return value;\n    }\n\n    function calColor(colors, percent) {\n      var steps = colors.length - 1;\n      var step = Math.floor(steps * percent);\n      var left = steps * percent - step;\n      var start = colors[step];\n      var end = step === steps ? start : colors[step + 1];\n      var rgb = arr2hex([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n      return rgb;\n    }\n\n    function hex2arr(str) {\n      var arr = [];\n      arr.push(parseInt(str.substr(1, 2), 16));\n      arr.push(parseInt(str.substr(3, 2), 16));\n      arr.push(parseInt(str.substr(5, 2), 16));\n      return arr;\n    }\n\n    var colorCache = {\n      black: '#000000',\n      blue: '#0000ff',\n      grey: '#808080',\n      green: '#008000',\n      orange: '#ffa500',\n      pink: '#ffc0cb',\n      purple: '#800080',\n      red: '#ff0000',\n      white: '#ffffff',\n      yellow: '#ffff00'\n    };\n    /**\n     * Returns a hexadecimal string representing this color in RGB space, such as #f7eaba.\n     * @param  {String} color color value\n     * @return {String} Returns a hexadecimal string\n     */\n\n    function toHex(color) {\n      if (colorCache[color]) {\n        return colorCache[color];\n      }\n\n      if (color[0] === '#') {\n        if (color.length === 7) {\n          return color;\n        }\n\n        var hex = color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (m, r, g, b) {\n          return '#' + r + r + g + g + b + b;\n        }); // hex3 to hex6\n\n        colorCache[color] = hex;\n        return hex;\n      } // rgb/rgba to hex\n\n\n      var rst = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      rst.shift();\n      rst = arr2hex(rst);\n      colorCache[color] = rst;\n      return rst;\n    }\n    /**\n     * handle the gradient color\n     * @param  {Array} colors the colors\n     * @return {String} return the color value\n     */\n\n\n    function gradient(colors) {\n      var points = [];\n\n      if (isString(colors)) {\n        colors = colors.split('-');\n      }\n\n      each(colors, function (color) {\n        if (color.indexOf('#') === -1) {\n          color = toHex(color);\n        }\n\n        points.push(hex2arr(color));\n      });\n      return function (percent) {\n        return calColor(points, percent);\n      };\n    }\n\n    var Color = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Color, _Base);\n\n      function Color(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['color'];\n        _this.type = 'color';\n        _this.gradient = null;\n\n        if (isString(_this.values)) {\n          _this.linear = true;\n        }\n\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Color.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var gradient$1 = this.gradient;\n\n        if (!gradient$1) {\n          var values = this.values;\n          gradient$1 = gradient(values);\n          this.gradient = gradient$1;\n        }\n\n        return gradient$1(percent);\n      };\n\n      return Color;\n    }(AttributeBase);\n\n    var Attr = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Position: Position,\n        Shape: Shape,\n        Size: Size,\n        Color: Color\n    });\n\n    var Shape$1 = {};\n    var ShapeBase = {\n      _coord: null,\n\n      /**\n       * draw the shape\n       * @param {Object} cfg options\n       * @param {Object} container container to store the shapes\n       */\n      draw: function draw(cfg, container) {\n        if (this.drawShape) {\n          this.drawShape(cfg, container);\n        }\n      },\n\n      /**\n       * set the coordinate instance\n       * @param {Coord} coord coordinate instance\n       */\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {point} point the point to convert\n       * @return {point} point return the result\n       */\n      parsePoint: function parsePoint(point) {\n        var coord = this._coord;\n\n        if (coord.isPolar) {\n          if (point.x === 1) point.x = 0.9999999;\n          if (point.y === 1) point.y = 0.9999999;\n        }\n\n        return coord.convertPoint(point);\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {points} points the array that store the points\n       * @return {points} points return the result\n       */\n      parsePoints: function parsePoints(points) {\n        if (!points) return false;\n        var self = this;\n        var rst = [];\n        points.forEach(function (point) {\n          rst.push(self.parsePoint(point));\n        });\n        return rst;\n      }\n    };\n    var ShapeFactoryBase = {\n      defaultShapeType: null,\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n      getShape: function getShape(type) {\n        var self = this;\n\n        if (isArray(type)) {\n          type = type[0];\n        }\n\n        var shape = self[type] || self[self.defaultShapeType];\n        shape._coord = self._coord;\n        return shape;\n      },\n      getShapePoints: function getShapePoints(type, cfg) {\n        var shape = this.getShape(type);\n        var fn = shape.getPoints || shape.getShapePoints || this.getDefaultPoints;\n        var points = fn(cfg);\n        return points;\n      },\n      getDefaultPoints: function getDefaultPoints()\n      /* cfg */\n      {\n        return [];\n      },\n      drawShape: function drawShape(type, cfg, container) {\n        var shape = this.getShape(type);\n\n        if (!cfg.color) {\n          cfg.color = Global.colors[0];\n        }\n\n        return shape.draw(cfg, container);\n      }\n    };\n\n    Shape$1.registerFactory = function (factoryName, cfg) {\n      var className = upperFirst(factoryName);\n      var geomObj = mix({}, ShapeFactoryBase, cfg);\n      Shape$1[className] = geomObj;\n      geomObj.name = factoryName;\n      return geomObj;\n    };\n\n    Shape$1.registerShape = function (factoryName, shapeType, cfg) {\n      var className = upperFirst(factoryName);\n      var factory = Shape$1[className];\n      var shapeObj = mix({}, ShapeBase, cfg);\n      factory[shapeType] = shapeObj;\n      return shapeObj;\n    };\n\n    Shape$1.registShape = Shape$1.registerShape;\n\n    Shape$1.getShapeFactory = function (factoryName) {\n      var self = this;\n      factoryName = factoryName || 'point';\n      var className = upperFirst(factoryName);\n      return self[className];\n    };\n\n    function _mix$1(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    var mix$1 = function mix(dist, src1, src2, src3) {\n      if (src1) _mix$1(dist, src1);\n      if (src2) _mix$1(dist, src2);\n      if (src3) _mix$1(dist, src3);\n      return dist;\n    };\n\n    var mix_1 = mix$1;\n\n    var Adjust = /*#__PURE__*/function () {\n      var _proto = Adjust.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      function Adjust(cfg) {\n        this._initDefaultCfg();\n\n        mix_1(this, cfg);\n      }\n      /**\n       * @override\n       */\n\n\n      _proto.processAdjust = function processAdjust()\n      /* dataArray */\n      {};\n\n      return Adjust;\n    }();\n\n    var base = Adjust;\n\n    function generateScaleAria(scale) {\n      var type = scale.type,\n          values = scale.values;\n\n      if (type === 'linear') {\n        return substitute(lang.scale.linear, scale);\n      }\n\n      if (type === 'cat') {\n        return substitute(lang.scale.cat, {\n          values: values.slice(0, 10).join(' ')\n        });\n      }\n\n      if (type === 'timeCat') {\n        var start = scale.getText(values[0]);\n        var end = scale.getText(values[values.length - 1]);\n        return substitute(lang.scale.timeCat, {\n          start: start,\n          end: end\n        });\n      }\n\n      return '';\n    }\n    function generateCoordAria(coord, xScale, yScale) {\n      var type = coord.type;\n\n      if (!lang.coord[type]) {\n        return '';\n      }\n\n      return substitute(lang.coord[type], {\n        xLabel: generateScaleAria(xScale),\n        yLabel: generateScaleAria(yScale)\n      });\n    }\n\n    var GROUP_ATTRS = ['color', 'size', 'shape'];\n    var FIELD_ORIGIN = '_origin';\n    var FIELD_ORIGIN_Y = '_originY';\n\n    function parseFields(field) {\n      if (isArray(field)) {\n        return field;\n      }\n\n      if (isString(field)) {\n        return field.split('*');\n      }\n\n      return [field];\n    }\n    /**\n     * The parent class for Geometry\n     * @class Geom\n     */\n\n\n    var Geom = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Geom, _Base);\n\n      function Geom() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Geom.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * geometry type\n           * @type {String}\n           */\n          type: null,\n\n          /**\n           * the data of geometry\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * the attrs of geo,etry\n           * @type {Object}\n           */\n          attrs: {},\n          scales: {},\n\n          /**\n           * group for storing the shapes\n           * @type {Canvas}\n           */\n          container: null,\n\n          /**\n           * style options\n           * @type {Object}\n           */\n          styleOptions: null,\n          chart: null,\n          shapeType: '',\n\n          /**\n           * wether to generate key points for each shape\n           * @protected\n           * @type {Boolean}\n           */\n          generatePoints: false,\n          attrOptions: {},\n          sortable: false,\n          startOnZero: true,\n          visible: true,\n          connectNulls: false,\n          // 是否丢弃没有值的分组。\n          ignoreEmptyGroup: false,\n          // 是否已经初始化\n          isInit: false\n        };\n      };\n\n      _proto.init = function init() {\n        var self = this;\n        var isInit = self.get('isInit');\n\n        if (isInit) {\n          return;\n        }\n\n        self._initAttrs();\n\n        self._processData();\n\n        self.set('isInit', true);\n      };\n\n      _proto._getGroupScales = function _getGroupScales() {\n        var self = this;\n        var scales = [];\n        each(GROUP_ATTRS, function (attrName) {\n          var attr = self.getAttr(attrName);\n\n          if (attr) {\n            var attrScales = attr.scales;\n            each(attrScales, function (scale) {\n              if (scale && scale.isCategory && scales.indexOf(scale) === -1) {\n                scales.push(scale);\n              }\n            });\n          }\n        });\n        return scales;\n      };\n\n      _proto._groupData = function _groupData(data) {\n        var self = this;\n        var colDefs = self.get('colDefs');\n\n        var groupScales = self._getGroupScales();\n\n        if (groupScales.length) {\n          var appendConditions = {};\n          var names = [];\n          each(groupScales, function (scale) {\n            var field = scale.field;\n            names.push(field);\n\n            if (colDefs && colDefs[field] && colDefs[field].values) {\n              // users have defined\n              appendConditions[scale.field] = colDefs[field].values;\n            }\n          });\n          return group(data, names, appendConditions);\n        }\n\n        return [data];\n      };\n\n      _proto._setAttrOptions = function _setAttrOptions(attrName, attrCfg) {\n        var options = this.get('attrOptions');\n        options[attrName] = attrCfg;\n        var attrs = this.get('attrs'); // 说明已经初始化过了\n\n        if (Object.keys(attrs).length) {\n          this._createAttr(attrName, attrCfg);\n        }\n      };\n\n      _proto._createAttrOption = function _createAttrOption(attrName, field, cfg, defaultValues) {\n        var attrCfg = {};\n        attrCfg.field = field;\n\n        if (cfg) {\n          if (isFunction(cfg)) {\n            attrCfg.callback = cfg;\n          } else {\n            attrCfg.values = cfg;\n          }\n        } else {\n          attrCfg.values = defaultValues;\n        }\n\n        this._setAttrOptions(attrName, attrCfg);\n      };\n\n      _proto._createAttr = function _createAttr(type, option) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var coord = self.get('coord');\n        var className = upperFirst(type);\n        var fields = parseFields(option.field);\n\n        if (type === 'position') {\n          option.coord = coord;\n        }\n\n        var scales = [];\n\n        for (var i = 0, len = fields.length; i < len; i++) {\n          var field = fields[i];\n\n          var scale = self._createScale(field);\n\n          scales.push(scale);\n        }\n\n        if (type === 'position') {\n          var yScale = scales[1]; // 饼图的处理，但是还不知道为啥\n\n          if (coord.type === 'polar' && coord.transposed && self.hasAdjust('stack')) {\n            if (yScale.values.length) {\n              yScale.change({\n                nice: false,\n                min: 0,\n                max: Math.max.apply(null, yScale.values)\n              });\n            }\n          }\n        }\n\n        option.scales = scales;\n        var attr = new Attr[className](option);\n        attrs[type] = attr;\n        return attr;\n      };\n\n      _proto._initAttrs = function _initAttrs() {\n        var self = this;\n        var attrOptions = self.get('attrOptions');\n\n        for (var type in attrOptions) {\n          if (attrOptions.hasOwnProperty(type)) {\n            this._createAttr(type, attrOptions[type]);\n          }\n        }\n      };\n\n      _proto._createScale = function _createScale(field) {\n        var scales = this.get('scales');\n        var scale = scales[field];\n\n        if (!scale) {\n          scale = this.get('chart').createScale(field);\n          scales[field] = scale;\n        }\n\n        return scale;\n      };\n\n      _proto._processData = function _processData() {\n        var self = this;\n        var data = this.get('data');\n        var dataArray = [];\n\n        var groupedArray = this._groupData(data);\n\n        if (this.get('ignoreEmptyGroup')) {\n          var yScale = this.getYScale();\n          groupedArray = groupedArray.filter(function (group) {\n            return group.some(function (item) {\n              return typeof item[yScale.field] !== 'undefined';\n            });\n          });\n        }\n\n        for (var i = 0, len = groupedArray.length; i < len; i++) {\n          var subData = groupedArray[i];\n\n          var tempData = self._saveOrigin(subData);\n\n          if (this.hasAdjust('dodge')) {\n            self._numberic(tempData);\n          }\n\n          dataArray.push(tempData);\n        }\n\n        if (self.get('adjust')) {\n          self._adjustData(dataArray);\n        }\n\n        if (self.get('sortable')) {\n          self._sort(dataArray);\n        }\n\n        self.emit('afterprocessdata', {\n          dataArray: dataArray\n        });\n        self.set('mappingData', dataArray);\n        self.set('dataArray', dataArray);\n        return dataArray;\n      };\n\n      _proto._saveOrigin = function _saveOrigin(data) {\n        var rst = [];\n\n        for (var i = 0, len = data.length; i < len; i++) {\n          var origin = data[i];\n          var obj = {};\n\n          for (var k in origin) {\n            obj[k] = origin[k];\n          }\n\n          obj[FIELD_ORIGIN] = origin;\n          rst.push(obj);\n        }\n\n        return rst;\n      };\n\n      _proto._numberic = function _numberic(data) {\n        var positionAttr = this.getAttr('position');\n        var scales = positionAttr.scales;\n\n        for (var j = 0, len = data.length; j < len; j++) {\n          var obj = data[j];\n          var count = Math.min(2, scales.length);\n\n          for (var i = 0; i < count; i++) {\n            var scale = scales[i];\n\n            if (scale.isCategory) {\n              var field = scale.field;\n              obj[field] = scale.translate(obj[field]);\n            }\n          }\n        }\n      };\n\n      _proto._adjustData = function _adjustData(dataArray) {\n        var self = this;\n        var adjust = self.get('adjust');\n\n        if (adjust) {\n          var adjustType = upperFirst(adjust.type);\n\n          if (!base[adjustType]) {\n            throw new Error('not support such adjust : ' + adjust);\n          }\n\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var cfg = mix({\n            xField: xScale.field,\n            yField: yScale.field\n          }, adjust);\n          var adjustObject = new base[adjustType](cfg);\n          adjustObject.processAdjust(dataArray);\n\n          if (adjustType === 'Stack') {\n            self._updateStackRange(yScale.field, yScale, dataArray);\n          }\n        }\n      };\n\n      _proto._updateStackRange = function _updateStackRange(field, scale, dataArray) {\n        var mergeArray = merge(dataArray);\n        var min = scale.min;\n        var max = scale.max;\n\n        for (var i = 0, len = mergeArray.length; i < len; i++) {\n          var obj = mergeArray[i];\n          var tmpMin = Math.min.apply(null, obj[field]);\n          var tmpMax = Math.max.apply(null, obj[field]);\n\n          if (tmpMin < min) {\n            min = tmpMin;\n          }\n\n          if (tmpMax > max) {\n            max = tmpMax;\n          }\n        }\n\n        if (min < scale.min || max > scale.max) {\n          scale.change({\n            min: min,\n            max: max\n          });\n        }\n      };\n\n      _proto._sort = function _sort(mappedArray) {\n        var self = this;\n        var xScale = self.getXScale();\n        var field = xScale.field,\n            type = xScale.type;\n\n        if (type !== 'identity' && xScale.values.length > 1) {\n          each(mappedArray, function (itemArr) {\n            itemArr.sort(function (obj1, obj2) {\n              if (type === 'timeCat') {\n                return toTimeStamp(obj1[FIELD_ORIGIN][field]) - toTimeStamp(obj2[FIELD_ORIGIN][field]);\n              }\n\n              return xScale.translate(obj1[FIELD_ORIGIN][field]) - xScale.translate(obj2[FIELD_ORIGIN][field]);\n            });\n          });\n        }\n\n        self.set('hasSorted', true);\n        self.set('dataArray', mappedArray);\n      };\n\n      _proto.paint = function paint() {\n        var self = this;\n        var dataArray = self.get('mappingData');\n        var mappedArray = [];\n        var shapeFactory = self.getShapeFactory();\n        shapeFactory.setCoord(self.get('coord'));\n\n        self._beforeMapping(dataArray);\n\n        for (var i = 0, len = dataArray.length; i < len; i++) {\n          var data = dataArray[i];\n\n          if (data.length) {\n            var mappedData = self._mapping(data);\n\n            mappedArray.push(mappedData);\n            self.draw(mappedData, shapeFactory);\n          }\n        }\n\n        self.set('dataArray', mappedArray);\n        this.generateAria();\n      };\n\n      _proto.getShapeFactory = function getShapeFactory() {\n        var shapeFactory = this.get('shapeFactory');\n\n        if (!shapeFactory) {\n          var shapeType = this.get('shapeType');\n          shapeFactory = Shape$1.getShapeFactory(shapeType);\n          this.set('shapeFactory', shapeFactory);\n        }\n\n        return shapeFactory;\n      };\n\n      _proto._mapping = function _mapping(data) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var yField = self.getYScale().field; // 用来缓存转换的值，减少mapping耗时\n\n        var mappedCache = {};\n        var mappedData = new Array(data.length);\n\n        for (var k in attrs) {\n          if (attrs.hasOwnProperty(k)) {\n            var attr = attrs[k];\n            var names = attr.names;\n            var scales = attr.scales;\n\n            for (var i = 0, len = data.length; i < len; i++) {\n              var record = data[i];\n\n              var mappedRecord = _extends({}, record, mappedData[i]);\n\n              mappedRecord[FIELD_ORIGIN_Y] = record[yField]; // 获取视觉属性对应的value值\n              // 位置的缓存命中率低，还是每次单独计算\n\n              if (attr.type === 'position') {\n                var values = self._getAttrValues(attr, record);\n\n                for (var j = 0, _len = values.length; j < _len; j++) {\n                  var val = values[j];\n                  var name = names[j];\n                  mappedRecord[name] = isArray(val) && val.length === 1 ? val[0] : val;\n                }\n              } else {\n                // 除了position其他都只有一项\n                var _name = names[0];\n                var field = scales[0].field;\n                var value = record[field];\n                var key = \"\" + _name + value;\n                var _values = mappedCache[key];\n\n                if (!_values) {\n                  _values = self._getAttrValues(attr, record);\n                  mappedCache[key] = _values;\n                }\n\n                mappedRecord[_name] = _values[0];\n              } // 设置新数组\n\n\n              mappedData[i] = mappedRecord;\n            }\n          }\n        }\n\n        return mappedData;\n      };\n\n      _proto._getAttrValues = function _getAttrValues(attr, record) {\n        var scales = attr.scales;\n        var params = [];\n\n        for (var i = 0, len = scales.length; i < len; i++) {\n          var scale = scales[i];\n          var field = scale.field;\n\n          if (scale.type === 'identity') {\n            params.push(scale.value);\n          } else {\n            params.push(record[field]);\n          }\n        }\n\n        var values = attr.mapping.apply(attr, params);\n        return values;\n      };\n\n      _proto.getAttrValue = function getAttrValue(attrName, record) {\n        var attr = this.getAttr(attrName);\n        var rst = null;\n\n        if (attr) {\n          var values = this._getAttrValues(attr, record);\n\n          rst = values[0];\n        }\n\n        return rst;\n      };\n\n      _proto._beforeMapping = function _beforeMapping(dataArray) {\n        var self = this;\n\n        if (self.get('generatePoints')) {\n          self._generatePoints(dataArray);\n        }\n      };\n\n      _proto.isInCircle = function isInCircle() {\n        var coord = this.get('coord');\n        return coord && coord.isPolar;\n      };\n\n      _proto.getCallbackCfg = function getCallbackCfg(fields, cfg, origin) {\n        if (!fields) {\n          return cfg;\n        }\n\n        var tmpCfg = {};\n        var params = fields.map(function (field) {\n          return origin[field];\n        });\n        each(cfg, function (v, k) {\n          if (isFunction(v)) {\n            tmpCfg[k] = v.apply(null, params);\n          } else {\n            tmpCfg[k] = v;\n          }\n        });\n        return tmpCfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var self = this;\n        var isInCircle = self.isInCircle();\n        var cfg = {\n          origin: obj,\n          x: obj.x,\n          y: obj.y,\n          color: obj.color,\n          size: obj.size,\n          shape: obj.shape,\n          isInCircle: isInCircle,\n          opacity: obj.opacity\n        };\n        var styleOptions = self.get('styleOptions');\n\n        if (styleOptions && styleOptions.style) {\n          cfg.style = self.getCallbackCfg(styleOptions.fields, styleOptions.style, obj[FIELD_ORIGIN]);\n        }\n\n        if (self.get('generatePoints')) {\n          cfg.points = obj.points;\n          cfg.nextPoints = obj.nextPoints;\n        }\n\n        if (isInCircle) {\n          cfg.center = self.get('coord').center;\n        }\n\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        each(data, function (obj, index) {\n          if (yScale && isNil(obj._origin[yScale.field])) {\n            return;\n          }\n\n          obj.index = index;\n          var cfg = self.getDrawCfg(obj);\n          var shape = obj.shape;\n          self.drawShape(shape, obj, cfg, container, shapeFactory);\n        });\n      };\n\n      _proto.drawShape = function drawShape(shape, shapeData, cfg, container, shapeFactory) {\n        var gShape = shapeFactory.drawShape(shape, cfg, container);\n\n        if (gShape) {\n          each([].concat(gShape), function (s) {\n            s.set('origin', shapeData);\n          });\n        }\n      };\n\n      _proto._generatePoints = function _generatePoints(dataArray) {\n        var self = this;\n        var shapeFactory = self.getShapeFactory();\n        var shapeAttr = self.getAttr('shape');\n        each(dataArray, function (data) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var cfg = self.createShapePointsCfg(obj);\n            var shape = shapeAttr ? self._getAttrValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n          }\n        }); // 添加nextPoints\n\n        each(dataArray, function (data, index) {\n          var nextData = dataArray[index + 1];\n\n          if (nextData) {\n            data[0].nextPoints = nextData[0].points;\n          }\n        });\n      } // 生成无障碍文本\n      ;\n\n      _proto.generateAria = function generateAria() {\n        var container = this.get('container');\n        var aria = container.get('aria');\n\n        if (!aria) {\n          return;\n        }\n\n        var ariaLables = [];\n        var coord = this.get('coord');\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var coordAriaLabel = generateCoordAria(coord, xScale, yScale);\n        ariaLables.push(coordAriaLabel);\n        var _lang$geometry = lang.geometry,\n            prefix = _lang$geometry.prefix,\n            oneData = _lang$geometry.oneData,\n            partData = _lang$geometry.partData,\n            allData = _lang$geometry.allData;\n        var dataArray = this.get('dataArray');\n        var count = dataArray.length; // 只处理一个，不然太复杂\n\n        var groupScale = this._getGroupScales()[0];\n\n        if (groupScale) {\n          var prefixLabel = substitute(prefix, {\n            count: count\n          });\n          ariaLables.push(prefixLabel);\n          each(dataArray, function (data, index) {\n            var len = data.length;\n            if (!len) return;\n            var firstObj = data[0]._origin;\n\n            if (len === 1) {\n              ariaLables.push(substitute(oneData, {\n                index: index + 1,\n                count: len,\n                name: firstObj[groupScale.field],\n                values: firstObj[yScale.field]\n              }));\n            } else {\n              var template = len > 5 ? partData : allData;\n              var values = data.slice(0, 5).map(function (record) {\n                var _origin = record._origin;\n                var xValue = xScale.getText(_origin[xScale.field]);\n                var yValue = yScale.getText(_origin[yScale.field]);\n                return xValue + \":\" + yValue;\n              });\n              ariaLables.push(substitute(template, {\n                index: index + 1,\n                count: len,\n                part: 3,\n                name: firstObj[groupScale.field],\n                values: values.join(' ')\n              }));\n            }\n          });\n        }\n\n        container.set('ariaLabel', ariaLables.join(''));\n      }\n      /**\n       * get the info of each shape\n       * @protected\n       * @param  {Object} obj the data item\n       * @return {Object} cfg return the result\n       */\n      ;\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n\n        var x = this._normalizeValues(obj[xScale.field], xScale);\n\n        var y;\n\n        if (yScale) {\n          y = this._normalizeValues(obj[yScale.field], yScale);\n        } else {\n          y = obj.y ? obj.y : 0.1;\n        }\n\n        return {\n          x: x,\n          y: y,\n          y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n        };\n      };\n\n      _proto.getYMinValue = function getYMinValue() {\n        var yScale = this.getYScale();\n        var min = yScale.min,\n            max = yScale.max;\n        var value;\n\n        if (this.get('startOnZero')) {\n          if (max <= 0 && min <= 0) {\n            value = max;\n          } else {\n            value = min >= 0 ? min : 0;\n          }\n        } else {\n          value = min;\n        }\n\n        return value;\n      };\n\n      _proto._normalizeValues = function _normalizeValues(values, scale) {\n        var rst = [];\n\n        if (isArray(values)) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            var v = values[i];\n            rst.push(scale.scale(v));\n          }\n        } else {\n          rst = scale.scale(values);\n        }\n\n        return rst;\n      };\n\n      _proto.getAttr = function getAttr(name) {\n        return this.get('attrs')[name];\n      };\n\n      _proto.getXScale = function getXScale() {\n        return this.getAttr('position').scales[0];\n      };\n\n      _proto.getYScale = function getYScale() {\n        return this.getAttr('position').scales[1];\n      };\n\n      _proto.hasAdjust = function hasAdjust(adjust) {\n        return this.get('adjust') && this.get('adjust').type === adjust;\n      };\n\n      _proto._getSnap = function _getSnap(scale, item, arr) {\n        var i = 0;\n        var values;\n        var yField = this.getYScale().field; // 叠加的维度\n\n        if (this.hasAdjust('stack') && scale.field === yField) {\n          values = [];\n          arr.forEach(function (obj) {\n            values.push(obj[FIELD_ORIGIN_Y]);\n          });\n\n          for (var len = values.length; i < len; i++) {\n            if (values[0][0] > item) {\n              break;\n            }\n\n            if (values[values.length - 1][1] <= item) {\n              i = values.length - 1;\n              break;\n            }\n\n            if (values[i][0] <= item && values[i][1] > item) {\n              break;\n            }\n          }\n        } else {\n          values = scale.values;\n          values.sort(function (a, b) {\n            return a - b;\n          });\n\n          for (var _len2 = values.length; i < _len2; i++) {\n            // 如果只有1个点直接返回第1个点\n            if (_len2 <= 1) {\n              break;\n            } // 第1个点和第2个点之间\n\n\n            if ((values[0] + values[1]) / 2 > item) {\n              break;\n            } // 中间的点\n\n\n            if ((values[i - 1] + values[i]) / 2 <= item && (values[i + 1] + values[i]) / 2 > item) {\n              break;\n            } // 最后2个点\n\n\n            if ((values[values.length - 2] + values[values.length - 1]) / 2 <= item) {\n              i = values.length - 1;\n              break;\n            }\n          }\n        }\n\n        var result = values[i];\n        return result;\n      };\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScale();\n        var xfield = xScale.field;\n        var dataArray = self.get('dataArray');\n\n        if (!this.get('hasSorted')) {\n          this._sort(dataArray);\n        }\n\n        var rst = [];\n        var invertPoint = coord.invertPoint(point);\n        var invertPointX = invertPoint.x;\n\n        if (self.isInCircle() && !coord.transposed && invertPointX > (1 + xScale.rangeMax()) / 2) {\n          invertPointX = xScale.rangeMin();\n        }\n\n        var xValue = xScale.invert(invertPointX);\n\n        if (!xScale.isCategory) {\n          xValue = self._getSnap(xScale, xValue);\n        }\n\n        var tmp = [];\n        dataArray.forEach(function (data) {\n          data.forEach(function (obj) {\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (self._isEqual(originValue, xValue, xScale)) {\n              tmp.push(obj);\n            }\n          });\n        }); // special for pie chart\n\n        if (this.hasAdjust('stack') && coord.isPolar && coord.transposed) {\n          if (invertPointX >= 0 && invertPointX <= 1) {\n            var yValue = yScale.invert(invertPoint.y);\n            yValue = self._getSnap(yScale, yValue, tmp);\n            tmp.forEach(function (obj) {\n              if (isArray(yValue) ? obj[FIELD_ORIGIN_Y].toString() === yValue.toString() : obj[FIELD_ORIGIN_Y] === yValue) {\n                rst.push(obj);\n              }\n            });\n          }\n        } else {\n          rst = tmp;\n        }\n\n        return rst;\n      };\n\n      _proto.getRecords = function getRecords(value) {\n        var _this = this;\n\n        var xScale = this.getXScale();\n        var dataArray = this.get('dataArray');\n        var xfield = xScale.field;\n        return dataArray.map(function (data) {\n          for (var len = data.length, i = len - 1; i >= 0; i--) {\n            var obj = data[i];\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (_this._isEqual(originValue, value, xScale)) {\n              return obj;\n            }\n          }\n\n          return null;\n        });\n      };\n\n      _proto._isEqual = function _isEqual(originValue, value, scale) {\n        if (scale.type === 'timeCat') {\n          return toTimeStamp(originValue) === value;\n        }\n\n        return value === originValue;\n      };\n\n      _proto.position = function position(field) {\n        this._setAttrOptions('position', {\n          field: field\n        });\n\n        return this;\n      };\n\n      _proto.color = function color(field, values) {\n        this._createAttrOption('color', field, values, Global.colors);\n\n        return this;\n      };\n\n      _proto.size = function size(field, values) {\n        this._createAttrOption('size', field, values, Global.sizes);\n\n        return this;\n      };\n\n      _proto.shape = function shape(field, values) {\n        var type = this.get('type');\n        var shapes = Global.shapes[type] || [];\n\n        this._createAttrOption('shape', field, values, shapes);\n\n        return this;\n      };\n\n      _proto.style = function style(field, cfg) {\n        var styleOptions = this.get('styleOptions');\n\n        if (!styleOptions) {\n          styleOptions = {};\n          this.set('styleOptions', styleOptions);\n        }\n\n        if (isObject(field)) {\n          cfg = field;\n          field = null;\n        }\n\n        var fields;\n\n        if (field) {\n          fields = parseFields(field);\n        }\n\n        styleOptions.fields = fields;\n        styleOptions.style = cfg;\n        return this;\n      };\n\n      _proto.adjust = function adjust(type) {\n        if (isString(type)) {\n          type = {\n            type: type\n          };\n        }\n\n        this.set('adjust', type);\n        return this;\n      };\n\n      _proto.animate = function animate(cfg) {\n        this.set('animateCfg', cfg);\n        return this;\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.set('data', data); // 改变数据后，情况度量，因为需要重新实例化\n\n        this.set('scales', {});\n        if (!this.get('isInit')) return;\n        this.set('isInit', false);\n        this.init();\n      };\n\n      _proto.clearInner = function clearInner() {\n        var container = this.get('container');\n\n        if (container) {\n          container.clear(); // container.setMatrix([ 1, 0, 0, 1, 0, 0 ]);\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.set('isInit', false);\n        this.set('attrs', {});\n        this.set('attrOptions', {});\n        this.set('adjust', null);\n        this.clearInner();\n      };\n\n      _proto.clear = function clear() {\n        this.clearInner();\n      };\n\n      _proto.destroy = function destroy() {\n        this.set('isInit', false);\n        this.clear();\n\n        _Base.prototype.destroy.call(this);\n      };\n\n      _proto._display = function _display(visible) {\n        this.set('visible', visible);\n        var container = this.get('container');\n        var canvas = container.get('canvas');\n        container.set('visible', visible);\n        canvas.draw();\n      };\n\n      _proto.show = function show() {\n        this._display(true);\n      };\n\n      _proto.hide = function hide() {\n        this._display(false);\n      };\n\n      return Geom;\n    }(Base);\n\n    var methodCache = {};\n    /**\n     * 获取计算 ticks 的方法\n     * @param key 键值\n     * @returns 计算 ticks 的方法\n     */\n\n    function getTickMethod(key) {\n      return methodCache[key];\n    }\n    /**\n     * 注册计算 ticks 的方法\n     * @param key 键值\n     * @param method 方法\n     */\n\n    function registerTickMethod(key, method) {\n      methodCache[key] = method;\n    }\n\n    var Scale =\n    /** @class */\n    function () {\n      function Scale(cfg) {\n        /**\n         * 度量的类型\n         */\n        this.type = 'base';\n        /**\n         * 是否分类类型的度量\n         */\n\n        this.isCategory = false;\n        /**\n         * 是否线性度量，有linear, time 度量\n         */\n\n        this.isLinear = false;\n        /**\n         * 是否连续类型的度量，linear,time,log, pow, quantile, quantize 都支持\n         */\n\n        this.isContinuous = false;\n        /**\n         * 是否是常量的度量，传入和传出一致\n         */\n\n        this.isIdentity = false;\n        this.values = [];\n        this.range = [0, 1];\n        this.ticks = [];\n        this.__cfg__ = cfg;\n        this.initCfg();\n        this.init();\n      } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n      Scale.prototype.translate = function (v) {\n        return v;\n      };\n      /** 重新初始化 */\n\n\n      Scale.prototype.change = function (cfg) {\n        // 覆盖配置项，而不替代\n        mix(this.__cfg__, cfg);\n        this.init();\n      };\n\n      Scale.prototype.clone = function () {\n        return this.constructor(this.__cfg__);\n      };\n      /** 获取坐标轴需要的ticks */\n\n\n      Scale.prototype.getTicks = function () {\n        var _this = this;\n\n        return map(this.ticks, function (tick, idx) {\n          if (isObject(tick)) {\n            // 仅当符合Tick类型时才有意义\n            return tick;\n          }\n\n          return {\n            text: _this.getText(tick, idx),\n            tickValue: tick,\n            value: _this.scale(tick)\n          };\n        });\n      };\n      /** 获取Tick的格式化结果 */\n\n\n      Scale.prototype.getText = function (value, key) {\n        var formatter = this.formatter;\n        var res = formatter ? formatter(value, key) : value;\n\n        if (isNil(res) || !isFunction(res.toString)) {\n          return '';\n        }\n\n        return res.toString();\n      }; // 获取配置项中的值，当前 scale 上的值可能会被修改\n\n\n      Scale.prototype.getConfig = function (key) {\n        return this.__cfg__[key];\n      }; // scale初始化\n\n\n      Scale.prototype.init = function () {\n        mix(this, this.__cfg__);\n        this.setDomain();\n\n        if (isEmpty(this.getConfig('ticks'))) {\n          this.ticks = this.calculateTicks();\n        }\n      }; // 子类上覆盖某些属性，不能直接在类上声明，否则会被覆盖\n\n\n      Scale.prototype.initCfg = function () {};\n\n      Scale.prototype.setDomain = function () {};\n\n      Scale.prototype.calculateTicks = function () {\n        var tickMethod = this.tickMethod;\n        var ticks = [];\n\n        if (isString(tickMethod)) {\n          var method = getTickMethod(tickMethod);\n\n          if (!method) {\n            throw new Error('There is no method to to calculate ticks!');\n          }\n\n          ticks = method(this);\n        } else if (isFunction(tickMethod)) {\n          ticks = tickMethod(this);\n        }\n\n        return ticks;\n      }; // range 的最小值\n\n\n      Scale.prototype.rangeMin = function () {\n        return head(this.range);\n      }; // range 的最大值\n\n\n      Scale.prototype.rangeMax = function () {\n        return last(this.range);\n      };\n      /** 定义域转 0~1 */\n\n\n      Scale.prototype.calcPercent = function (value, min, max) {\n        if (isNumber(value)) {\n          return (value - min) / (max - min);\n        }\n\n        return NaN;\n      };\n      /** 0~1转定义域 */\n\n\n      Scale.prototype.calcValue = function (percent, min, max) {\n        return min + percent * (max - min);\n      };\n\n      return Scale;\n    }();\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\n\n    /* global Reflect, Promise */\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      };\n\n      return extendStatics(d, b);\n    };\n\n    function __extends(d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n      return r;\n    }\n\n    /**\n     * 分类度量\n     * @class\n     */\n\n    var Category =\n    /** @class */\n    function (_super) {\n      __extends(Category, _super);\n\n      function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n      }\n\n      Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n\n        if (index === -1) {\n          return isNumber(value) ? value : NaN;\n        }\n\n        return index;\n      };\n\n      Category.prototype.scale = function (value) {\n        var order = this.translate(value); // 分类数据允许 0.5 范围内调整\n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n      };\n\n      Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n\n        if (idx < this.min || idx > this.max) {\n          return NaN;\n        }\n\n        return this.values[idx];\n      };\n\n      Category.prototype.getText = function (value) {\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments[_i];\n        }\n\n        var v = value; // value为index\n\n        if (isNumber(value) && !this.values.includes(value)) {\n          v = this.values[v];\n        }\n\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n      }; // 复写属性\n\n\n      Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n      }; // 设置 min, max\n\n\n      Category.prototype.setDomain = function () {\n        // 用户有可能设置 min\n        if (isNil(this.getConfig('min'))) {\n          this.min = 0;\n        }\n\n        if (isNil(this.getConfig('max'))) {\n          var size = this.values.length;\n          this.max = size > 1 ? size - 1 : size;\n        }\n      };\n\n      return Category;\n    }(Scale);\n\n    var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\n    var twoDigitsOptional = \"[1-9]\\\\d?\";\n    var twoDigits = \"\\\\d\\\\d\";\n    var threeDigits = \"\\\\d{3}\";\n    var fourDigits = \"\\\\d{4}\";\n    var word = \"[^\\\\s]+\";\n    var literal = /\\[([^]*?)\\]/gm;\n\n    function shorten(arr, sLen) {\n      var newArr = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n      }\n\n      return newArr;\n    }\n\n    var monthUpdate = function (arrName) {\n      return function (v, i18n) {\n        var lowerCaseArr = i18n[arrName].map(function (v) {\n          return v.toLowerCase();\n        });\n        var index = lowerCaseArr.indexOf(v.toLowerCase());\n\n        if (index > -1) {\n          return index;\n        }\n\n        return null;\n      };\n    };\n\n    function assign(origObj) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n\n        for (var key in obj) {\n          // @ts-ignore ex\n          origObj[key] = obj[key];\n        }\n      }\n\n      return origObj;\n    }\n\n    var dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var monthNamesShort = shorten(monthNames, 3);\n    var dayNamesShort = shorten(dayNames, 3);\n    var defaultI18n = {\n      dayNamesShort: dayNamesShort,\n      dayNames: dayNames,\n      monthNamesShort: monthNamesShort,\n      monthNames: monthNames,\n      amPm: [\"am\", \"pm\"],\n      DoFn: function (dayOfMonth) {\n        return dayOfMonth + [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];\n      }\n    };\n    var globalI18n = assign({}, defaultI18n);\n\n    var setGlobalDateI18n = function (i18n) {\n      return globalI18n = assign(globalI18n, i18n);\n    };\n\n    var regexEscape = function (str) {\n      return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n    };\n\n    var pad = function (val, len) {\n      if (len === void 0) {\n        len = 2;\n      }\n\n      val = String(val);\n\n      while (val.length < len) {\n        val = \"0\" + val;\n      }\n\n      return val;\n    };\n\n    var formatFlags = {\n      D: function (dateObj) {\n        return String(dateObj.getDate());\n      },\n      DD: function (dateObj) {\n        return pad(dateObj.getDate());\n      },\n      Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n      },\n      d: function (dateObj) {\n        return String(dateObj.getDay());\n      },\n      dd: function (dateObj) {\n        return pad(dateObj.getDay());\n      },\n      ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n      },\n      dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n      },\n      M: function (dateObj) {\n        return String(dateObj.getMonth() + 1);\n      },\n      MM: function (dateObj) {\n        return pad(dateObj.getMonth() + 1);\n      },\n      MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n      },\n      MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n      },\n      YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n      },\n      YYYY: function (dateObj) {\n        return pad(dateObj.getFullYear(), 4);\n      },\n      h: function (dateObj) {\n        return String(dateObj.getHours() % 12 || 12);\n      },\n      hh: function (dateObj) {\n        return pad(dateObj.getHours() % 12 || 12);\n      },\n      H: function (dateObj) {\n        return String(dateObj.getHours());\n      },\n      HH: function (dateObj) {\n        return pad(dateObj.getHours());\n      },\n      m: function (dateObj) {\n        return String(dateObj.getMinutes());\n      },\n      mm: function (dateObj) {\n        return pad(dateObj.getMinutes());\n      },\n      s: function (dateObj) {\n        return String(dateObj.getSeconds());\n      },\n      ss: function (dateObj) {\n        return pad(dateObj.getSeconds());\n      },\n      S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n      },\n      SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n      },\n      SSS: function (dateObj) {\n        return pad(dateObj.getMilliseconds(), 3);\n      },\n      a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n      },\n      A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n      },\n      ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);\n      },\n      Z: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60), 2) + \":\" + pad(Math.abs(offset) % 60, 2);\n      }\n    };\n\n    var monthParse = function (v) {\n      return +v - 1;\n    };\n\n    var emptyDigits = [null, twoDigitsOptional];\n    var emptyWord = [null, word];\n    var amPm = [\"isPm\", word, function (v, i18n) {\n      var val = v.toLowerCase();\n\n      if (val === i18n.amPm[0]) {\n        return 0;\n      } else if (val === i18n.amPm[1]) {\n        return 1;\n      }\n\n      return null;\n    }];\n    var timezoneOffset = [\"timezoneOffset\", \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\", function (v) {\n      var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n      if (parts) {\n        var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n        return parts[0] === \"+\" ? minutes : -minutes;\n      }\n\n      return 0;\n    }];\n    var parseFlags = {\n      D: [\"day\", twoDigitsOptional],\n      DD: [\"day\", twoDigits],\n      Do: [\"day\", twoDigitsOptional + word, function (v) {\n        return parseInt(v, 10);\n      }],\n      M: [\"month\", twoDigitsOptional, monthParse],\n      MM: [\"month\", twoDigits, monthParse],\n      YY: [\"year\", twoDigits, function (v) {\n        var now = new Date();\n        var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n        return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n      }],\n      h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n      hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n      H: [\"hour\", twoDigitsOptional],\n      HH: [\"hour\", twoDigits],\n      m: [\"minute\", twoDigitsOptional],\n      mm: [\"minute\", twoDigits],\n      s: [\"second\", twoDigitsOptional],\n      ss: [\"second\", twoDigits],\n      YYYY: [\"year\", fourDigits],\n      S: [\"millisecond\", \"\\\\d\", function (v) {\n        return +v * 100;\n      }],\n      SS: [\"millisecond\", twoDigits, function (v) {\n        return +v * 10;\n      }],\n      SSS: [\"millisecond\", threeDigits],\n      d: emptyDigits,\n      dd: emptyDigits,\n      ddd: emptyWord,\n      dddd: emptyWord,\n      MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n      MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n      a: amPm,\n      A: amPm,\n      ZZ: timezoneOffset,\n      Z: timezoneOffset\n    }; // Some common format strings\n\n    var globalMasks = {\n      default: \"ddd MMM DD YYYY HH:mm:ss\",\n      shortDate: \"M/D/YY\",\n      mediumDate: \"MMM D, YYYY\",\n      longDate: \"MMMM D, YYYY\",\n      fullDate: \"dddd, MMMM D, YYYY\",\n      isoDate: \"YYYY-MM-DD\",\n      isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n      shortTime: \"HH:mm\",\n      mediumTime: \"HH:mm:ss\",\n      longTime: \"HH:mm:ss.SSS\"\n    };\n\n    var setGlobalDateMasks = function (masks) {\n      return assign(globalMasks, masks);\n    };\n    /***\n     * Format a date\n     * @method format\n     * @param {Date|number} dateObj\n     * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n     * @returns {string} Formatted date string\n     */\n\n\n    var format = function (dateObj, mask, i18n) {\n      if (mask === void 0) {\n        mask = globalMasks[\"default\"];\n      }\n\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n      }\n\n      if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" || isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n      }\n\n      mask = globalMasks[mask] || mask;\n      var literals = []; // Make literals inactive by replacing them with @@@\n\n      mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n      });\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // Apply formatting rules\n\n      mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n      }); // Inline literal values back into the formatted value\n\n      return mask.replace(/@@@/g, function () {\n        return literals.shift();\n      });\n    };\n    /**\n     * Parse a date string into a Javascript Date object /\n     * @method parse\n     * @param {string} dateStr Date string\n     * @param {string} format Date parse format\n     * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n     * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n     */\n\n\n    function parse(dateStr, format, i18n) {\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n      } // Check to see if the format is actually a mask\n\n\n      format = globalMasks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n      // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n      if (dateStr.length > 1000) {\n        return null;\n      } // Default to the beginning of the year.\n\n\n      var today = new Date();\n      var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n      };\n      var parseInfo = [];\n      var literals = []; // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n\n      var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n      });\n      var specifiedFields = {};\n      var requiredFields = {}; // Change every token that we find into the correct regex\n\n      newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0],\n            regex = info[1],\n            requiredField = info[3]; // Check if the person has specified the same field twice. This will lead to confusing results.\n\n        if (specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n\n        specifiedFields[field] = true; // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n\n        if (requiredField) {\n          requiredFields[requiredField] = true;\n        }\n\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n      }); // Check all the required fields are present\n\n      Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n      }); // Add back all the literals after\n\n      newFormat = newFormat.replace(/@@@/g, function () {\n        return literals.shift();\n      }); // Check if the date string matches the format. If it doesn't return null\n\n      var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n\n      if (!matches) {\n        return null;\n      }\n\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // For each match, call the parser function for that date part\n\n      for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1],\n            field = _a[0],\n            parser = _a[2];\n        var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i]; // If the parser can't make sense of the value, return null\n\n        if (value == null) {\n          return null;\n        }\n\n        dateInfo[field] = value;\n      }\n\n      if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n      } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n      }\n\n      var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n      var validateFields = [[\"month\", \"getMonth\"], [\"day\", \"getDate\"], [\"hour\", \"getHours\"], [\"minute\", \"getMinutes\"], [\"second\", \"getSeconds\"]];\n\n      for (var i = 0, len = validateFields.length; i < len; i++) {\n        // Check to make sure the date field is within the allowed range. Javascript dates allows values\n        // outside the allowed range. If the values don't match the value was invalid\n        if (specifiedFields[validateFields[i][0]] && dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n          return null;\n        }\n      }\n\n      if (dateInfo.timezoneOffset == null) {\n        return dateWithoutTZ;\n      }\n\n      return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n    }\n\n    var fecha = {\n      format: format,\n      parse: parse,\n      defaultI18n: defaultI18n,\n      setGlobalDateI18n: setGlobalDateI18n,\n      setGlobalDateMasks: setGlobalDateMasks\n    };\n\n    var fecha1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        'default': fecha,\n        assign: assign,\n        format: format,\n        parse: parse,\n        defaultI18n: defaultI18n,\n        setGlobalDateI18n: setGlobalDateI18n,\n        setGlobalDateMasks: setGlobalDateMasks\n    });\n\n    /**\n     * 二分右侧查找\n     * https://github.com/d3/d3-array/blob/master/src/bisector.js\n     */\n\n    function bisector (getter) {\n      /**\n       * x: 目标值\n       * lo: 起始位置\n       * hi: 结束位置\n       */\n      return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n\n          if (getter(a[mid]) > x) {\n            hi = mid;\n          } else {\n            lo = mid + 1;\n          }\n        }\n\n        return lo;\n      };\n    }\n\n    var FORMAT_METHOD = 'format';\n    function timeFormat(time, mask) {\n      var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n      return method(time, mask);\n    }\n    /**\n     * 转换成时间戳\n     * @param value 时间值\n     */\n\n    function toTimeStamp$1(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n    var SECOND = 1000;\n    var MINUTE = 60 * SECOND;\n    var HOUR = 60 * MINUTE;\n    var DAY = 24 * HOUR;\n    var MONTH = DAY * 31;\n    var YEAR = DAY * 365;\n    var intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', MONTH], ['YYYY-MM', MONTH * 4], ['YYYY-MM', MONTH * 6], ['YYYY', DAY * 380]];\n    function getTickInterval(min, max, tickCount) {\n      var target = (max - min) / tickCount;\n      var idx = bisector(function (o) {\n        return o[1];\n      })(intervals, target) - 1;\n      var interval = intervals[idx];\n\n      if (idx < 0) {\n        interval = intervals[0];\n      } else if (idx >= intervals.length) {\n        interval = last(intervals);\n      }\n\n      return interval;\n    }\n\n    /**\n     * 时间分类度量\n     * @class\n     */\n\n    var TimeCat =\n    /** @class */\n    function (_super) {\n      __extends(TimeCat, _super);\n\n      function TimeCat() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'timeCat';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp$1(value);\n        var index = this.values.indexOf(value);\n\n        if (index === -1) {\n          if (isNumber(value) && value < this.values.length) {\n            index = value;\n          } else {\n            index = NaN;\n          }\n        }\n\n        return index;\n      };\n      /**\n       * 由于时间类型数据需要转换一下，所以复写 getText\n       * @override\n       */\n\n\n      TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n\n        if (index > -1) {\n          var result = this.values[index];\n          var formatter = this.formatter;\n          result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n          return result;\n        }\n\n        return value;\n      };\n\n      TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n      };\n\n      TimeCat.prototype.setDomain = function () {\n        var values = this.values; // 针对时间分类类型，会将时间统一转换为时间戳\n\n        each(values, function (v, i) {\n          values[i] = toTimeStamp$1(v);\n        });\n        values.sort(function (v1, v2) {\n          return v1 - v2;\n        });\n\n        _super.prototype.setDomain.call(this);\n      };\n\n      return TimeCat;\n    }(Category);\n\n    /**\n     * 连续度量的基类\n     * @class\n     */\n\n    var Continuous =\n    /** @class */\n    function (_super) {\n      __extends(Continuous, _super);\n\n      function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.isContinuous = true;\n        return _this;\n      }\n\n      Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n          return NaN;\n        }\n\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return rangeMin;\n        }\n\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n      };\n\n      Continuous.prototype.init = function () {\n        _super.prototype.init.call(this); // init 完成后保证 min, max 包含 ticks 的范围\n\n\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n\n        if (firstTick < this.min) {\n          this.min = firstTick;\n        }\n\n        if (lastTick > this.max) {\n          this.max = lastTick;\n        } // strict-limit 方式\n\n\n        if (!isNil(this.minLimit)) {\n          this.min = firstTick;\n        }\n\n        if (!isNil(this.maxLimit)) {\n          this.max = lastTick;\n        }\n      };\n\n      Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values),\n            min = _a.min,\n            max = _a.max;\n\n        if (isNil(this.min)) {\n          this.min = min;\n        }\n\n        if (isNil(this.max)) {\n          this.max = max;\n        }\n\n        if (this.min > this.max) {\n          this.min = min;\n          this.max = max;\n        }\n      };\n\n      Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          ticks = filter(ticks, function (tick) {\n            return tick >= _this.min && tick <= _this.max;\n          });\n        }\n\n        return ticks;\n      }; // 计算原始值值占的百分比\n\n\n      Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n      };\n\n      Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n      };\n\n      return Continuous;\n    }(Scale);\n\n    /**\n     * 线性度量\n     * @class\n     */\n\n    var Linear =\n    /** @class */\n    function (_super) {\n      __extends(Linear, _super);\n\n      function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n      }\n\n      Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n      };\n\n      Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n      };\n\n      return Linear;\n    }(Continuous);\n\n    // 虽然数学上 b 不支持负数，但是这里需要支持 负数\n\n    function calBase(a, b) {\n      var e = Math.E;\n      var value;\n\n      if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n      } else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n      }\n\n      return value;\n    }\n    function log(a, b) {\n      if (a === 1) {\n        return 1;\n      }\n\n      return Math.log(b) / Math.log(a);\n    }\n    function getLogPositiveMin(values, base, max) {\n      if (isNil(max)) {\n        max = Math.max.apply(null, values);\n      }\n\n      var positiveMin = max;\n      each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n          positiveMin = value;\n        }\n      });\n\n      if (positiveMin === max) {\n        positiveMin = max / base;\n      }\n\n      if (positiveMin > 1) {\n        positiveMin = 1;\n      }\n\n      return positiveMin;\n    }\n\n    /**\n     * Log 度量，处理非均匀分布\n     */\n\n    var Log =\n    /** @class */\n    function (_super) {\n      __extends(Log, _super);\n\n      function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'log';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n\n        if (positiveMin) {\n          if (value === 0) {\n            return 0;\n          }\n\n          min = log(base, positiveMin / base);\n          var appendPercent = 1 / (max - min) * range; // 0 到 positiveMin的占比\n\n          if (value < appendPercent) {\n            // 落到 0 - positiveMin 之间\n            return value / appendPercent * positiveMin;\n          }\n        } else {\n          min = log(base, this.min);\n        }\n\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n      };\n\n      Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n      }; // 设置\n\n\n      Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n\n        var min = this.min;\n\n        if (min < 0) {\n          throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n\n        if (min === 0) {\n          this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n      }; // 根据当前值获取占比\n\n\n      Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        } // 如果值小于等于0，则按照0处理\n\n\n        if (value <= 0) {\n          return 0;\n        }\n\n        var base = this.base;\n        var positiveMin = this.positiveMin; // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n\n        if (positiveMin) {\n          min = positiveMin * 1 / base;\n        }\n\n        var percent; // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n\n        if (value < positiveMin) {\n          percent = value / positiveMin / (log(base, max) - log(base, min));\n        } else {\n          percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n\n        return percent;\n      };\n\n      return Log;\n    }(Continuous);\n\n    /**\n     * Pow 度量，处理非均匀分布\n     */\n\n    var Pow =\n    /** @class */\n    function (_super) {\n      __extends(Pow, _super);\n\n      function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'pow';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n      };\n\n      Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n      }; // 获取度量计算时，value占的定义域百分比\n\n\n      Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        }\n\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n      };\n\n      return Pow;\n    }(Continuous);\n\n    /**\n     * 时间度量\n     * @class\n     */\n\n    var Time =\n    /** @class */\n    function (_super) {\n      __extends(Time, _super);\n\n      function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'time';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n      };\n      /**\n       * @override\n       */\n\n\n      Time.prototype.scale = function (value) {\n        var v = value;\n\n        if (isString(v) || isDate(v)) {\n          v = this.translate(v);\n        }\n\n        return _super.prototype.scale.call(this, v);\n      };\n      /**\n       * 将时间转换成数字\n       * @override\n       */\n\n\n      Time.prototype.translate = function (v) {\n        return toTimeStamp$1(v);\n      };\n\n      Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n      };\n\n      Time.prototype.setDomain = function () {\n        var values = this.values; // 是否设置了 min, max，而不是直接取 this.min, this.max\n\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max'); // 如果设置了 min,max 则转换成时间戳\n\n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n          this.min = this.translate(this.min);\n        }\n\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n          this.max = this.translate(this.max);\n        } // 没有设置 min, max 时\n\n\n        if (values && values.length) {\n          // 重新计算最大最小值\n          var timeStamps_1 = [];\n          var min_1 = Infinity; // 最小值\n\n          var secondMin_1 = min_1; // 次小值\n\n          var max_1 = 0; // 使用一个循环，计算min,max,secondMin\n\n          each(values, function (v) {\n            var timeStamp = toTimeStamp$1(v);\n\n            if (isNaN(timeStamp)) {\n              throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n            }\n\n            if (min_1 > timeStamp) {\n              secondMin_1 = min_1;\n              min_1 = timeStamp;\n            } else if (secondMin_1 > timeStamp) {\n              secondMin_1 = timeStamp;\n            }\n\n            if (max_1 < timeStamp) {\n              max_1 = timeStamp;\n            }\n\n            timeStamps_1.push(timeStamp);\n          }); // 存在多个值时，设置最小间距\n\n          if (values.length > 1) {\n            this.minTickInterval = secondMin_1 - min_1;\n          }\n\n          if (isNil(minConfig)) {\n            this.min = min_1;\n          }\n\n          if (isNil(maxConfig)) {\n            this.max = max_1;\n          }\n        }\n      };\n\n      return Time;\n    }(Linear);\n\n    /**\n     * 分段度量\n     */\n\n    var Quantize =\n    /** @class */\n    function (_super) {\n      __extends(Quantize, _super);\n\n      function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantize';\n        return _this;\n      }\n\n      Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1)); // 最后一个\n\n        if (minIndex >= length - 1) {\n          return last(ticks);\n        } // 超出左边界， 则取第一个\n\n\n        if (minIndex < 0) {\n          return head(ticks);\n        }\n\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1]; // 比当前值小的 tick 在度量上的占比\n\n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n      };\n\n      Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          // 如果 nice = false ,补充 min, max\n          if (last(ticks) !== this.max) {\n            ticks.push(this.max);\n          }\n\n          if (head(ticks) !== this.min) {\n            ticks.unshift(this.min);\n          }\n        }\n\n        return ticks;\n      }; // 计算当前值在刻度中的占比\n\n\n      Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks; // 超出左边界\n\n        if (value < head(ticks)) {\n          return 0;\n        } // 超出右边界\n\n\n        if (value > last(ticks)) {\n          return 1;\n        }\n\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n          if (value >= tick) {\n            minIndex = index;\n          } else {\n            return false;\n          }\n        });\n        return minIndex / (ticks.length - 1);\n      };\n\n      return Quantize;\n    }(Continuous);\n\n    var Quantile =\n    /** @class */\n    function (_super) {\n      __extends(Quantile, _super);\n\n      function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantile';\n        return _this;\n      }\n\n      Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      return Quantile;\n    }(Quantize);\n\n    var map$1 = {};\n\n    function getClass(key) {\n      return map$1[key];\n    }\n\n    function registerClass(key, cls) {\n      if (getClass(key)) {\n        throw new Error(\"type '\" + key + \"' existed.\");\n      }\n\n      map$1[key] = cls;\n    }\n\n    /**\n     * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n     * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n     * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n     */\n\n    var Identity =\n    /** @class */\n    function (_super) {\n      __extends(Identity, _super);\n\n      function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n      }\n\n      Identity.prototype.calculateTicks = function () {\n        return this.values;\n      };\n\n      Identity.prototype.scale = function (value) {\n        // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n        if (this.values[0] !== value && isNumber(value)) {\n          return value;\n        }\n\n        return this.range[0];\n      };\n\n      Identity.prototype.invert = function (value) {\n        var range = this.range;\n\n        if (value < range[0] || value > range[1]) {\n          return NaN;\n        }\n\n        return this.values[0];\n      };\n\n      return Identity;\n    }(Scale);\n\n    var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\n    var eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\n    function mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function simplicity(q, Q, j, lmin, lmax, lstep) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 0;\n      var m = mod(lmin, lstep);\n\n      if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n      }\n\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function simplicityMax(q, Q, j) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 1;\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function density(k, m, dmin, dmax, lmin, lmax) {\n      var r = (k - 1) / (lmax - lmin);\n      var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n      return 2 - Math.max(r / rt, rt / r);\n    }\n\n    function densityMax(k, m) {\n      if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n      }\n\n      return 1;\n    }\n\n    function coverage(dmin, dmax, lmin, lmax) {\n      var range = dmax - dmin;\n      return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n    }\n\n    function coverageMax(dmin, dmax, span) {\n      var range = dmax - dmin;\n\n      if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n      }\n\n      return 1;\n    }\n\n    function legibility() {\n      return 1;\n    }\n    /**\n     * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n     * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n     * @param dmin 最小值\n     * @param dmax 最大值\n     * @param m tick个数\n     * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n     * @param Q nice numbers集合\n     * @param w 四个优化组件的权重\n     */\n\n\n    function extended(dmin, dmax, m, onlyLoose, Q, w) {\n      if (m === void 0) {\n        m = 5;\n      }\n\n      if (onlyLoose === void 0) {\n        onlyLoose = true;\n      }\n\n      if (Q === void 0) {\n        Q = DEFAULT_Q;\n      }\n\n      if (w === void 0) {\n        w = [0.25, 0.2, 0.5, 0.05];\n      } // 异常数据情况下，直接返回，防止 oom\n\n\n      if (typeof dmin !== 'number' || typeof dmax !== 'number') {\n        return {\n          min: 0,\n          max: 0,\n          ticks: []\n        };\n      }\n\n      if (dmin === dmax || m === 1) {\n        return {\n          min: dmin,\n          max: dmax,\n          ticks: [dmin]\n        };\n      }\n\n      var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0\n      };\n      var j = 1;\n\n      while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n          var q = Q_1[_i];\n          var sm = simplicityMax(q, Q, j);\n\n          if (Number.isNaN(sm)) {\n            throw new Error('NaN');\n          }\n\n          if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n            j = Infinity;\n            break;\n          }\n\n          var k = 2;\n\n          while (k < Infinity) {\n            var dm = densityMax(k, m);\n\n            if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n              break;\n            }\n\n            var delta = (dmax - dmin) / (k + 1) / j / q;\n            var z = Math.ceil(Math.log10(delta));\n\n            while (z < Infinity) {\n              var step = j * q * Math.pow(10, z);\n              var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n              if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                break;\n              }\n\n              var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n              var maxStart = Math.ceil(dmin / step) * j;\n\n              if (minStart > maxStart) {\n                z = z + 1;\n                continue;\n              }\n\n              for (var start = minStart; start <= maxStart; start = start + 1) {\n                var lmin = start * (step / j);\n                var lmax = lmin + step * (k - 1);\n                var lstep = step;\n                var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                var c = coverage(dmin, dmax, lmin, lmax);\n                var g = density(k, m, dmin, dmax, lmin, lmax);\n                var l = legibility();\n                var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n                if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n                  best.lmin = lmin;\n                  best.lmax = lmax;\n                  best.lstep = lstep;\n                  best.score = score;\n                }\n              }\n\n              z = z + 1;\n            }\n\n            k = k + 1;\n          }\n        }\n\n        j = j + 1;\n      } // 步长为浮点数时处理精度\n\n\n      var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n      var range = [];\n\n      for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n      }\n\n      var ticks = toFixed ? map(range, function (x) {\n        return Number.parseFloat(x.toFixed(toFixed));\n      }) : range;\n      return {\n        min: Math.min(dmin, head(ticks)),\n        max: Math.max(dmax, last(ticks)),\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 计算分类 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateCatTicks(cfg) {\n      var values = cfg.values,\n          tickInterval = cfg.tickInterval,\n          tickCount = cfg.tickCount;\n      var ticks = values;\n\n      if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) {\n          return i % tickInterval === 0;\n        });\n      }\n\n      var min = cfg.min,\n          max = cfg.max;\n\n      if (isNil(min)) {\n        min = 0;\n      }\n\n      if (isNil(max)) {\n        max = values.length - 1;\n      }\n\n      if (isNumber(tickCount) && tickCount < max - min) {\n        // 简单过滤，部分情况下小数的倍数也可以是整数\n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) {\n          return tick >= min && tick <= max;\n        });\n        return valid.map(function (index) {\n          return values[index];\n        });\n      }\n\n      return values.slice(min, max + 1);\n    }\n\n    function d3Linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          nice = cfg.nice,\n          tickCount = cfg.tickCount;\n      var linear = new D3Linear();\n      linear.domain([min, max]);\n\n      if (nice) {\n        linear.nice(tickCount);\n      }\n\n      return linear.ticks(tickCount);\n    }\n    var DEFAULT_COUNT = 5;\n    var e10 = Math.sqrt(50);\n    var e5 = Math.sqrt(10);\n    var e2 = Math.sqrt(2); // https://github.com/d3/d3-scale\n\n    var D3Linear =\n    /** @class */\n    function () {\n      function D3Linear() {\n        this._domain = [0, 1];\n      }\n\n      D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n          this._domain = Array.from(domain, Number);\n          return this;\n        }\n\n        return this._domain.slice();\n      };\n\n      D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        var d = this._domain.slice();\n\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n\n        if (stop < start) {\n          _a = [stop, start], start = _a[0], stop = _a[1];\n          _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n\n        step = tickIncrement(start, stop, count);\n\n        if (step > 0) {\n          start = Math.floor(start / step) * step;\n          stop = Math.ceil(stop / step) * step;\n          step = tickIncrement(start, stop, count);\n        } else if (step < 0) {\n          start = Math.ceil(start * step) / step;\n          stop = Math.floor(stop * step) / step;\n          step = tickIncrement(start, stop, count);\n        }\n\n        if (step > 0) {\n          d[i0] = Math.floor(start / step) * step;\n          d[i1] = Math.ceil(stop / step) * step;\n          this.domain(d);\n        } else if (step < 0) {\n          d[i0] = Math.ceil(start * step) / step;\n          d[i1] = Math.floor(stop * step) / step;\n          this.domain(d);\n        }\n\n        return this;\n      };\n\n      D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n      };\n\n      return D3Linear;\n    }();\n\n    function d3ArrayTicks(start, stop, count) {\n      var reverse;\n      var i = -1;\n      var n;\n      var ticks;\n      var step;\n      stop = +stop, start = +start, count = +count;\n\n      if (start === stop && count > 0) {\n        return [start];\n      } // tslint:disable-next-line\n\n\n      if (reverse = stop < start) {\n        n = start, start = stop, stop = n;\n      } // tslint:disable-next-line\n\n\n      if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n      }\n\n      if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array(n = Math.ceil(stop - start + 1));\n\n        while (++i < n) {\n          ticks[i] = (start + i) * step;\n        }\n      } else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array(n = Math.ceil(start - stop + 1));\n\n        while (++i < n) {\n          ticks[i] = (start - i) / step;\n        }\n      }\n\n      if (reverse) {\n        ticks.reverse();\n      }\n\n      return ticks;\n    }\n\n    function tickIncrement(start, stop, count) {\n      var step = (stop - start) / Math.max(0, count);\n      var power = Math.floor(Math.log(step) / Math.LN10);\n      var error = step / Math.pow(10, power);\n      return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n    }\n\n    function snapMultiple(v, base, snapType) {\n      var div;\n\n      if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n      } else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n      } else {\n        div = Math.round(v / base);\n      }\n\n      return div * base;\n    }\n\n    function intervalTicks(min, max, interval) {\n      // 变成 interval 的倍数\n      var minTick = snapMultiple(min, interval, 'floor');\n      var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n      minTick = fixedBase(minTick, interval);\n      maxTick = fixedBase(maxTick, interval);\n      var ticks = [];\n\n      for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n\n        ticks.push(tickValue);\n      }\n\n      return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 按照给定的 minLimit/maxLimit/tickCount 均匀计算出刻度 ticks\n     *\n     * @param cfg Scale 配置项\n     * @return ticks\n     */\n\n    function strictLimit(cfg, defaultMin, defaultMax) {\n      var _a;\n\n      var minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit,\n          min = cfg.min,\n          max = cfg.max,\n          _b = cfg.tickCount,\n          tickCount = _b === void 0 ? 5 : _b;\n      var tickMin = isNil(minLimit) ? isNil(defaultMin) ? min : defaultMin : minLimit;\n      var tickMax = isNil(maxLimit) ? isNil(defaultMax) ? max : defaultMax : maxLimit;\n\n      if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n      }\n\n      if (tickCount <= 2) {\n        return [tickMin, tickMax];\n      }\n\n      var step = (tickMax - tickMin) / (tickCount - 1);\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n      }\n\n      return ticks;\n    }\n\n    function d3LinearTickMethod(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = d3Linear(cfg);\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 wilkinson extended 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          nice = cfg.nice,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = extended(min, max, tickCount, nice).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算 log 的 ticks，考虑 min = 0 的场景\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateLogTicks(cfg) {\n      var base = cfg.base,\n          tickCount = cfg.tickCount,\n          min = cfg.min,\n          max = cfg.max,\n          values = cfg.values;\n      var minTick;\n      var maxTick = log(base, max);\n\n      if (min > 0) {\n        minTick = Math.floor(log(base, min));\n      } else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n      }\n\n      var count = maxTick - minTick;\n      var avg = Math.ceil(count / tickCount);\n      var ticks = [];\n\n      for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n      }\n\n      if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n      }\n\n      return ticks;\n    }\n\n    function pretty(min, max, n) {\n      if (n === void 0) {\n        n = 5;\n      }\n\n      var res = {\n        max: 0,\n        min: 0,\n        ticks: []\n      };\n\n      if (min === max) {\n        return {\n          max: max,\n          min: min,\n          ticks: [min]\n        };\n      }\n      /*\n        R pretty:\n        https://svn.r-project.org/R/trunk/src/appl/pretty.c\n        https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n        */\n\n\n      var h = 1.5; // high.u.bias\n\n      var h5 = 0.5 + 1.5 * h; // u5.bias\n      // 反正我也不会调参，跳过所有判断步骤\n\n      var d = max - min;\n      var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n      // const min_n = Math.floor(n / 3);\n      // const shrink_sml = Math.pow(2, 5);\n      // if (Math.log10(d) < -2) {\n      //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n      // }\n\n      var base = Math.pow(10, Math.floor(Math.log10(c)));\n      var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n      var unit = base;\n\n      if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n\n        if (5 * base - c < h5 * (c - unit)) {\n          unit = 5 * base;\n\n          if (10 * base - c < h * (c - unit)) {\n            unit = 10 * base;\n          }\n        }\n      }\n\n      var nu = Math.ceil(max / unit);\n      var ns = Math.floor(min / unit);\n      res.max = Math.max(nu * unit, max);\n      res.min = Math.min(ns * unit, min);\n      var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n      while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n\n        if (toFixed) {\n          x = Number.parseFloat(x.toFixed(toFixed));\n        }\n      }\n\n      res.ticks.push(x);\n      return res;\n    }\n\n    /**\n     * 计算 Pow 的 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculatePowTicks(cfg) {\n      var exponent = cfg.exponent,\n          tickCount = cfg.tickCount;\n      var max = Math.ceil(calBase(exponent, cfg.max));\n      var min = Math.floor(calBase(exponent, cfg.min));\n      var ticks = pretty(min, max, tickCount).ticks;\n      return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n      });\n    }\n\n    /**\n     * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n     * @param x  数组\n     * @param p  百分比\n     */\n    function quantileSorted(x, p) {\n      var idx = x.length * p;\n      /*if (x.length === 0) { // 当前场景这些条件不可能命中\n        throw new Error('quantile requires at least one value.');\n      } else if (p < 0 || p > 1) {\n        throw new Error('quantiles must be between 0 and 1');\n      } else */\n\n      if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n      } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n      } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n      } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n      } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n      }\n    }\n\n    function calculateTicks(cfg) {\n      var tickCount = cfg.tickCount,\n          values = cfg.values;\n\n      if (!values || !values.length) {\n        return [];\n      }\n\n      var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 R's pretty 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linearPretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = pretty(min, max, tickCount).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    function calculateTimeTicks(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval;\n      var tickInterval = cfg.tickInterval;\n      var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n      } else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n\n        if (ratio > 1) {\n          tickInterval = tickInterval * Math.ceil(ratio);\n        } // 如果设置了最小间距，则使用最小间距\n\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var ticks = [];\n\n      for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算时间分类的 ticks, 保头，保尾\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateTimeCatTicks(cfg) {\n      var ticks = calculateCatTicks(cfg);\n      var lastValue = last(cfg.values);\n\n      if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n      }\n\n      return ticks;\n    }\n\n    function getYear(date) {\n      return new Date(date).getFullYear();\n    }\n\n    function createYear(year) {\n      return new Date(year, 0, 1).getTime();\n    }\n\n    function getMonth(date) {\n      return new Date(date).getMonth();\n    }\n\n    function diffMonth(min, max) {\n      var minYear = getYear(min);\n      var maxYear = getYear(max);\n      var minMonth = getMonth(min);\n      var maxMonth = getMonth(max);\n      return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n    }\n\n    function creatMonth(year, month) {\n      return new Date(year, month, 1).getTime();\n    }\n\n    function diffDay(min, max) {\n      return Math.ceil((max - min) / DAY);\n    }\n\n    function diffHour(min, max) {\n      return Math.ceil((max - min) / HOUR);\n    }\n\n    function diffMinus(min, max) {\n      return Math.ceil((max - min) / (60 * 1000));\n    }\n    /**\n     * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n\n    function timePretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval,\n          tickCount = cfg.tickCount;\n      var tickInterval = cfg.tickInterval;\n      var ticks = []; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (!tickInterval) {\n        tickInterval = (max - min) / tickCount; // 如果设置了最小间距，则使用最小间距\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var minYear = getYear(min); // 如果间距大于 1 年，则将开始日期从整年开始\n\n      if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n          ticks.push(createYear(i));\n        }\n      } else if (tickInterval > MONTH) {\n        // 大于月时\n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n          ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n      } else if (tickInterval > DAY) {\n        // 大于天\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n\n        for (var i = 0; i < ddays + day; i = i + day) {\n          ticks.push(new Date(year, month, mday + i).getTime());\n        }\n      } else if (tickInterval > HOUR) {\n        // 大于小时\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n          ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n      } else if (tickInterval > MINUTE) {\n        // 大于分钟\n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n          ticks.push(min + i * MINUTE);\n        }\n      } else {\n        // 小于分钟\n        var interval = tickInterval;\n\n        if (interval < SECOND) {\n          interval = SECOND;\n        }\n\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n          ticks.push(minSecond + i * SECOND);\n        }\n      } // 最好是能从算法能解决这个问题，但是如果指定了 tickInterval，计算 ticks，也只能这么算，所以\n      // 打印警告提示\n\n\n      if (ticks.length >= 512) {\n        console.warn(\"Notice: current ticks length(\" + ticks.length + \") >= 512, may cause performance issues, even out of memory. Because of the configure \\\"tickInterval\\\"(in milliseconds, current is \" + tickInterval + \") is too small, increase the value to solve the problem!\");\n      }\n\n      return ticks;\n    }\n\n    registerTickMethod('cat', calculateCatTicks);\n    registerTickMethod('time-cat', calculateTimeCatTicks);\n    registerTickMethod('wilkinson-extended', linear);\n    registerTickMethod('r-pretty', linearPretty);\n    registerTickMethod('time', calculateTimeTicks);\n    registerTickMethod('time-pretty', timePretty);\n    registerTickMethod('log', calculateLogTicks);\n    registerTickMethod('pow', calculatePowTicks);\n    registerTickMethod('quantile', calculateTicks);\n    registerTickMethod('d3-linear', d3LinearTickMethod);\n\n    registerClass('cat', Category);\n    registerClass('category', Category);\n    registerClass('identity', Identity);\n    registerClass('linear', Linear);\n    registerClass('log', Log);\n    registerClass('pow', Pow);\n    registerClass('time', Time);\n    registerClass('timeCat', TimeCat);\n    registerClass('quantize', Quantize);\n    registerClass('quantile', Quantile);\n\n    // cat平均算法，保头保尾\n    var CatTick = (function (cfg) {\n      var values = cfg.values,\n          tickCount = cfg.tickCount;\n\n      if (!tickCount) {\n        return values;\n      }\n\n      if (values.length <= 1) {\n        return values;\n      } // 获取间隔步长, 最小是1\n\n\n      var step = parseInt(values.length / (tickCount - 1)) || 1;\n      var ticks = []; // 按间隔数取对应节点\n\n      for (var index = 0; index < values.length; index = index + step) {\n        ticks.push(values[index]);\n      }\n\n      var last = values[values.length - 1]; // 如果最后一个tick不等于原数据的最后一个\n\n      if (ticks[ticks.length - 1] !== last) {\n        if (ticks.length >= tickCount) {\n          // 如果当前的tick个数满足要求\n          ticks[ticks.length - 1] = last;\n        } else {\n          // 不满足tickCount则直接加入最后一个\n          ticks.push(last);\n        }\n      }\n\n      return ticks;\n    });\n\n    // 认为是nice的刻度\n    var SNAP_COUNT_ARRAY = [1, 1.2, 1.5, 2, 2.2, 2.4, 2.5, 3, 4, 5, 6, 7.5, 8, 10];\n    var DEFAULT_COUNT$1 = 5; // 默认刻度值\n\n    var LinearTick = (function (cfg) {\n      var _ref = cfg || {},\n          tickCount = _ref.tickCount,\n          tickInterval = _ref.tickInterval;\n\n      var _ref2 = cfg || {},\n          min = _ref2.min,\n          max = _ref2.max;\n\n      min = isNaN(min) ? 0 : min;\n      max = isNaN(max) ? 0 : max;\n      var count = tickCount && tickCount >= 2 ? tickCount : DEFAULT_COUNT$1; // 计算interval， 优先取tickInterval\n\n      var interval = tickInterval || getBestInterval({\n        tickCount: count,\n        max: max,\n        min: min\n      }); // 通过interval计算最小tick\n\n      var minTick = Math.floor(min / interval) * interval; // 如果指定了tickInterval, count 需要根据指定的tickInterval来算计\n\n      if (tickInterval) {\n        var intervalCount = Math.abs(Math.ceil((max - minTick) / tickInterval)) + 1; // tickCount 作为最小 count 处理\n\n        count = Math.max(count, intervalCount);\n      }\n\n      var ticks = [];\n      var tickLength = 0;\n      var fixedLength = getFixedLength(interval);\n\n      while (tickLength < count) {\n        ticks.push(toFixed(minTick + tickLength * interval, fixedLength));\n        tickLength++;\n      }\n\n      return ticks;\n    });\n    var DECIMAL_LENGTH = 12;\n\n    function getFactor(number) {\n      // 取正数\n      number = Math.abs(number);\n      var factor = 1;\n\n      if (number === 0) {\n        return factor;\n      } // 小于1,逐渐放大\n\n\n      if (number < 1) {\n        var count = 0;\n\n        while (number < 1) {\n          factor = factor / 10;\n          number = number * 10;\n          count++;\n        } // 浮点数计算出现问题\n\n\n        if (factor.toString().length > DECIMAL_LENGTH) {\n          factor = parseFloat(factor.toFixed(count));\n        }\n\n        return factor;\n      } // 大于10逐渐缩小\n\n\n      while (number > 10) {\n        factor = factor * 10;\n        number = number / 10;\n      }\n\n      return factor;\n    } // 获取最佳匹配刻度\n\n\n    function getBestInterval(_ref3) {\n      var tickCount = _ref3.tickCount,\n          min = _ref3.min,\n          max = _ref3.max;\n\n      // 如果最大最小相等，则直接按1处理\n      if (min === max) {\n        return 1 * getFactor(max);\n      } // 1.计算平均刻度\b间隔\n\n\n      var avgInterval = (max - min) / (tickCount - 1); // 2.数据标准归一化 映射到[1-10]区间\n\n      var factor = getFactor(avgInterval);\n      var calInterval = avgInterval / factor;\n      var calMax = max / factor;\n      var calMin = min / factor; // 根据平均值推算最逼近刻度值\n\n      var similarityIndex = 0;\n\n      for (var index = 0; index < SNAP_COUNT_ARRAY.length; index++) {\n        var item = SNAP_COUNT_ARRAY[index];\n\n        if (calInterval <= item) {\n          similarityIndex = index;\n          break;\n        }\n      }\n\n      var similarityInterval = getInterval(similarityIndex, tickCount, calMin, calMax); // 小数点位数还原到数据的位数, 因为similarityIndex有可能是小数，所以需要保留similarityIndex自己的小数位数\n\n      var fixedLength = getFixedLength(similarityInterval) + getFixedLength(factor);\n      return toFixed(similarityInterval * factor, fixedLength);\n    }\n\n    function getInterval(startIndex, tickCount, min, max) {\n      var verify = false;\n      var interval = SNAP_COUNT_ARRAY[startIndex]; // 刻度值校验，如果不满足，循环下去\n\n      for (var i = startIndex; i < SNAP_COUNT_ARRAY.length; i++) {\n        if (intervalIsVerify({\n          interval: SNAP_COUNT_ARRAY[i],\n          tickCount: tickCount,\n          max: max,\n          min: min\n        })) {\n          // 有符合条件的interval\n          interval = SNAP_COUNT_ARRAY[i];\n          verify = true;\n          break;\n        }\n      } // 如果不满足, 依次缩小10倍，再计算\n\n\n      if (!verify) {\n        return 10 * getInterval(0, tickCount, min / 10, max / 10);\n      }\n\n      return interval;\n    } // 刻度是否满足展示需求\n\n\n    function intervalIsVerify(_ref4) {\n      var interval = _ref4.interval,\n          tickCount = _ref4.tickCount,\n          max = _ref4.max,\n          min = _ref4.min;\n      var minTick = Math.floor(min / interval) * interval;\n\n      if (minTick + (tickCount - 1) * interval >= max) {\n        return true;\n      }\n\n      return false;\n    } // 计算小数点应该保留的位数\n\n\n    function getFixedLength(num) {\n      var str = num.toString();\n      var index = str.indexOf('.');\n      var indexOfExp = str.indexOf('e-');\n      var length = indexOfExp >= 0 ? parseInt(str.substr(indexOfExp + 2), 10) : str.substr(index + 1).length;\n\n      if (length > 20) {\n        // 最多保留20位小数\n        length = 20;\n      }\n\n      return length;\n    } // @antv/util fixedbase不支持科学计数法的判断，需要提mr\n\n\n    function toFixed(v, length) {\n      return parseFloat(v.toFixed(length));\n    }\n\n    var Linear$1 = getClass('linear');\n    var Identity$1 = getClass('identity');\n    var Category$1 = getClass('category');\n    var TimeCat$1 = getClass('timeCat'); // 覆盖0.3.x的 cat 方法\n\n    registerTickMethod('cat', CatTick);\n    registerTickMethod('time-cat', CatTick); // 覆盖linear 度量的tick算法\n\n    registerTickMethod('wilkinson-extended', LinearTick);\n    Scale.Linear = Linear$1;\n    Scale.Identity = Identity$1;\n    Scale.Category = Category$1;\n    Scale.Cat = Category$1;\n    Scale.TimeCat = TimeCat$1;\n\n    function isFullCircle(coord) {\n      if (!coord.isPolar) {\n        return false;\n      }\n\n      var startAngle = coord.startAngle;\n      var endAngle = coord.endAngle;\n\n      if (!isNil(startAngle) && !isNil(endAngle) && endAngle - startAngle < Math.PI * 2) {\n        return false;\n      }\n\n      return true;\n    }\n\n    function clearObj(obj) {\n      Object.keys(obj).forEach(function (key) {\n        delete obj[key];\n      });\n    }\n\n    var ScaleController = /*#__PURE__*/function () {\n      function ScaleController(cfg) {\n        // defs 列定义\n        this.defs = {}; // 已经实例化的scale\n\n        this.scales = {};\n        mix(this, cfg);\n      }\n\n      var _proto = ScaleController.prototype;\n\n      _proto.setFieldDef = function setFieldDef(field, cfg) {\n        var defs = this.defs;\n\n        if (isObject(field)) {\n          mix(defs, field);\n        } else {\n          defs[field] = cfg;\n        } // 因为可能同时变更多个scale，所以要把所有已实例化的scale都更新下\n\n\n        this.updateScales();\n      };\n\n      _proto._getDef = function _getDef(field) {\n        var defs = this.defs;\n        var def = null;\n\n        if (Global.scales[field] || defs[field]) {\n          def = mix({}, Global.scales[field]);\n          each(defs[field], function (v, k) {\n            if (isNil(v)) {\n              delete def[k];\n            } else {\n              def[k] = v;\n            }\n          });\n        }\n\n        return def;\n      };\n\n      _proto._getDefaultType = function _getDefaultType(field, data, def) {\n        if (def && def.type) {\n          return def.type;\n        }\n\n        var type = 'linear';\n        var value = firstValue(data, field);\n\n        if (isArray(value)) {\n          value = value[0];\n        }\n\n        if (isString(value)) {\n          type = 'cat';\n        }\n\n        return type;\n      };\n\n      _proto._getScaleDef = function _getScaleDef(type, field, data, def) {\n        var values$1;\n\n        if (def && def.values) {\n          values$1 = def.values;\n        } else {\n          values$1 = values(data, field);\n        }\n\n        var cfg = {\n          field: field,\n          values: values$1\n        };\n\n        if (type !== 'cat' && type !== 'timeCat') {\n          if (!def || !(def.min && def.max)) {\n            var _Array$getRange = getRange$1(values$1),\n                min = _Array$getRange.min,\n                max = _Array$getRange.max;\n\n            cfg.min = min;\n            cfg.max = max;\n            cfg.nice = true;\n          }\n        } else {\n          cfg.isRounding = false; // used for tickCount calculation\n        }\n\n        return cfg;\n      } // 调整range，为了让图形居中\n      ;\n\n      _proto._adjustRange = function _adjustRange(type, cfg) {\n        var range = cfg.range,\n            values = cfg.values; // 如果是线性, 或者有自定义range都不处理\n\n        if (type === 'linear' || range || !values) {\n          return cfg;\n        }\n\n        var count = values.length; // 单只有一条数据时，在中间显示\n\n        if (count === 1) {\n          cfg.range = [0.5, 1];\n        } else {\n          var chart = this.chart;\n          var coord = chart.get('coord');\n          var widthRatio = Global.widthRatio.multiplePie;\n          var offset = 0;\n\n          if (isFullCircle(coord)) {\n            if (!coord.transposed) {\n              cfg.range = [0, 1 - 1 / count];\n            } else {\n              offset = 1 / count * widthRatio;\n              cfg.range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            // 为了让图形居中，所以才设置range\n            offset = 1 / count * 0.5; // 这里可能用0.25会更合理\n\n            cfg.range = [offset, 1 - offset];\n          }\n        }\n\n        return cfg;\n      };\n\n      _proto._getScaleCfg = function _getScaleCfg(field, data) {\n        var self = this;\n\n        var def = self._getDef(field);\n\n        if (!data || !data.length) {\n          if (def && def.type) {\n            def.field = field;\n            return {\n              type: def.type,\n              cfg: def\n            };\n          }\n\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var firstObj = data[0];\n        var firstValue$1 = firstObj[field];\n\n        if (firstValue$1 === null) {\n          firstValue$1 = firstValue(data, field);\n        }\n\n        if (isNumber(field) || isNil(firstValue$1) && !def) {\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var type = self._getDefaultType(field, data, def);\n\n        var cfg = self._getScaleDef(type, field, data, def);\n\n        def && mix(cfg, def);\n        cfg = this._adjustRange(type, cfg);\n        return {\n          type: type,\n          cfg: cfg\n        };\n      };\n\n      _proto.createScale = function createScale(field, data) {\n        var scales = this.scales;\n\n        var _this$_getScaleCfg = this._getScaleCfg(field, data),\n            type = _this$_getScaleCfg.type,\n            cfg = _this$_getScaleCfg.cfg;\n\n        var scale = scales[field]; // 如果已经存在，且类型相等时直接返回\n\n        if (scale && scale.type === type) {\n          scale.change(cfg);\n          return scale;\n        }\n\n        var Scale = getClass(type);\n        var newScale = new Scale(cfg);\n        scales[field] = newScale;\n        return newScale;\n      };\n\n      _proto._updateScale = function _updateScale(scale) {\n        var field = scale.field; // 因为每个field的数据都会不同\n\n        var data = this.chart._getScaleData(field);\n\n        var _this$_getScaleCfg2 = this._getScaleCfg(field, data),\n            cfg = _this$_getScaleCfg2.cfg;\n\n        scale.change(cfg);\n      };\n\n      _proto.updateScales = function updateScales() {\n        var _this = this;\n\n        var scales = this.scales; // 修改完列定义后，需要更新已经实例化的scale\n        // 如果是还没有实例化的，在geom初始化的时候会被实例化，所以这里可以不用更新\n\n        each(scales, function (scale) {\n          _this._updateScale(scale);\n        });\n      } // 调整scale从0开始\n      ;\n\n      _proto.adjustStartZero = function adjustStartZero(scale) {\n        var defs = this.defs;\n        var field = scale.field,\n            min = scale.min,\n            max = scale.max; // 如果有定义，则不处理\n\n        if (defs[field] && defs[field].min) {\n          return;\n        }\n\n        if (min > 0) {\n          scale.change({\n            min: 0\n          });\n        } else if (max < 0) {\n          scale.change({\n            max: 0\n          });\n        }\n      };\n\n      _proto.clear = function clear() {\n        // this.defs = {};\n        // this.scales = {};\n        clearObj(this.defs);\n        clearObj(this.scales);\n        this.data = null;\n      };\n\n      return ScaleController;\n    }();\n\n    var Abastract = /*#__PURE__*/function () {\n      var _proto = Abastract.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * ticks\n         * @type {Array}\n         */\n        this.ticks = [];\n        /**\n         * the configuration for tickLine\n         * @type {Object}\n         */\n\n        this.tickLine = {};\n        /**\n         * the direction of ticks, 1 means clockwise\n         * @type {Number}\n         */\n\n        this.offsetFactor = 1;\n        /**\n         * the top container\n         * @type {container}\n         */\n\n        this.frontContainer = null;\n        /**\n         * the back container\n         * @type {[type]}\n         */\n\n        this.backContainer = null;\n        /**\n         * points for draw grid line\n         * @type {Array}\n         */\n\n        this.gridPoints = [];\n      };\n\n      function Abastract(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        this.draw();\n      }\n\n      _proto.draw = function draw() {\n        var line = this.line,\n            tickLine = this.tickLine,\n            label = this.label,\n            grid = this.grid;\n        grid && this.drawGrid(grid); // draw the grid lines\n\n        tickLine && this.drawTicks(tickLine); // draw the tickLine\n\n        line && this.drawLine(line); // draw axis line\n\n        label && this.drawLabels(); // draw ticks\n      };\n\n      _proto.drawTicks = function drawTicks(tickCfg) {\n        var self = this;\n        var ticks = self.ticks;\n        var length = tickCfg.length;\n        var container = self.getContainer(tickCfg.top);\n        each(ticks, function (tick) {\n          var start = self.getOffsetPoint(tick.value);\n          var end = self.getSidePoint(start, length);\n          var shape = container.addShape('line', {\n            className: 'axis-tick',\n            attrs: mix({\n              x1: start.x,\n              y1: start.y,\n              x2: end.x,\n              y2: end.y\n            }, tickCfg)\n          });\n          shape._id = self._id + '-ticks';\n        });\n      };\n\n      _proto.drawLabels = function drawLabels() {\n        var self = this;\n        var labelOffset = self.labelOffset;\n        var labels = self.labels;\n        each(labels, function (labelShape) {\n          var container = self.getContainer(labelShape.get('top'));\n          var start = self.getOffsetPoint(labelShape.get('value'));\n\n          var _self$getSidePoint = self.getSidePoint(start, labelOffset),\n              x = _self$getSidePoint.x,\n              y = _self$getSidePoint.y;\n\n          labelShape.attr(mix({\n            x: x,\n            y: y\n          }, self.getTextAlignInfo(start, labelOffset), labelShape.get('textStyle')));\n          labelShape._id = self._id + '-' + labelShape.attr('text');\n          container.add(labelShape);\n        });\n      };\n\n      _proto.drawLine = function drawLine() {};\n\n      _proto.drawGrid = function drawGrid(grid) {\n        var self = this;\n        var gridPoints = self.gridPoints,\n            ticks = self.ticks;\n        var gridCfg = grid;\n        var count = gridPoints.length;\n        each(gridPoints, function (subPoints, index) {\n          if (isFunction(grid)) {\n            var tick = ticks[index] || {};\n            var executedGrid = grid(tick.text, index, count);\n            gridCfg = executedGrid ? mix({}, Global._defaultAxis.grid, executedGrid) : null;\n          }\n\n          if (gridCfg) {\n            var type = gridCfg.type; // has two types: 'line' and 'arc'\n\n            var points = subPoints.points;\n            var container = self.getContainer(gridCfg.top);\n            var shape;\n\n            if (type === 'arc') {\n              var center = self.center,\n                  startAngle = self.startAngle,\n                  endAngle = self.endAngle;\n              var radius = Vector2.length([points[0].x - center.x, points[0].y - center.y]);\n              shape = container.addShape('Arc', {\n                className: 'axis-grid',\n                attrs: mix({\n                  x: center.x,\n                  y: center.y,\n                  startAngle: startAngle,\n                  endAngle: endAngle,\n                  r: radius\n                }, gridCfg)\n              });\n            } else {\n              shape = container.addShape('Polyline', {\n                className: 'axis-grid',\n                attrs: mix({\n                  points: points\n                }, gridCfg)\n              });\n            }\n\n            shape._id = subPoints._id;\n          }\n        });\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint() {};\n\n      _proto.getAxisVector = function getAxisVector() {};\n\n      _proto.getOffsetVector = function getOffsetVector(point, offset) {\n        var self = this;\n        var axisVector = self.getAxisVector(point);\n        var normal = Vector2.normalize([], axisVector);\n        var factor = self.offsetFactor;\n        var verticalVector = [normal[1] * -1 * factor, normal[0] * factor];\n        return Vector2.scale([], verticalVector, offset);\n      };\n\n      _proto.getSidePoint = function getSidePoint(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        return {\n          x: point.x + offsetVector[0],\n          y: point.y + offsetVector[1]\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine;\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n        }\n\n        if (offsetVector[1] > 0) {\n          baseLine = 'top';\n        } else if (offsetVector[1] < 0) {\n          baseLine = 'bottom';\n        } else {\n          baseLine = 'middle';\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getContainer = function getContainer(isTop) {\n        var frontContainer = this.frontContainer,\n            backContainer = this.backContainer;\n        return isTop ? frontContainer : backContainer;\n      };\n\n      return Abastract;\n    }();\n\n    var Line = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Line, _Abstract);\n\n      function Line() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.start = null;\n        this.end = null;\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var start = this.start,\n            end = this.end;\n        return {\n          x: start.x + (end.x - start.x) * value,\n          y: start.y + (end.y - start.y) * value\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector() {\n        var start = this.start,\n            end = this.end;\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var container = this.getContainer(lineCfg.top);\n        var start = this.start,\n            end = this.end;\n        container.addShape('line', {\n          className: 'axis-line',\n          attrs: mix({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          }, lineCfg)\n        });\n      };\n\n      return Line;\n    }(Abastract);\n\n    Abastract.Line = Line;\n\n    function formatTicks(ticks) {\n      var tmp = ticks.slice(0);\n\n      if (tmp.length > 0) {\n        var first = tmp[0];\n        var last = tmp[tmp.length - 1];\n\n        if (first.value !== 0) {\n          tmp.unshift({\n            value: 0\n          });\n        }\n\n        if (last.value !== 1) {\n          tmp.push({\n            value: 1\n          });\n        }\n      }\n\n      return tmp;\n    }\n\n    var AxisController = /*#__PURE__*/function () {\n      function AxisController(cfg) {\n        this.axisCfg = {};\n        this.frontPlot = null;\n        this.backPlot = null;\n        this.axes = {}; // store the axes's options\n\n        mix(this, cfg);\n      }\n\n      var _proto = AxisController.prototype;\n\n      _proto._isHide = function _isHide(field) {\n        var axisCfg = this.axisCfg;\n        return !axisCfg || axisCfg[field] === false;\n      };\n\n      _proto._getLinePosition = function _getLinePosition(scale, dimType, index, transposed) {\n        var position = '';\n        var field = scale.field;\n        var axisCfg = this.axisCfg;\n\n        if (axisCfg[field] && axisCfg[field].position) {\n          position = axisCfg[field].position;\n        } else if (dimType === 'x') {\n          position = transposed ? 'left' : 'bottom';\n        } else if (dimType === 'y') {\n          position = index ? 'right' : 'left';\n\n          if (transposed) {\n            position = 'bottom';\n          }\n        }\n\n        return position;\n      };\n\n      _proto._getLineCfg = function _getLineCfg(coord, dimType, position) {\n        var start;\n        var end;\n        var factor = 1; // Mark clockwise or counterclockwise\n\n        if (dimType === 'x') {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          if (position === 'right') {\n            // there will be several y axes\n            start = {\n              x: 1,\n              y: 0\n            };\n            end = {\n              x: 1,\n              y: 1\n            };\n          } else {\n            start = {\n              x: 0,\n              y: 0\n            };\n            end = {\n              x: 0,\n              y: 1\n            };\n            factor = -1;\n          }\n        }\n\n        if (coord.transposed) {\n          factor *= -1;\n        }\n\n        return {\n          offsetFactor: factor,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getCircleCfg = function _getCircleCfg(coord) {\n        return {\n          startAngle: coord.startAngle,\n          endAngle: coord.endAngle,\n          center: coord.center,\n          radius: coord.circleRadius\n        };\n      };\n\n      _proto._getRadiusCfg = function _getRadiusCfg(coord) {\n        var transposed = coord.transposed;\n        var start;\n        var end;\n\n        if (transposed) {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 0,\n            y: 1\n          };\n        }\n\n        return {\n          offsetFactor: -1,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getAxisCfg = function _getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg) {\n        var _this = this;\n\n        var self = this;\n        var axisCfg = this.axisCfg;\n        var ticks = scale.getTicks();\n        var cfg = deepMix({\n          ticks: ticks,\n          frontContainer: this.frontPlot,\n          backContainer: this.backPlot\n        }, defaultCfg, axisCfg[scale.field]);\n        var labels = [];\n        var label = cfg.label;\n        var count = ticks.length;\n        var maxWidth = 0;\n        var maxHeight = 0;\n        var labelCfg = label;\n        each(ticks, function (tick, index) {\n          if (isFunction(label)) {\n            var executedLabel = label(tick.text, index, count);\n            labelCfg = executedLabel ? mix({}, Global._defaultAxis.label, executedLabel) : null;\n          }\n\n          if (labelCfg) {\n            var textStyle = {};\n\n            if (labelCfg.textAlign) {\n              textStyle.textAlign = labelCfg.textAlign;\n            }\n\n            if (labelCfg.textBaseline) {\n              textStyle.textBaseline = labelCfg.textBaseline;\n            }\n\n            var container = labelCfg.top ? _this.frontPlot : _this.backPlot;\n            var axisLabel = container.addShape('text', {\n              className: 'axis-label',\n              aria: false,\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: tick.text,\n                fontFamily: self.chart.get('canvas').get('fontFamily')\n              }, labelCfg),\n              value: tick.value,\n              textStyle: textStyle,\n              top: labelCfg.top,\n              context: self.chart.get('canvas').get('context')\n            });\n            labels.push(axisLabel);\n\n            var _axisLabel$getBBox = axisLabel.getBBox(),\n                width = _axisLabel$getBBox.width,\n                height = _axisLabel$getBBox.height;\n\n            maxWidth = Math.max(maxWidth, width);\n            maxHeight = Math.max(maxHeight, height);\n          }\n        });\n        cfg.labels = labels;\n        cfg.maxWidth = maxWidth;\n        cfg.maxHeight = maxHeight;\n        return cfg;\n      };\n\n      _proto._createAxis = function _createAxis(coord, scale, verticalScale, dimType, index) {\n        if (index === void 0) {\n          index = '';\n        }\n\n        var self = this;\n        var coordType = coord.type;\n        var transposed = coord.transposed;\n        var type;\n        var key;\n        var defaultCfg;\n\n        if (coordType === 'cartesian' || coordType === 'rect') {\n          var position = self._getLinePosition(scale, dimType, index, transposed);\n\n          defaultCfg = Global.axis[position];\n          defaultCfg.position = position;\n          type = 'Line';\n          key = position;\n        } else {\n          if (dimType === 'x' && !transposed || dimType === 'y' && transposed) {\n            defaultCfg = Global.axis.circle;\n            type = 'Circle';\n            key = 'circle';\n          } else {\n            defaultCfg = Global.axis.radius;\n            type = 'Line';\n            key = 'radius';\n          }\n        }\n\n        var cfg = self._getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg);\n\n        cfg.type = type;\n        cfg.dimType = dimType;\n        cfg.verticalScale = verticalScale;\n        cfg.index = index;\n        this.axes[key] = cfg;\n      };\n\n      _proto.createAxis = function createAxis(coord, xScale, yScales) {\n        var self = this;\n\n        if (xScale && !self._isHide(xScale.field)) {\n          self._createAxis(coord, xScale, yScales[0], 'x');\n        }\n\n        each(yScales, function (yScale, index) {\n          if (!self._isHide(yScale.field)) {\n            self._createAxis(coord, yScale, xScale, 'y', index);\n          }\n        });\n        var axes = this.axes;\n        var chart = self.chart;\n\n        if (chart._isAutoPadding()) {\n          var userPadding = parsePadding(chart.get('padding'));\n          var appendPadding = parsePadding(chart.get('appendPadding'));\n          var legendRange = chart.get('legendRange') || {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n          };\n          var padding = [userPadding[0] === 'auto' ? legendRange.top + appendPadding[0] * 2 : userPadding[0], userPadding[1] === 'auto' ? legendRange.right + appendPadding[1] : userPadding[1], userPadding[2] === 'auto' ? legendRange.bottom + appendPadding[2] : userPadding[2], userPadding[3] === 'auto' ? legendRange.left + appendPadding[3] : userPadding[3]];\n\n          if (coord.isPolar) {\n            var circleAxis = axes.circle;\n\n            if (circleAxis) {\n              var maxHeight = circleAxis.maxHeight,\n                  maxWidth = circleAxis.maxWidth,\n                  labelOffset = circleAxis.labelOffset;\n              padding[0] += maxHeight + labelOffset;\n              padding[1] += maxWidth + labelOffset;\n              padding[2] += maxHeight + labelOffset;\n              padding[3] += maxWidth + labelOffset;\n            }\n          } else {\n            if (axes.right && userPadding[1] === 'auto') {\n              var _axes$right = axes.right,\n                  _maxWidth = _axes$right.maxWidth,\n                  _labelOffset = _axes$right.labelOffset;\n              padding[1] += _maxWidth + _labelOffset;\n            }\n\n            if (axes.left && userPadding[3] === 'auto') {\n              var _axes$left = axes.left,\n                  _maxWidth2 = _axes$left.maxWidth,\n                  _labelOffset2 = _axes$left.labelOffset;\n              padding[3] += _maxWidth2 + _labelOffset2;\n            }\n\n            if (axes.bottom && userPadding[2] === 'auto') {\n              var _axes$bottom = axes.bottom,\n                  _maxHeight = _axes$bottom.maxHeight,\n                  _labelOffset3 = _axes$bottom.labelOffset;\n              padding[2] += _maxHeight + _labelOffset3;\n            }\n          }\n\n          chart.set('_padding', padding);\n\n          chart._updateLayout(padding);\n        }\n\n        each(axes, function (axis) {\n          var type = axis.type,\n              grid = axis.grid,\n              verticalScale = axis.verticalScale,\n              ticks = axis.ticks,\n              dimType = axis.dimType,\n              position = axis.position,\n              index = axis.index;\n          var appendCfg;\n\n          if (coord.isPolar) {\n            if (type === 'Line') {\n              appendCfg = self._getRadiusCfg(coord);\n            } else if (type === 'Circle') {\n              appendCfg = self._getCircleCfg(coord);\n            }\n          } else {\n            appendCfg = self._getLineCfg(coord, dimType, position);\n          }\n\n          if (grid && verticalScale) {\n            var gridPoints = [];\n            var verticalTicks = formatTicks(verticalScale.getTicks());\n            each(ticks, function (tick) {\n              var subPoints = [];\n              each(verticalTicks, function (verticalTick) {\n                var x = dimType === 'x' ? tick.value : verticalTick.value;\n                var y = dimType === 'x' ? verticalTick.value : tick.value;\n\n                if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n                  var point = coord.convertPoint({\n                    x: x,\n                    y: y\n                  });\n                  subPoints.push(point);\n                }\n              });\n              gridPoints.push({\n                points: subPoints,\n                _id: 'axis-' + dimType + index + '-grid-' + tick.tickValue\n              });\n            });\n            axis.gridPoints = gridPoints;\n\n            if (coord.isPolar) {\n              axis.center = coord.center;\n              axis.startAngle = coord.startAngle;\n              axis.endAngle = coord.endAngle;\n            }\n          }\n\n          appendCfg._id = 'axis-' + dimType;\n\n          if (!isNil(index)) {\n            appendCfg._id = 'axis-' + dimType + index;\n          }\n\n          new Abastract[type](mix(axis, appendCfg));\n        });\n      };\n\n      _proto.clear = function clear() {\n        this.axes = {};\n        this.frontPlot.clear();\n        this.backPlot.clear();\n      };\n\n      return AxisController;\n    }();\n\n    var calcDirection = function calcDirection(start, end) {\n      var xDistance = end.x - start.x;\n      var yDistance = end.y - start.y; // x 的距离大于y 说明是横向，否则就是纵向\n\n      if (Math.abs(xDistance) > Math.abs(yDistance)) {\n        return xDistance > 0 ? 'right' : 'left';\n      }\n\n      return yDistance > 0 ? 'down' : 'up';\n    }; // 计算2点之间的距离\n\n\n    var calcDistance = function calcDistance(point1, point2) {\n      var xDistance = Math.abs(point2.x - point1.x);\n      var yDistance = Math.abs(point2.y - point1.y);\n      return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n    };\n\n    var getCenter = function getCenter(point1, point2) {\n      var x = point1.x + (point2.x - point1.x) / 2;\n      var y = point1.y + (point2.y - point1.y) / 2;\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var PRESS_DELAY = 250;\n\n    var EventController = /*#__PURE__*/function () {\n      function EventController(_ref) {\n        var _this = this;\n\n        var canvas = _ref.canvas,\n            el = _ref.el;\n\n        _defineProperty(this, \"_click\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          ev.points = points;\n\n          _this.emitEvent('click', ev);\n        });\n\n        _defineProperty(this, \"_start\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n\n          if (!points) {\n            return;\n          }\n\n          ev.points = points;\n\n          _this.emitEvent('touchstart', ev); // 防止上次的内容没有清理掉，重新reset下\n\n\n          _this.reset(); // 记录touch start 的时间\n\n\n          _this.startTime = Date.now(); // 记录touch start 的点\n\n          _this.startPoints = points;\n\n          if (points.length > 1) {\n            _this.startDistance = calcDistance(points[0], points[1]);\n            _this.center = getCenter(points[0], points[1]);\n          } else {\n            // 如果touchstart后停顿250ms, 则也触发press事件\n            _this.pressTimeout = setTimeout(function () {\n              // 这里固定触发press事件\n              var eventType = 'press';\n              var direction = 'none';\n              ev.direction = direction;\n\n              _this.emitStart(eventType, ev);\n\n              _this.emitEvent(eventType, ev);\n\n              _this.eventType = eventType;\n              _this.direction = direction;\n            }, PRESS_DELAY);\n          }\n        });\n\n        _defineProperty(this, \"_move\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          if (!points) return;\n\n          _this.clearPressTimeout();\n\n          ev.points = points;\n\n          _this.emitEvent('touchmove', ev);\n\n          var startPoints = _this.startPoints;\n          if (!startPoints) return; // 多指触控\n\n          if (points.length > 1) {\n            // touchstart的距离\n            var startDistance = _this.startDistance;\n            var currentDistance = calcDistance(points[0], points[1]);\n            ev.zoom = currentDistance / startDistance;\n            ev.center = _this.center; // 触发缩放事件\n\n            _this.emitStart('pinch', ev);\n\n            _this.emitEvent('pinch', ev);\n          } else {\n            var deltaX = points[0].x - startPoints[0].x;\n            var deltaY = points[0].y - startPoints[0].y;\n            var direction = _this.direction || calcDirection(startPoints[0], points[0]);\n            _this.direction = direction; // 获取press或者pan的事件类型\n            // press 按住滑动, pan表示平移\n            // 如果start后立刻move，则触发pan, 如果有停顿，则触发press\n\n            var eventType = _this.getEventType(points);\n\n            ev.direction = direction;\n            ev.deltaX = deltaX;\n            ev.deltaY = deltaY;\n\n            _this.emitStart(eventType, ev);\n\n            _this.emitEvent(eventType, ev); // 记录最后2次move的时间和坐标，为了给swipe事件用\n\n\n            var prevMoveTime = _this.lastMoveTime;\n            var now = Date.now(); // 最后2次的时间间隔一定要大于0，否则swipe没发计算\n\n            if (now - prevMoveTime > 0) {\n              _this.prevMoveTime = prevMoveTime;\n              _this.prevMovePoints = _this.lastMovePoints;\n              _this.lastMoveTime = now;\n              _this.lastMovePoints = points;\n            }\n          }\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          ev.points = points;\n\n          _this.emitEnd(ev);\n\n          _this.emitEvent('touchend', ev); // swipe事件处理, 在touchend之后触发\n\n\n          var lastMoveTime = _this.lastMoveTime;\n          var now = Date.now(); // 做这个判断是为了最后一次touchmove后到end前，还有一个停顿的过程\n          // 100 是拍的一个值，理论这个值会很短，一般不卡顿的话在10ms以内\n\n          if (now - lastMoveTime < 100) {\n            var prevMoveTime = _this.prevMoveTime || _this.startTime;\n            var intervalTime = lastMoveTime - prevMoveTime; // 时间间隔一定要大于0, 否则计算没意义\n\n            if (intervalTime > 0) {\n              var prevMovePoints = _this.prevMovePoints || _this.startPoints;\n              var lastMovePoints = _this.lastMovePoints; // move速率\n\n              var velocity = calcDistance(prevMovePoints[0], lastMovePoints[0]) / intervalTime; // 0.3 是参考hammerjs的设置\n\n              if (velocity > 0.3) {\n                ev.velocity = velocity;\n                ev.direction = calcDirection(prevMovePoints[0], lastMovePoints[0]);\n\n                _this.emitEvent('swipe', ev);\n              }\n            }\n          }\n\n          _this.reset();\n\n          var touches = ev.touches; // 当多指只释放了1指时也会触发end, 这时重新触发一次start\n\n          if (touches && touches.length > 0) {\n            _this._start(ev);\n          }\n        });\n\n        _defineProperty(this, \"_cancel\", function (ev) {\n          _this.emitEvent('touchcancel', ev);\n\n          _this.reset();\n        });\n\n        // canvasEl\n        this.canvas = canvas;\n        this.delegateEvent(el); // 用来记录当前触发的事件\n\n        this.processEvent = {};\n      }\n\n      var _proto = EventController.prototype;\n\n      _proto.delegateEvent = function delegateEvent(canvasEl) {\n        // 代理这几个事件\n        canvasEl.addEventListener('click', this._click);\n        canvasEl.addEventListener('touchstart', this._start);\n        canvasEl.addEventListener('touchmove', this._move);\n        canvasEl.addEventListener('touchend', this._end);\n        canvasEl.addEventListener('touchcancel', this._cancel);\n      };\n\n      _proto.emitEvent = function emitEvent(type, ev) {\n        var canvas = this.canvas;\n        canvas.emit(type, ev);\n      };\n\n      _proto.getEventType = function getEventType(points) {\n        var eventType = this.eventType,\n            canvas = this.canvas,\n            startTime = this.startTime,\n            startPoints = this.startPoints;\n\n        if (eventType) {\n          return eventType;\n        }\n\n        var type;\n        var panEventListeners = canvas.__events.pan; // 如果没有pan事件的监听，默认都是press\n\n        if (!panEventListeners || !panEventListeners.length) {\n          type = 'press';\n        } else {\n          // 如果有pan事件的处理，press则需要停顿250ms, 且移动距离小于10\n          var now = Date.now();\n\n          if (now - startTime > PRESS_DELAY && calcDistance(startPoints[0], points[0]) < 10) {\n            type = 'press';\n          } else {\n            type = 'pan';\n          }\n        }\n\n        this.eventType = type;\n        return type;\n      };\n\n      _proto.enable = function enable(eventType) {\n        this.processEvent[eventType] = true;\n      } // 是否进行中的事件\n      ;\n\n      _proto.isProcess = function isProcess(eventType) {\n        return this.processEvent[eventType];\n      } // 触发start事件\n      ;\n\n      _proto.emitStart = function emitStart(type, ev) {\n        if (this.isProcess(type)) {\n          return;\n        }\n\n        this.enable(type);\n        this.emitEvent(type + \"start\", ev);\n      } // 触发end事件\n      ;\n\n      _proto.emitEnd = function emitEnd(ev) {\n        var _this2 = this;\n\n        var processEvent = this.processEvent;\n        Object.keys(processEvent).forEach(function (type) {\n          _this2.emitEvent(type + \"end\", ev);\n\n          delete processEvent[type];\n        });\n      };\n\n      _proto.clearPressTimeout = function clearPressTimeout() {\n        if (this.pressTimeout) {\n          clearTimeout(this.pressTimeout);\n          this.pressTimeout = 0;\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.clearPressTimeout();\n        this.startTime = 0;\n        this.startPoints = null;\n        this.startDistance = 0;\n        this.direction = null;\n        this.eventType = null;\n        this.pinch = false;\n        this.prevMoveTime = 0;\n        this.prevMovePoints = null;\n        this.lastMoveTime = 0;\n        this.lastMovePoints = null;\n      };\n\n      return EventController;\n    }();\n\n    var CanvasElement = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(CanvasElement, _EventEmit);\n\n      function CanvasElement(ctx) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        _this.context = ctx; // canvas实际的宽高 (width/height) * pixelRatio\n\n        _this.width = 0;\n        _this.height = 0;\n        _this.style = {};\n        _this.currentStyle = {};\n        _this.attrs = {}; // 用来标识是CanvasElement实例\n\n        _this.isCanvasElement = true;\n        return _this;\n      }\n\n      var _proto = CanvasElement.prototype;\n\n      _proto.getContext = function getContext()\n      /* type */\n      {\n        return this.context;\n      };\n\n      _proto.getBoundingClientRect = function getBoundingClientRect() {\n        var width = this.width;\n        var height = this.height; // 默认都处理成可视窗口的顶部位置\n\n        return {\n          top: 0,\n          right: width,\n          bottom: height,\n          left: 0\n        };\n      };\n\n      _proto.setAttribute = function setAttribute(key, value) {\n        this.attrs[key] = value;\n      };\n\n      _proto.addEventListener = function addEventListener(type, listener) {\n        this.on(type, listener);\n      };\n\n      _proto.removeEventListener = function removeEventListener(type, listener) {\n        this.off(type, listener);\n      };\n\n      _proto.dispatchEvent = function dispatchEvent(type, e) {\n        this.emit(type, e);\n      };\n\n      return CanvasElement;\n    }(EventEmit);\n\n    function supportEventListener(canvas) {\n      if (!canvas) {\n        return false;\n      } // 非 HTMLCanvasElement\n\n\n      if (canvas.nodeType !== 1 || !canvas.nodeName || canvas.nodeName.toLowerCase() !== 'canvas') {\n        return false;\n      } // 微信小程序canvas.getContext('2d')时也是CanvasRenderingContext2D\n      // 也会有ctx.canvas, 而且nodeType也是1，所以还要在看下是否支持addEventListener\n\n\n      var support = false;\n\n      try {\n        canvas.addEventListener('eventTest', function () {\n          support = true;\n        });\n        canvas.dispatchEvent(new Event('eventTest'));\n      } catch (error) {\n        support = false;\n      }\n\n      return support;\n    }\n\n    var CanvasElement$1 = {\n      create: function create(ctx) {\n        if (!ctx) {\n          return null;\n        }\n\n        if (supportEventListener(ctx.canvas)) {\n          return ctx.canvas;\n        }\n\n        return new CanvasElement(ctx);\n      }\n    };\n\n    function _mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function _addStop(steps, gradient) {\n      each(steps, function (item) {\n        item = item.split(':');\n        gradient.addColorStop(Number(item[0]), item[1]);\n      });\n    } // the string format: 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff'\n\n\n    function _parseLineGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var angle = arr[0].slice(2, arr[0].length - 1);\n      angle = _mod(parseFloat(angle) * Math.PI / 180, Math.PI * 2);\n      var steps = arr.slice(1);\n\n      var _shape$getBBox = shape.getBBox(),\n          minX = _shape$getBBox.minX,\n          minY = _shape$getBBox.minY,\n          maxX = _shape$getBBox.maxX,\n          maxY = _shape$getBBox.maxY;\n\n      var start;\n      var end;\n\n      if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n          x: minX,\n          y: minY\n        };\n        end = {\n          x: maxX,\n          y: maxY\n        };\n      } else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n          x: maxX,\n          y: minY\n        };\n        end = {\n          x: minX,\n          y: maxY\n        };\n      } else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n          x: maxX,\n          y: maxY\n        };\n        end = {\n          x: minX,\n          y: minY\n        };\n      } else {\n        start = {\n          x: minX,\n          y: maxY\n        };\n        end = {\n          x: maxX,\n          y: minY\n        };\n      }\n\n      var tanTheta = Math.tan(angle);\n      var tanTheta2 = tanTheta * tanTheta;\n      var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n      var y = tanTheta * (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.y;\n      var gradient = context.createLinearGradient(start.x, start.y, x, y);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    } // the string format: 'r(0.5, 0.5, 0.1) 0:#ffffff 1:#1890ff'\n\n\n    function _parseRadialGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var circleCfg = arr[0].slice(2, arr[0].length - 1);\n      circleCfg = circleCfg.split(',');\n      var fx = parseFloat(circleCfg[0]);\n      var fy = parseFloat(circleCfg[1]);\n      var fr = parseFloat(circleCfg[2]);\n      var steps = arr.slice(1); // if radius is 0, no gradient, stroke with the last color\n\n      if (fr === 0) {\n        var _color = steps[steps.length - 1];\n        return _color.split(':')[1];\n      }\n\n      var _shape$getBBox2 = shape.getBBox(),\n          width = _shape$getBBox2.width,\n          height = _shape$getBBox2.height,\n          minX = _shape$getBBox2.minX,\n          minY = _shape$getBBox2.minY;\n\n      var r = Math.sqrt(width * width + height * height) / 2;\n      var gradient = context.createRadialGradient(minX + width * fx, minY + height * fy, fr * r, minX + width / 2, minY + height / 2, r);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    }\n\n    function parseStyle(color, shape, context) {\n      if (color[1] === '(') {\n        try {\n          var firstCode = color[0];\n\n          if (firstCode === 'l') {\n            return _parseLineGradient(color, shape, context);\n          } else if (firstCode === 'r') {\n            return _parseRadialGradient(color, shape, context);\n          }\n        } catch (ev) {\n          console.error('error in parsing gradient string, please check if there are any extra whitespaces.');\n          console.error(ev);\n        }\n      }\n\n      return color;\n    }\n\n    var ALIAS_ATTRS_MAP = {\n      stroke: 'strokeStyle',\n      fill: 'fillStyle',\n      opacity: 'globalAlpha'\n    };\n    var SHAPE_ATTRS = ['fillStyle', 'font', 'globalAlpha', 'lineCap', 'lineWidth', 'lineJoin', 'miterLimit', 'shadowBlur', 'shadowColor', 'shadowOffsetX', 'shadowOffsetY', 'strokeStyle', 'textAlign', 'textBaseline', 'lineDash', 'shadow' // 兼容支付宝小程序\n    ];\n    var CLIP_SHAPES = ['circle', 'sector', 'polygon', 'rect', 'polyline'];\n\n    var Element = /*#__PURE__*/function () {\n      var _proto = Element.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false\n        };\n      };\n\n      function Element(cfg) {\n        this._initProperties();\n\n        mix(this._attrs, cfg);\n        var attrs = this._attrs.attrs;\n\n        if (attrs) {\n          this.initAttrs(attrs);\n        }\n\n        this.initTransform();\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.isGroup = function isGroup() {\n        return this.get('isGroup');\n      };\n\n      _proto.isShape = function isShape() {\n        return this.get('isShape');\n      };\n\n      _proto.initAttrs = function initAttrs(attrs) {\n        this.attr(mix(this.getDefaultAttrs(), attrs));\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {};\n      };\n\n      _proto._setAttr = function _setAttr(name, value) {\n        var attrs = this._attrs.attrs;\n\n        if (name === 'clip') {\n          value = this._setAttrClip(value);\n        } else {\n          var alias = ALIAS_ATTRS_MAP[name];\n\n          if (alias) {\n            attrs[alias] = value;\n          }\n        }\n\n        attrs[name] = value;\n      };\n\n      _proto._getAttr = function _getAttr(name) {\n        return this._attrs.attrs[name];\n      } // _afterAttrsSet() {}\n      ;\n\n      _proto._setAttrClip = function _setAttrClip(clip) {\n        if (clip && CLIP_SHAPES.indexOf(clip._attrs.type) > -1) {\n          if (clip.get('canvas') === null) {\n            clip = Object.assign({}, clip);\n          }\n\n          clip.set('parent', this.get('parent'));\n          clip.set('context', this.get('context'));\n          return clip;\n        }\n\n        return null;\n      };\n\n      _proto.attr = function attr(name, value) {\n        var self = this;\n        if (self.get('destroyed')) return null;\n        var argumentsLen = arguments.length;\n\n        if (argumentsLen === 0) {\n          return self._attrs.attrs;\n        }\n\n        if (isObject(name)) {\n          this._attrs.bbox = null;\n\n          for (var k in name) {\n            self._setAttr(k, name[k]);\n          }\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        if (argumentsLen === 2) {\n          this._attrs.bbox = null;\n\n          self._setAttr(name, value);\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        return self._getAttr(name);\n      };\n\n      _proto.getParent = function getParent() {\n        return this.get('parent');\n      };\n\n      _proto.draw = function draw(context) {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        if (this.get('visible')) {\n          this.setContext(context);\n          this.drawInner(context);\n          this.restoreContext(context);\n        }\n      };\n\n      _proto.setContext = function setContext(context) {\n        var clip = this._attrs.attrs.clip;\n        context.save();\n\n        if (clip) {\n          clip.resetTransform(context);\n          clip.createPath(context);\n          context.clip();\n        }\n\n        this.resetContext(context);\n        this.resetTransform(context);\n      };\n\n      _proto.restoreContext = function restoreContext(context) {\n        context.restore();\n      };\n\n      _proto.resetContext = function resetContext(context) {\n        var elAttrs = this._attrs.attrs;\n\n        if (!this._attrs.isGroup) {\n          for (var k in elAttrs) {\n            if (SHAPE_ATTRS.indexOf(k) > -1) {\n              var v = elAttrs[k];\n\n              if ((k === 'fillStyle' || k === 'strokeStyle') && v) {\n                v = parseStyle(v, this, context);\n              }\n\n              if (k === 'lineDash' && context.setLineDash && isArray(v)) {\n                context.setLineDash(v);\n              } else {\n                context[k] = v;\n              }\n            }\n          }\n        }\n      };\n\n      _proto.hasFill = function hasFill() {\n        return this.get('canFill') && this._attrs.attrs.fillStyle;\n      };\n\n      _proto.hasStroke = function hasStroke() {\n        return this.get('canStroke') && this._attrs.attrs.strokeStyle;\n      };\n\n      _proto.drawInner = function drawInner()\n      /* context */\n      {};\n\n      _proto.show = function show() {\n        this.set('visible', true);\n        return this;\n      };\n\n      _proto.hide = function hide() {\n        this.set('visible', false);\n        return this;\n      };\n\n      _proto.isVisible = function isVisible() {\n        return this.get('visible');\n      };\n\n      _proto.getAriaLabel = function getAriaLabel() {\n        var _this$_attrs = this._attrs,\n            destroyed = _this$_attrs.destroyed,\n            visible = _this$_attrs.visible,\n            isShape = _this$_attrs.isShape,\n            aria = _this$_attrs.aria;\n\n        if (destroyed || !visible || isShape && !aria) {\n          return;\n        }\n\n        return this._getAriaLabel();\n      };\n\n      _proto._getAriaLabel = function _getAriaLabel() {\n        return this._attrs.ariaLabel;\n      };\n\n      _proto._removeFromParent = function _removeFromParent() {\n        var parent = this.get('parent');\n\n        if (parent) {\n          var children = parent.get('children');\n          remove(children, this);\n        }\n\n        return this;\n      };\n\n      _proto.remove = function remove(destroy) {\n        if (destroy) {\n          this.destroy();\n        } else {\n          this._removeFromParent();\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        var destroyed = this.get('destroyed');\n\n        if (destroyed) {\n          return null;\n        }\n\n        this._removeFromParent();\n\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.getBBox = function getBBox() {\n        return {\n          minX: 0,\n          maxX: 0,\n          minY: 0,\n          maxY: 0,\n          width: 0,\n          height: 0\n        };\n      };\n\n      _proto.initTransform = function initTransform() {\n        var attrs = this._attrs.attrs || {};\n\n        if (!attrs.matrix) {\n          attrs.matrix = [1, 0, 0, 1, 0, 0];\n        }\n\n        this._attrs.attrs = attrs;\n      };\n\n      _proto.getMatrix = function getMatrix() {\n        return this._attrs.attrs.matrix;\n      };\n\n      _proto.setMatrix = function setMatrix(m) {\n        this._attrs.attrs.matrix = [m[0], m[1], m[2], m[3], m[4], m[5]];\n      };\n\n      _proto.transform = function transform(actions) {\n        var matrix = this._attrs.attrs.matrix;\n        this._attrs.attrs.matrix = Matrix.transform(matrix, actions);\n        return this;\n      };\n\n      _proto.setTransform = function setTransform(actions) {\n        this._attrs.attrs.matrix = [1, 0, 0, 1, 0, 0];\n        return this.transform(actions);\n      };\n\n      _proto.translate = function translate(x, y) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.translate(matrix, matrix, [x, y]);\n      };\n\n      _proto.rotate = function rotate(rad) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.rotate(matrix, matrix, rad);\n      };\n\n      _proto.scale = function scale(sx, sy) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.scale(matrix, matrix, [sx, sy]);\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        var cx = this._attrs.x || 0;\n        var cy = this._attrs.y || 0;\n        this.translate(x - cx, y - cy);\n        this.set('x', x);\n        this.set('y', y);\n      };\n\n      _proto.apply = function apply(v) {\n        var m = this._attrs.attrs.matrix;\n        Vector2.transformMat2d(v, v, m);\n        return this;\n      };\n\n      _proto.resetTransform = function resetTransform(context) {\n        var mo = this._attrs.attrs.matrix;\n\n        if (Matrix.isChanged(mo)) {\n          context.transform(mo[0], mo[1], mo[2], mo[3], mo[4], mo[5]);\n        }\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Element;\n    }();\n\n    var Shape$2 = /*#__PURE__*/function (_Element) {\n      _inheritsLoose(Shape, _Element);\n\n      function Shape() {\n        return _Element.apply(this, arguments) || this;\n      }\n\n      var _proto = Shape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isShape: true,\n          attrs: {}\n        };\n      };\n\n      _proto.getType = function getType() {\n        return this._attrs.type;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        self.createPath(context);\n        var originOpacity = context.globalAlpha;\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n            context.fill();\n            context.globalAlpha = originOpacity;\n          } else {\n            context.fill();\n          }\n        }\n\n        if (self.hasStroke()) {\n          var lineWidth = attrs.lineWidth;\n\n          if (lineWidth > 0) {\n            var strokeOpacity = attrs.strokeOpacity;\n\n            if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n              context.globalAlpha = strokeOpacity;\n            }\n\n            context.stroke();\n          }\n        }\n      };\n\n      _proto.getBBox = function getBBox() {\n        var bbox = this._attrs.bbox;\n\n        if (!bbox) {\n          bbox = this.calculateBox();\n\n          if (bbox) {\n            bbox.x = bbox.minX;\n            bbox.y = bbox.minY;\n            bbox.width = bbox.maxX - bbox.minX;\n            bbox.height = bbox.maxY - bbox.minY;\n          }\n\n          this._attrs.bbox = bbox;\n        }\n\n        return bbox;\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        return null;\n      };\n\n      _proto.createPath = function createPath() {};\n\n      return Shape;\n    }(Element);\n\n    function parseRadius(radius, width, height) {\n      radius = parsePadding(radius); // 都为0\n\n      if (!radius[0] && !radius[1] && !radius[2] && !radius[3]) {\n        return radius;\n      }\n\n      var minWidth = Math.max(radius[0] + radius[1], radius[2] + radius[3]);\n      var minHeight = Math.max(radius[0] + radius[3], radius[1] + radius[2]);\n      var scale = Math.min(width / minWidth, height / minHeight);\n\n      if (scale < 1) {\n        return radius.map(function (r) {\n          return r * scale;\n        });\n      }\n\n      return radius;\n    }\n\n    var Rect = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Rect, _Shape);\n\n      function Rect() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'rect';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createRadiusPath = function createRadiusPath(context, x, y, width, height, radius) {\n        radius = parseRadius(radius, width, height);\n        context.moveTo(x + radius[0], y);\n        context.lineTo(x + width - radius[1], y);\n        context.arc(x + width - radius[1], y + radius[1], radius[1], -Math.PI / 2, 0, false);\n        context.lineTo(x + width, y + height - radius[2]);\n        context.arc(x + width - radius[2], y + height - radius[2], radius[2], 0, Math.PI / 2, false);\n        context.lineTo(x + radius[3], y + height);\n        context.arc(x + radius[3], y + height - radius[3], radius[3], Math.PI / 2, Math.PI, false);\n        context.lineTo(x, y + radius[0]);\n        context.arc(x + radius[0], y + radius[0], radius[0], Math.PI, Math.PI * 3 / 2, false);\n        context.closePath();\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            radius = attrs.radius;\n        context.beginPath();\n\n        if (!radius || !(width * height)) {\n          context.rect(x, y, width, height);\n        } else {\n          this.createRadiusPath(context, x, y, width, height, radius);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height;\n        return {\n          minX: x,\n          minY: y,\n          maxX: x + width,\n          maxY: y + height\n        };\n      };\n\n      return Rect;\n    }(Shape$2);\n\n    var ImageShape = /*#__PURE__*/function (_Rect) {\n      _inheritsLoose(ImageShape, _Rect);\n\n      function ImageShape() {\n        return _Rect.apply(this, arguments) || this;\n      }\n\n      var _proto = ImageShape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Rect.prototype._initProperties.call(this);\n\n        this._attrs.canFill = false;\n        this._attrs.canStroke = false;\n        this._attrs.loading = false;\n        this._attrs.image = null;\n        this._attrs.type = 'image';\n      };\n\n      _proto.createPath = function createPath(context) {\n        var _this = this;\n\n        var attrs = this.get('attrs');\n        var src = attrs.src;\n\n        if (this.get('loading')) {\n          return;\n        }\n\n        var image = this.get('image');\n\n        if (image) {\n          this.drawImage(context, image);\n        } else {\n          if (src && Image) {\n            this.set('loading', true);\n\n            var _image = new Image();\n\n            _image.src = src; // 设置跨域\n\n            _image.crossOrigin = 'Anonymous';\n\n            _image.onload = function () {\n              _this.set('loading', false);\n\n              _this.set('image', _image);\n\n              _this.drawImage(context, _image);\n            };\n          }\n        }\n      };\n\n      _proto.drawImage = function drawImage(context, image) {\n        var _this$_attrs = this._attrs,\n            attrs = _this$_attrs.attrs,\n            destroyed = _this$_attrs.destroyed;\n\n        if (destroyed) {\n          return;\n        }\n\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            sx = attrs.sx,\n            sy = attrs.sy,\n            swidth = attrs.swidth,\n            sheight = attrs.sheight,\n            radius = attrs.radius;\n\n        if (radius) {\n          context.save();\n          this.createRadiusPath(context, x, y, width, height, radius);\n          context.clip();\n        }\n\n        if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n          context.drawImage(image, sx, sy, swidth, sheight, x, y, width, height);\n        } else {\n          context.drawImage(image, x, y, width, height);\n        }\n\n        if (radius) {\n          // 因为 save 和 restore 会一定程度上影响绘图性能，所以只在必要是调用\n          context.restore();\n        }\n      };\n\n      return ImageShape;\n    }(Rect);\n\n    var Circle = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Circle, _Shape);\n\n      function Circle() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'circle';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        context.beginPath();\n        context.arc(x, y, r, 0, Math.PI * 2, false);\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        return {\n          minX: x - r,\n          maxX: x + r,\n          minY: y - r,\n          maxY: y + r\n        };\n      };\n\n      return Circle;\n    }(Shape$2);\n\n    var start = Vector2.create();\n    var end = Vector2.create();\n    var extremity = Vector2.create();\n\n    function getCubicBezierXYatT(startPt, controlPt1, controlPt2, endPt, T) {\n      var x = CubicN(T, startPt.x, controlPt1.x, controlPt2.x, endPt.x);\n      var y = CubicN(T, startPt.y, controlPt1.y, controlPt2.y, endPt.y);\n      return {\n        x: x,\n        y: y\n      };\n    } // cubic helper formula at T distance\n\n\n    function CubicN(T, a, b, c, d) {\n      var t2 = T * T;\n      var t3 = t2 * T;\n      return a + (-a * 3 + T * (3 * a - a * T)) * T + (3 * b + T * (-6 * b + b * 3 * T)) * T + (c * 3 - c * 3 * T) * t2 + d * t3;\n    }\n\n    function cubicBezierBounds(c) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n      var s = {\n        x: c[0],\n        y: c[1]\n      };\n      var c1 = {\n        x: c[2],\n        y: c[3]\n      };\n      var c2 = {\n        x: c[4],\n        y: c[5]\n      };\n      var e = {\n        x: c[6],\n        y: c[7]\n      };\n\n      for (var t = 0; t < 100; t++) {\n        var pt = getCubicBezierXYatT(s, c1, c2, e, t / 100);\n\n        if (pt.x < minX) {\n          minX = pt.x;\n        }\n\n        if (pt.x > maxX) {\n          maxX = pt.x;\n        }\n\n        if (pt.y < minY) {\n          minY = pt.y;\n        }\n\n        if (pt.y > maxY) {\n          maxY = pt.y;\n        }\n      }\n\n      return {\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY\n      };\n    }\n\n    function getBBoxFromPoints(points, lineWidth) {\n      if (points.length === 0) {\n        return;\n      }\n\n      var p = points[0];\n      var left = p.x;\n      var right = p.x;\n      var top = p.y;\n      var bottom = p.y;\n      var len = points.length;\n\n      for (var i = 1; i < len; i++) {\n        p = points[i];\n        left = Math.min(left, p.x);\n        right = Math.max(right, p.x);\n        top = Math.min(top, p.y);\n        bottom = Math.max(bottom, p.y);\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: left - lineWidth,\n        minY: top - lineWidth,\n        maxX: right + lineWidth,\n        maxY: bottom + lineWidth\n      };\n    }\n\n    function getBBoxFromLine(x0, y0, x1, y1, lineWidth) {\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: Math.min(x0, x1) - lineWidth,\n        minY: Math.min(y0, y1) - lineWidth,\n        maxX: Math.max(x0, x1) + lineWidth,\n        maxY: Math.max(y0, y1) + lineWidth\n      };\n    }\n\n    function getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise) {\n      var diff = Math.abs(startAngle - endAngle);\n\n      if (diff % (Math.PI * 2) < 1e-4 && diff > 1e-4) {\n        // Is a circle\n        return {\n          minX: x - r,\n          minY: y - r,\n          maxX: x + r,\n          maxY: y + r\n        };\n      }\n\n      start[0] = Math.cos(startAngle) * r + x;\n      start[1] = Math.sin(startAngle) * r + y;\n      end[0] = Math.cos(endAngle) * r + x;\n      end[1] = Math.sin(endAngle) * r + y;\n      var min = [0, 0];\n      var max = [0, 0];\n      Vector2.min(min, start, end);\n      Vector2.max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n      startAngle = startAngle % (Math.PI * 2);\n\n      if (startAngle < 0) {\n        startAngle = startAngle + Math.PI * 2;\n      }\n\n      endAngle = endAngle % (Math.PI * 2);\n\n      if (endAngle < 0) {\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      if (startAngle > endAngle && !anticlockwise) {\n        endAngle += Math.PI * 2;\n      } else if (startAngle < endAngle && anticlockwise) {\n        startAngle += Math.PI * 2;\n      }\n\n      if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n      }\n\n      for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n          extremity[0] = Math.cos(angle) * r + x;\n          extremity[1] = Math.sin(angle) * r + y;\n          Vector2.min(min, extremity, min);\n          Vector2.max(max, extremity, max);\n        }\n      }\n\n      return {\n        minX: min[0],\n        minY: min[1],\n        maxX: max[0],\n        maxY: max[1]\n      };\n    }\n\n    function getBBoxFromBezierGroup(points, lineWidth) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var bbox = cubicBezierBounds(points[i]);\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: minX - lineWidth,\n        minY: minY - lineWidth,\n        maxX: maxX + lineWidth,\n        maxY: maxY + lineWidth\n      };\n    }\n\n    var Line$1 = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Line, _Shape);\n\n      function Line() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.type = 'line';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2;\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2,\n            lineWidth = attrs.lineWidth;\n        return getBBoxFromLine(x1, y1, x2, y2, lineWidth);\n      };\n\n      return Line;\n    }(Shape$2);\n\n    var Polygon = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polygon, _Shape);\n\n      function Polygon() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polygon';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points;\n        context.beginPath();\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n\n          if (i === 0) {\n            context.moveTo(point.x, point.y);\n          } else {\n            context.lineTo(point.x, point.y);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points;\n        return getBBoxFromPoints(points);\n      };\n\n      return Polygon;\n    }(Shape$2);\n\n    /**\n     * @fileOverview convert the line to curve\n     * @author dxq613@gmail.com\n     */\n\n    function getPoint(v) {\n      return [v.x, v.y];\n    }\n\n    function smoothBezier(points, smooth, isLoop, constraint) {\n      var cps = [];\n      var prevPoint;\n      var nextPoint;\n      var hasConstraint = !!constraint;\n      var min;\n      var max;\n      var point;\n      var len;\n      var l;\n      var i;\n\n      if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n\n        for (i = 0, l = points.length; i < l; i++) {\n          point = getPoint(points[i]);\n          Vector2.min(min, min, point);\n          Vector2.max(max, max, point);\n        }\n\n        Vector2.min(min, min, constraint[0]);\n        Vector2.max(max, max, constraint[1]);\n      }\n\n      for (i = 0, len = points.length; i < len; i++) {\n        point = getPoint(points[i]);\n\n        if (isLoop) {\n          prevPoint = getPoint(points[i ? i - 1 : len - 1]);\n          nextPoint = getPoint(points[(i + 1) % len]);\n        } else {\n          if (i === 0 || i === len - 1) {\n            cps.push([point[0], point[1]]);\n            continue;\n          } else {\n            prevPoint = getPoint(points[i - 1]);\n            nextPoint = getPoint(points[i + 1]);\n          }\n        }\n\n        var v = Vector2.sub([], nextPoint, prevPoint);\n        Vector2.scale(v, v, smooth);\n        var d0 = Vector2.distance(point, prevPoint);\n        var d1 = Vector2.distance(point, nextPoint);\n        var sum = d0 + d1;\n\n        if (sum !== 0) {\n          d0 /= sum;\n          d1 /= sum;\n        }\n\n        var v1 = Vector2.scale([], v, -d0);\n        var v2 = Vector2.scale([], v, d1);\n        var cp0 = Vector2.add([], point, v1);\n        var cp1 = Vector2.add([], point, v2);\n\n        if (hasConstraint) {\n          Vector2.max(cp0, cp0, min);\n          Vector2.min(cp0, cp0, max);\n          Vector2.max(cp1, cp1, min);\n          Vector2.min(cp1, cp1, max);\n        }\n\n        cps.push([cp0[0], cp0[1]]);\n        cps.push([cp1[0], cp1[1]]);\n      }\n\n      if (isLoop) {\n        cps.push(cps.shift());\n      }\n\n      return cps;\n    }\n\n    function catmullRom2bezier(pointList, z, constraint) {\n      var isLoop = !!z;\n      var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n      var len = pointList.length;\n      var d1 = [];\n      var cp1;\n      var cp2;\n      var p;\n\n      for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      return d1;\n    }\n\n    function _filterPoints(points) {\n      var filteredPoints = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    var Polyline = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polyline, _Shape);\n\n      function Polyline() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polyline.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polyline';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 1,\n          smooth: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth;\n\n        var filteredPoints = _filterPoints(points);\n\n        context.beginPath();\n\n        if (filteredPoints.length) {\n          context.moveTo(filteredPoints[0].x, filteredPoints[0].y);\n\n          if (smooth) {\n            var constaint = [[0, 0], [1, 1]];\n            var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n            for (var i = 0, n = sps.length; i < n; i++) {\n              var sp = sps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n          } else {\n            var _i;\n\n            var l;\n\n            for (_i = 1, l = filteredPoints.length - 1; _i < l; _i++) {\n              context.lineTo(filteredPoints[_i].x, filteredPoints[_i].y);\n            }\n\n            context.lineTo(filteredPoints[l].x, filteredPoints[l].y);\n          }\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth,\n            lineWidth = attrs.lineWidth;\n\n        var filteredPoints = _filterPoints(points);\n\n        if (smooth) {\n          var newPoints = [];\n          var constaint = [[0, 0], [1, 1]];\n          var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n          for (var i = 0, n = sps.length; i < n; i++) {\n            var sp = sps[i];\n\n            if (i === 0) {\n              newPoints.push([filteredPoints[0].x, filteredPoints[0].y, sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            } else {\n              var lastPoint = sps[i - 1];\n              newPoints.push([lastPoint[5], lastPoint[6], sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            }\n          }\n\n          return getBBoxFromBezierGroup(newPoints, lineWidth);\n        }\n\n        return getBBoxFromPoints(filteredPoints, lineWidth);\n      };\n\n      return Polyline;\n    }(Shape$2);\n\n    var Arc = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Arc, _Shape);\n\n      function Arc() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.canFill = true;\n        this._attrs.type = 'arc';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n\n        if (startAngle !== endAngle) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        return getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n      };\n\n      return Arc;\n    }(Shape$2);\n\n    var Sector = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Sector, _Shape);\n\n      function Sector() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Sector.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'sector';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0,\n          r: 0,\n          r0: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            r = attrs.r,\n            r0 = attrs.r0,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        context.moveTo(unitX * r0 + x, unitY * r0 + y);\n        context.lineTo(unitX * r + x, unitY * r + y); // 当扇形的角度非常小的时候，就不进行弧线的绘制；或者整个只有1个扇形时，会出现end<0的情况不绘制\n\n        if (Math.abs(endAngle - startAngle) > 0.0001 || startAngle === 0 && endAngle < 0) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n          context.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n          if (r0 !== 0) {\n            context.arc(x, y, r0, endAngle, startAngle, !anticlockwise);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            r0 = attrs.r0,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        var outerBBox = getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n        var innerBBox = getBBoxFromArc(x, y, r0, startAngle, endAngle, anticlockwise);\n        return {\n          minX: Math.min(outerBBox.minX, innerBBox.minX),\n          minY: Math.min(outerBBox.minY, innerBBox.minY),\n          maxX: Math.max(outerBBox.maxX, innerBBox.maxX),\n          maxY: Math.max(outerBBox.maxY, innerBBox.maxY)\n        };\n      };\n\n      return Sector;\n    }(Shape$2);\n\n    var Rect$1 = {\n      calcRotatedBox: function calcRotatedBox(_ref) {\n        var width = _ref.width,\n            height = _ref.height,\n            rotate = _ref.rotate;\n        var absRotate = Math.abs(rotate);\n        return {\n          width: Math.abs(width * Math.cos(absRotate) + height * Math.sin(absRotate)),\n          height: Math.abs(height * Math.cos(absRotate) + width * Math.sin(absRotate))\n        };\n      }\n    };\n\n    var textWidthCacheCounter = 0;\n    var textWidthCache = {};\n    var TEXT_CACHE_MAX = 5000;\n\n    var Text = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Text, _Shape);\n\n      function Text() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'text';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          lineWidth: 0,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: 'sans-serif',\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fontVariant: 'normal',\n          textAlign: 'start',\n          textBaseline: 'bottom',\n          lineHeight: null,\n          textArr: null\n        };\n      };\n\n      _proto._getFontStyle = function _getFontStyle() {\n        var attrs = this._attrs.attrs;\n        var fontSize = attrs.fontSize,\n            fontFamily = attrs.fontFamily,\n            fontWeight = attrs.fontWeight,\n            fontStyle = attrs.fontStyle,\n            fontVariant = attrs.fontVariant;\n        return fontStyle + \" \" + fontVariant + \" \" + fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n      };\n\n      _proto._afterAttrsSet = function _afterAttrsSet() {\n        var attrs = this._attrs.attrs;\n        attrs.font = this._getFontStyle();\n\n        if (attrs.text) {\n          var text = attrs.text;\n          var textArr = null;\n          var lineCount = 1;\n\n          if (isString(text) && text.indexOf('\\n') !== -1) {\n            textArr = text.split('\\n');\n            lineCount = textArr.length;\n          }\n\n          attrs.lineCount = lineCount;\n          attrs.textArr = textArr;\n        }\n\n        this.set('attrs', attrs);\n      };\n\n      _proto._getTextHeight = function _getTextHeight() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.height) {\n          return attrs.height;\n        }\n\n        var lineCount = attrs.lineCount;\n        var fontSize = attrs.fontSize * 1;\n\n        if (lineCount > 1) {\n          var spaceingY = this._getSpaceingY();\n\n          return fontSize * lineCount + spaceingY * (lineCount - 1);\n        }\n\n        return fontSize;\n      };\n\n      _proto._getSpaceingY = function _getSpaceingY() {\n        var attrs = this._attrs.attrs;\n        var lineHeight = attrs.lineHeight;\n        var fontSize = attrs.fontSize * 1;\n        return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var text = attrs.text;\n        var x = attrs.x;\n        var y = attrs.y;\n\n        if (isNil(text) || isNaN(x) || isNaN(y)) {\n          // text will be 0\n          return;\n        }\n\n        var textArr = attrs.textArr;\n        var fontSize = attrs.fontSize * 1;\n\n        var spaceingY = self._getSpaceingY();\n\n        if (attrs.rotate) {\n          // do rotation\n          context.translate(x, y);\n          context.rotate(attrs.rotate);\n          x = 0;\n          y = 0;\n        }\n\n        var textBaseline = attrs.textBaseline;\n        var height;\n\n        if (textArr) {\n          height = self._getTextHeight();\n        }\n\n        var subY; // context.beginPath();\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n          }\n\n          if (textArr) {\n            for (var i = 0, len = textArr.length; i < len; i++) {\n              var subText = textArr[i];\n              subY = y + i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.fillText(subText, x, subY);\n            }\n          } else {\n            context.fillText(text, x, y);\n          }\n        }\n\n        if (self.hasStroke()) {\n          if (textArr) {\n            for (var _i = 0, _len = textArr.length; _i < _len; _i++) {\n              var _subText = textArr[_i];\n              subY = y + _i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.strokeText(_subText, x, subY);\n            }\n          } else {\n            context.strokeText(text, x, y);\n          }\n        }\n      };\n\n      _proto._getAriaLabel = function _getAriaLabel() {\n        return this._attrs.attrs.text;\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var x = attrs.x,\n            y = attrs.y,\n            textAlign = attrs.textAlign,\n            textBaseline = attrs.textBaseline;\n\n        var width = self._getTextWidth(); // attrs.width\n\n\n        if (!width) {\n          return {\n            minX: x,\n            minY: y,\n            maxX: x,\n            maxY: y\n          };\n        }\n\n        var height = self._getTextHeight(); // attrs.height\n\n\n        if (attrs.rotate) {\n          var rotatedBox = Rect$1.calcRotatedBox({\n            width: width,\n            height: height,\n            rotate: attrs.rotate\n          });\n          width = rotatedBox.width;\n          height = rotatedBox.height;\n        }\n\n        var point = {\n          x: x,\n          y: y - height\n        }; // default textAlign: start, textBaseline: bottom\n\n        if (textAlign) {\n          if (textAlign === 'end' || textAlign === 'right') {\n            point.x -= width;\n          } else if (textAlign === 'center') {\n            point.x -= width / 2;\n          }\n        }\n\n        if (textBaseline) {\n          if (textBaseline === 'top') {\n            point.y += height;\n          } else if (textBaseline === 'middle') {\n            point.y += height / 2;\n          }\n        }\n\n        return {\n          minX: point.x,\n          minY: point.y,\n          maxX: point.x + width,\n          maxY: point.y + height\n        };\n      };\n\n      _proto._getTextWidth = function _getTextWidth() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.width) {\n          return attrs.width;\n        }\n\n        var text = attrs.text;\n        var context = this.get('context');\n        if (isNil(text)) return undefined;\n        var font = attrs.font;\n        var textArr = attrs.textArr;\n        var key = text + '' + font;\n\n        if (textWidthCache[key]) {\n          return textWidthCache[key];\n        }\n\n        var width = 0;\n\n        if (textArr) {\n          for (var i = 0, length = textArr.length; i < length; i++) {\n            var subText = textArr[i];\n            width = Math.max(width, measureText(subText, font, context).width);\n          }\n        } else {\n          width = measureText(text, font, context).width;\n        }\n\n        if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n          textWidthCacheCounter = 0;\n          textWidthCache = {};\n        }\n\n        textWidthCacheCounter++;\n        textWidthCache[key] = width;\n        return width;\n      };\n\n      return Text;\n    }(Shape$2);\n\n    var Custom = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Custom, _Shape);\n\n      function Custom() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Custom.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.createPath = null;\n        this._attrs.type = 'custom';\n      };\n\n      _proto.createPath = function createPath(context) {\n        var createPath = this.get('createPath');\n        createPath && createPath.call(this, context);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var calculateBox = this.get('calculateBox');\n        return calculateBox && calculateBox.call(this);\n      };\n\n      return Custom;\n    }(Shape$2);\n\n    var SYMBOLS = {\n      circle: function circle(x, y, r, ctx) {\n        ctx.arc(x, y, r, 0, Math.PI * 2, false);\n      },\n      square: function square(x, y, r, ctx) {\n        ctx.moveTo(x - r, y - r);\n        ctx.lineTo(x + r, y - r);\n        ctx.lineTo(x + r, y + r);\n        ctx.lineTo(x - r, y + r);\n        ctx.closePath();\n      }\n    };\n\n    var Marker = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Marker, _Shape);\n\n      function Marker() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Marker.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'marker';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n\n        if (isFunction(symbol)) {\n          method = symbol;\n        } else {\n          method = SYMBOLS[symbol];\n        }\n\n        context.beginPath();\n        method(x, y, radius, context, this);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        return {\n          minX: x - radius,\n          minY: y - radius,\n          maxX: x + radius,\n          maxY: y + radius\n        };\n      };\n\n      return Marker;\n    }(Shape$2);\n\n    Shape$2.Rect = Rect;\n    Shape$2.Image = ImageShape;\n    Shape$2.Circle = Circle;\n    Shape$2.Line = Line$1;\n    Shape$2.Polygon = Polygon;\n    Shape$2.Polyline = Polyline;\n    Shape$2.Arc = Arc;\n    Shape$2.Sector = Sector;\n    Shape$2.Text = Text;\n    Shape$2.Custom = Custom;\n    Shape$2.Marker = Marker;\n\n    var SHAPE_MAP = {};\n    var INDEX = '_INDEX';\n\n    function getComparer(compare) {\n      return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n      };\n    }\n\n    var Container = {\n      getGroupClass: function getGroupClass() {},\n      getChildren: function getChildren() {\n        return this.get('children');\n      },\n      addShape: function addShape(type, cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var shapeType = SHAPE_MAP[type];\n\n        if (!shapeType) {\n          shapeType = upperFirst(type);\n          SHAPE_MAP[type] = shapeType;\n        }\n\n        var shape = new Shape$2[shapeType](cfg);\n        this.add(shape);\n        return shape;\n      },\n      addGroup: function addGroup(cfg) {\n        var groupClass = this.getGroupClass();\n        var rst = new groupClass(cfg);\n        this.add(rst);\n        return rst;\n      },\n      contain: function contain(item) {\n        var children = this.get('children');\n        return children.indexOf(item) > -1;\n      },\n      sort: function sort() {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child[INDEX] = i;\n        }\n\n        children.sort(getComparer(function (obj1, obj2) {\n          return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        return this;\n      },\n      drawChildren: function drawChildren(context) {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child.draw(context);\n        }\n\n        return this;\n      },\n      clear: function clear() {\n        var children = this.get('children');\n\n        while (children.length !== 0) {\n          children[children.length - 1].remove(true);\n        }\n\n        return this;\n      },\n      add: function add(items) {\n        var self = this;\n        var children = self.get('children');\n\n        if (!isArray(items)) {\n          items = [items];\n        }\n\n        for (var i = 0, len = items.length; i < len; i++) {\n          var item = items[i];\n          var parent = item.get('parent');\n\n          if (parent) {\n            var descendants = parent.get('children');\n            remove(descendants, item);\n          }\n\n          self._setEvn(item);\n\n          children.push(item);\n        }\n\n        return self;\n      },\n      _setEvn: function _setEvn(item) {\n        var self = this;\n        var _self$_attrs = self._attrs,\n            context = _self$_attrs.context,\n            canvas = _self$_attrs.canvas,\n            aria = _self$_attrs.aria;\n        var _item$_attrs = item._attrs,\n            isGroup = _item$_attrs.isGroup,\n            type = _item$_attrs.type;\n        item._attrs.parent = self;\n        item._attrs.context = context;\n        item._attrs.canvas = canvas; // 是否需要无障碍处理\n\n        if (aria && item._attrs.aria !== false) {\n          item._attrs.aria = aria;\n        }\n\n        if (type === 'text' && canvas && canvas.get('fontFamily')) {\n          item._attrs.attrs.fontFamily = item._attrs.attrs.fontFamily || canvas.get('fontFamily');\n        }\n\n        var clip = item._attrs.attrs.clip;\n\n        if (clip) {\n          clip._attrs.parent = self;\n          clip._attrs.context = context;\n          clip._attrs.canvas = canvas;\n        }\n\n        if (isGroup) {\n          var children = item._attrs.children;\n\n          for (var i = 0, len = children.length; i < len; i++) {\n            item._setEvn(children[i]);\n          }\n        }\n      },\n      _getAriaLabel: function _getAriaLabel() {\n        var _this$_attrs = this._attrs,\n            aria = _this$_attrs.aria,\n            ariaLabel = _this$_attrs.ariaLabel,\n            children = _this$_attrs.children; // 主动关闭\n\n        if (!aria) return;\n        var childAriaLabels = [];\n\n        if (children && children.length) {\n          for (var i = 0, len = children.length; i < len; i++) {\n            var _childAriaLabel = children[i].getAriaLabel();\n\n            if (_childAriaLabel) {\n              childAriaLabels.push(_childAriaLabel);\n            }\n          }\n        }\n\n        var childAriaLabel = childAriaLabels.join(' '); // 2个都有时拼接成完整句子\n\n        if (ariaLabel && childAriaLabel) {\n          return ariaLabel + \" \" + childAriaLabel + \" \";\n        } // 只有1个，或者都没有\n\n\n        return ariaLabel || childAriaLabel;\n      }\n    };\n\n    var Group = /*#__PURE__*/function (_Rect) {\n      _inheritsLoose(Group, _Rect);\n\n      function Group() {\n        return _Rect.apply(this, arguments) || this;\n      }\n\n      var _proto = Group.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          type: 'group',\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isGroup: true,\n          canFill: true,\n          canStroke: true,\n          attrs: {},\n          children: []\n        };\n      };\n\n      _proto.getBBox = function getBBox() {\n        var self = this;\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var children = self.get('children');\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n\n          if (child.get('visible')) {\n            var box = child.getBBox();\n\n            if (!box) {\n              continue;\n            }\n\n            var leftTop = [box.minX, box.minY];\n            var leftBottom = [box.minX, box.maxY];\n            var rightTop = [box.maxX, box.minY];\n            var rightBottom = [box.maxX, box.maxY];\n            var matrix = child.attr('matrix');\n            Vector2.transformMat2d(leftTop, leftTop, matrix);\n            Vector2.transformMat2d(leftBottom, leftBottom, matrix);\n            Vector2.transformMat2d(rightTop, rightTop, matrix);\n            Vector2.transformMat2d(rightBottom, rightBottom, matrix);\n            minX = Math.min(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], minX);\n            maxX = Math.max(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], maxX);\n            minY = Math.min(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], minY);\n            maxY = Math.max(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], maxY);\n          }\n        }\n\n        return {\n          minX: minX,\n          minY: minY,\n          maxX: maxX,\n          maxY: maxY,\n          x: minX,\n          y: minY,\n          width: maxX - minX,\n          height: maxY - minY\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs'); // 只有在有fillStyle或strokeStyle 时才需要绘制\n\n        if (!attrs.fillStyle && !attrs.strokeStyle) {\n          return;\n        }\n\n        _Rect.prototype.createPath.call(this, context);\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        _Rect.prototype.drawInner.call(this, context);\n\n        this.drawChildren(context);\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        this.clear();\n\n        _Rect.prototype.destroy.call(this);\n      };\n\n      return Group;\n    }(Rect);\n\n    mix(Group.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    var requestAnimationFrame = typeof window === 'object' && window.requestAnimationFrame ? window.requestAnimationFrame : function (fn) {\n      return setTimeout(fn, 16);\n    };\n\n    var Canvas = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(Canvas, _EventEmit);\n\n      var _proto = Canvas.prototype;\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      function Canvas(cfg) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        var title = cfg.title;\n        var ariaLabel = title ? substitute(lang.general.withTitle, {\n          title: title\n        }) : lang.general.title;\n        _this._attrs = mix({\n          type: 'canvas',\n          children: [],\n          ariaLabel: ariaLabel\n        }, cfg);\n\n        _this._initPixelRatio();\n\n        _this._initCanvas();\n\n        return _this;\n      }\n\n      _proto._initPixelRatio = function _initPixelRatio() {\n        var pixelRatio = this.get('pixelRatio');\n\n        if (!pixelRatio) {\n          this.set('pixelRatio', getPixelRatio());\n        }\n      };\n\n      _proto.beforeDraw = function beforeDraw() {\n        var context = this._attrs.context;\n        var el = this._attrs.el;\n        context && context.clearRect && context.clearRect(0, 0, el.width, el.height);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n        var el = self.get('el');\n        var context = self.get('context');\n\n        if (!el && !context) {\n          throw new Error('Please specify the id, el or context of the chart!');\n        }\n\n        var canvas;\n\n        if (el) {\n          // DOMElement or String\n          canvas = isString(el) ? getDomById(el) : el;\n        } else {\n          // 说明没有指定el\n          canvas = CanvasElement$1.create(context);\n        }\n\n        if (context && canvas && !canvas.getContext) {\n          canvas.getContext = function () {\n            return context;\n          };\n        }\n\n        var width = self.get('width');\n\n        if (!width) {\n          width = getWidth(canvas);\n        }\n\n        var height = self.get('height');\n\n        if (!height) {\n          height = getHeight(canvas);\n        }\n\n        self.set('canvas', this);\n        self.set('el', canvas);\n        self.set('context', context || canvas.getContext('2d'));\n        self.changeSize(width, height); // 初始化事件控制器\n\n        var eventController = new EventController({\n          canvas: this,\n          el: canvas\n        });\n        self.set('eventController', eventController);\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        var pixelRatio = this.get('pixelRatio');\n        var canvasDOM = this.get('el'); // HTMLCanvasElement or canvasElement\n        // 浏览器环境设置style样式\n\n        if (canvasDOM.style) {\n          canvasDOM.style.width = width + 'px';\n          canvasDOM.style.height = height + 'px';\n        }\n\n        if (isCanvasElement(canvasDOM)) {\n          canvasDOM.width = width * pixelRatio;\n          canvasDOM.height = height * pixelRatio;\n\n          if (pixelRatio !== 1) {\n            var ctx = this.get('context');\n            ctx.scale(pixelRatio, pixelRatio);\n          }\n        }\n\n        this.set('width', width);\n        this.set('height', height);\n      };\n\n      _proto.getWidth = function getWidth() {\n        var pixelRatio = this.get('pixelRatio');\n        var width = this.get('width');\n        return width * pixelRatio;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var pixelRatio = this.get('pixelRatio');\n        var height = this.get('height');\n        return height * pixelRatio;\n      };\n\n      _proto.getPointByClient = function getPointByClient(clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        var width = bbox.right - bbox.left;\n        var height = bbox.bottom - bbox.top;\n        return {\n          x: (clientX - bbox.left) * (el.width / width),\n          y: (clientY - bbox.top) * (el.height / height)\n        };\n      };\n\n      _proto._beginDraw = function _beginDraw() {\n        this._attrs.toDraw = true;\n      };\n\n      _proto._endDraw = function _endDraw() {\n        this._attrs.toDraw = false;\n      };\n\n      _proto.draw = function draw() {\n        var self = this;\n\n        function drawInner() {\n          self.set('animateHandler', requestAnimationFrame(function () {\n            self.set('animateHandler', undefined);\n\n            if (self.get('toDraw')) {\n              drawInner();\n            }\n          }));\n          self.beforeDraw();\n\n          try {\n            var context = self._attrs.context;\n            self.drawChildren(context); // 支付宝，微信小程序，需要调context.draw才能完成绘制， 所以这里直接判断是否有.draw方法\n\n            if (context.draw) {\n              context.draw();\n            } // 设置无障碍文本\n\n\n            self.setAriaLabel();\n          } catch (ev) {\n            console.warn('error in draw canvas, detail as:');\n            console.warn(ev);\n\n            self._endDraw();\n          }\n\n          self._endDraw();\n        }\n\n        if (self.get('destroyed')) {\n          return;\n        }\n\n        if (self.get('animateHandler')) {\n          this._beginDraw();\n        } else {\n          drawInner();\n        }\n      } // 设置无障碍文本\n      ;\n\n      _proto.setAriaLabel = function setAriaLabel() {\n        var el = this._attrs.el;\n\n        var ariaLabel = this._getAriaLabel();\n\n        if (ariaLabel && el.setAttribute) {\n          el.setAttribute('aria-label', ariaLabel);\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        } // 需要清理 canvas 画布内容，否则会导致 spa 应用 ios 下 canvas 白屏\n        // https://stackoverflow.com/questions/52532614/total-canvas-memory-use-exceeds-the-maximum-limit-safari-12\n        // https://github.com/antvis/F2/issues/630\n\n\n        var el = this.get('el');\n        el.width = 0;\n        el.height = 0;\n        this.clear();\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Canvas;\n    }(EventEmit);\n\n    mix(Canvas.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    var engines = {};\n\n    function registerEngine(name, engine) {\n      engines[name] = engine;\n    }\n\n    function getEngine(name) {\n      var G = engines[name];\n\n      if (G) {\n        return G;\n      }\n\n      return {\n        Canvas: Canvas,\n        Group: Group,\n        Shape: Shape$2\n      };\n    }\n\n    function createCanvas(cfg) {\n      var renderer = cfg.renderer;\n      var G = getEngine(renderer);\n      return new G.Canvas(cfg);\n    }\n\n    var G = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        registerEngine: registerEngine,\n        getEngine: getEngine,\n        createCanvas: createCanvas,\n        Canvas: Canvas,\n        Group: Group,\n        Shape: Shape$2,\n        Matrix: Matrix,\n        Vector2: Vector2\n    });\n\n    function getClip(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      var width = end.x - start.x;\n      var height = Math.abs(end.y - start.y);\n      var margin = 10;\n      var clip;\n\n      if (coord.isPolar) {\n        var circleRadius = coord.circleRadius,\n            center = coord.center,\n            startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        clip = new Shape$2.Sector({\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: circleRadius,\n            r0: 0,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }\n        });\n      } else {\n        clip = new Shape$2.Rect({\n          attrs: {\n            x: start.x,\n            y: end.y - margin,\n            width: width,\n            height: height + 2 * margin\n          }\n        });\n      }\n\n      clip.isClip = true;\n      return clip;\n    }\n\n    function isPointInPlot(point, plot) {\n      var x = point.x,\n          y = point.y;\n      var tl = plot.tl,\n          tr = plot.tr,\n          br = plot.br;\n      return x >= tl.x && x <= tr.x && y >= tl.y && y <= br.y;\n    }\n\n    var Helper = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getClip: getClip,\n        isPointInPlot: isPointInPlot\n    });\n\n    function compare(a, b) {\n      return a - b;\n    }\n\n    function _isScaleExist(scales, compareScale) {\n      var flag = false;\n      each(scales, function (scale) {\n        var scaleValues = [].concat(scale.values);\n        var compareScaleValues = [].concat(compareScale.values);\n\n        if (scale.type === compareScale.type && scale.field === compareScale.field && scaleValues.sort(compare).toString() === compareScaleValues.sort(compare).toString()) {\n          flag = true;\n          return;\n        }\n      });\n      return flag;\n    }\n\n    var Chart = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Chart, _Base);\n\n      Chart.initPlugins = function initPlugins() {\n        return {\n          _plugins: [],\n          _cacheId: 0,\n          register: function register(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              if (p.indexOf(plugin) === -1) {\n                p.push(plugin);\n              }\n            });\n            this._cacheId++;\n          },\n          unregister: function unregister(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              var idx = p.indexOf(plugin);\n\n              if (idx !== -1) {\n                p.splice(idx, 1);\n              }\n            });\n            this._cacheId++;\n          },\n          clear: function clear() {\n            this._plugins = [];\n            this._cacheId++;\n          },\n          count: function count() {\n            return this._plugins.length;\n          },\n          getAll: function getAll() {\n            return this._plugins;\n          },\n          notify: function notify(chart, hook, args) {\n            var descriptors = this.descriptors(chart);\n            var ilen = descriptors.length;\n            var i;\n            var descriptor;\n            var plugin;\n            var params;\n            var method;\n\n            for (i = 0; i < ilen; ++i) {\n              descriptor = descriptors[i];\n              plugin = descriptor.plugin;\n              method = plugin[hook];\n\n              if (typeof method === 'function') {\n                params = [chart].concat(args || []);\n\n                if (method.apply(plugin, params) === false) {\n                  return false;\n                }\n              }\n            }\n\n            return true;\n          },\n          descriptors: function descriptors(chart) {\n            var cache = chart._plugins || (chart._plugins = {});\n\n            if (cache.id === this._cacheId) {\n              return cache.descriptors;\n            }\n\n            var plugins = [];\n            var descriptors = [];\n\n            this._plugins.concat(chart && chart.get('plugins') || []).forEach(function (plugin) {\n              var idx = plugins.indexOf(plugin);\n\n              if (idx !== -1) {\n                return;\n              }\n\n              plugins.push(plugin);\n              descriptors.push({\n                plugin: plugin\n              });\n            });\n\n            cache.descriptors = descriptors;\n            cache.id = this._cacheId;\n            return descriptors;\n          }\n        };\n      };\n\n      var _proto = Chart.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * the id of canvas\n           * @type {String}\n           */\n          id: null,\n\n          /** 图表渲染引擎 */\n          renderer: 'canvas',\n          rendered: false,\n\n          /**\n           * padding\n           * @type {Array|Number}\n           */\n          padding: Global.padding,\n\n          /**\n           * data\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * scales of chart\n           * @type {Object}\n           */\n          scales: {},\n\n          /**\n           * @private\n           * geometry instances\n           * @type {Array}\n           */\n          geoms: [],\n\n          /**\n           * scale configuration\n           * @type {Object}\n           */\n          colDefs: null,\n          pixelRatio: Global.pixelRatio,\n\n          /**\n           * filter options\n           * @type {Object}\n           */\n          filters: null,\n          appendPadding: Global.appendPadding\n        };\n      };\n\n      _proto._syncYScales = function _syncYScales() {\n        var syncY = this.get('syncY');\n\n        if (!syncY) {\n          return;\n        }\n\n        var geoms = this.get('geoms');\n        var syncScales = [];\n        var min = [];\n        var max = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (yScale.isLinear) {\n            syncScales.push(yScale);\n            min.push(yScale.min);\n            max.push(yScale.max);\n          }\n        });\n        min = Math.min.apply(null, min);\n        max = Math.max.apply(null, max);\n        each(syncScales, function (scale) {\n          scale.change({\n            min: min\n          });\n          scale.change({\n            max: max\n          });\n        });\n      };\n\n      _proto._getFieldsForLegend = function _getFieldsForLegend() {\n        var fields = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var attrOptions = geom.get('attrOptions');\n          var attrCfg = attrOptions.color;\n\n          if (attrCfg && attrCfg.field && isString(attrCfg.field)) {\n            var arr = attrCfg.field.split('*');\n            each(arr, function (item) {\n              if (fields.indexOf(item) === -1) {\n                fields.push(item);\n              }\n            });\n          }\n        });\n        return fields;\n      };\n\n      _proto._getScaleData = function _getScaleData(field) {\n        var data = this.get('data');\n        var filteredData = this.get('filteredData');\n\n        if (filteredData.length) {\n          var legendFields = this._getFieldsForLegend();\n\n          if (legendFields.indexOf(field) === -1) {\n            data = filteredData;\n          }\n        }\n\n        return data;\n      } // _updateScales() {\n      //   const scaleController = this.get('scaleController');\n      //   scaleController.updateScales();\n      //   this._adjustScale();\n      // }\n      ;\n\n      _proto._adjustScale = function _adjustScale() {\n        var self = this;\n        var scaleController = self.get('scaleController'); // 看起来是为了让柱状图最小或最大都默认从0开始\n\n        var geoms = this.get('geoms');\n\n        for (var i = 0; i < geoms.length; i++) {\n          var geom = geoms[i];\n\n          if (geom.get('type') === 'interval') {\n            var yScale = geom.getYScale();\n            scaleController.adjustStartZero(yScale);\n          }\n        }\n      };\n\n      _proto._removeGeoms = function _removeGeoms() {\n        var geoms = this.get('geoms');\n\n        while (geoms.length > 0) {\n          var geom = geoms.shift();\n          geom.destroy();\n        }\n      };\n\n      _proto._clearGeoms = function _clearGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.clear();\n        }\n      };\n\n      _proto._clearInner = function _clearInner() {\n        this._clearGeoms();\n\n        Chart.plugins.notify(this, 'clearInner');\n        this.emit(EVENT_CLEAR_INNER);\n        this.get('axisController') && this.get('axisController').clear();\n      };\n\n      _proto._initFilteredData = function _initFilteredData() {\n        var filters = this.get('filters');\n        var data = this.get('data') || [];\n\n        if (filters) {\n          data = data.filter(function (obj) {\n            var rst = true;\n            each(filters, function (fn, k) {\n              if (fn) {\n                rst = fn(obj[k], obj);\n\n                if (!rst) {\n                  return false;\n                }\n              }\n            });\n            return rst;\n          });\n        }\n\n        this.set('filteredData', data);\n      };\n\n      _proto._changeGeomsData = function _changeGeomsData() {\n        var geoms = this.get('geoms');\n        var data = this.get('filteredData');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.changeData(data);\n        }\n      };\n\n      _proto._initGeom = function _initGeom(geom) {\n        if (geom.get('isInit')) {\n          return;\n        }\n\n        var coord = this.get('coord');\n        var data = this.get('filteredData');\n        var colDefs = this.get('colDefs');\n        var middlePlot = this.get('middlePlot');\n        geom.set('chart', this);\n        geom.set('container', middlePlot.addGroup());\n        geom.set('data', data);\n        geom.set('coord', coord);\n        geom.set('colDefs', colDefs);\n        geom.init();\n        this.emit(EVENT_AFTER_GEOM_INIT, geom);\n      };\n\n      _proto._initGeoms = function _initGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          this._initGeom(geoms[i]);\n        }\n      };\n\n      _proto._initCoord = function _initCoord() {\n        var plot = this.get('plotRange');\n        var coordCfg = mix({\n          type: 'cartesian'\n        }, this.get('coordCfg'), {\n          plot: plot\n        });\n        var type = coordCfg.type;\n        var C = Base$1[upperFirst(type)];\n        var coord = new C(coordCfg);\n        this.set('coord', coord);\n      };\n\n      _proto._initLayout = function _initLayout() {\n        var padding = this.get('_padding');\n\n        if (!padding) {\n          padding = this.get('margin') || this.get('padding');\n          padding = parsePadding(padding);\n        }\n\n        var top = padding[0] === 'auto' ? 0 : padding[0];\n        var right = padding[1] === 'auto' ? 0 : padding[1];\n        var bottom = padding[2] === 'auto' ? 0 : padding[2];\n        var left = padding[3] === 'auto' ? 0 : padding[3];\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: left,\n          y: top\n        };\n        var end = {\n          x: width - right,\n          y: height - bottom\n        };\n        var plot = this.get('plot');\n\n        if (plot) {\n          plot.reset(start, end);\n          return;\n        }\n\n        var newPlot = new Plot({\n          start: start,\n          end: end\n        });\n        this.set('plotRange', newPlot);\n        this.set('plot', newPlot);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n\n        try {\n          var canvas = createCanvas({\n            renderer: self.get('renderer'),\n            el: self.get('el') || self.get('id'),\n            context: self.get('context'),\n            pixelRatio: self.get('pixelRatio'),\n            width: self.get('width'),\n            height: self.get('height'),\n            fontFamily: Global.fontFamily,\n            aria: self.get('aria'),\n            title: self.get('title'),\n            landscape: self.get('landscape')\n          });\n          self.set('canvas', canvas);\n          self.set('el', canvas.get('el'));\n          self.set('width', canvas.get('width'));\n          self.set('height', canvas.get('height'));\n        } catch (error) {\n          throw error;\n        }\n\n        Chart.plugins.notify(self, 'afterCanvasInit');\n      };\n\n      _proto._initLayers = function _initLayers() {\n        var canvas = this.get('canvas');\n        this.set('backPlot', canvas.addGroup());\n        this.set('middlePlot', canvas.addGroup({\n          zIndex: 10\n        }));\n        this.set('frontPlot', canvas.addGroup({\n          zIndex: 20\n        }));\n      };\n\n      _proto._initEvents = function _initEvents() {\n        var _this2 = this;\n\n        // 数据更新后的一些更新\n        this.on(EVENT_AFTER_DATA_CHANGE, function () {\n          // 数据更新后，重新设置filterdata\n          _this2._initFilteredData(); // 更新geoms里的数据\n\n\n          _this2._changeGeomsData();\n        }); // 大小变化后的一些更新\n\n        this.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this2._initLayout(); // layout变化后，坐标轴也需要做相应的变化\n\n\n          var coord = _this2.get('coord');\n\n          if (coord) {\n            coord.reset(_this2.get('plot'));\n          }\n        });\n      };\n\n      _proto._initScaleController = function _initScaleController() {\n        var scaleController = new ScaleController({\n          chart: this\n        }); // 让colDefs 和 scaleController.defs 用同一个对象，这样就不用考虑同步的问题\n\n        this.set('colDefs', scaleController.defs); // 已经实例化的scales 也保持统一个对象\n\n        this.set('scales', scaleController.scales);\n        this.set('scaleController', scaleController);\n      };\n\n      _proto._clearScaleController = function _clearScaleController() {\n        var scaleController = this.get('scaleController');\n        scaleController.clear();\n      };\n\n      _proto._init = function _init() {\n        var self = this;\n\n        self._initCanvas();\n\n        self._initLayout();\n\n        self._initLayers();\n\n        self._initEvents();\n\n        self._initScaleController();\n\n        self.set('axisController', new AxisController({\n          frontPlot: self.get('frontPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          backPlot: self.get('backPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          chart: self\n        }));\n        Chart.plugins.notify(self, 'init');\n      };\n\n      function Chart(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n\n        var self = _assertThisInitialized(_this);\n\n        each(Geom, function (geomConstructor, className) {\n          var methodName = lowerFirst(className);\n\n          self[methodName] = function (cfg) {\n            var geom = new geomConstructor(cfg);\n            self.addGeom(geom);\n            return geom;\n          };\n        });\n\n        self._init();\n\n        return _this;\n      }\n\n      _proto.init = function init() {\n        // 初始filterData\n        this._initFilteredData(); // initialization coordinate instance\n\n\n        this._initCoord();\n\n        Chart.plugins.notify(this, 'beforeGeomInit'); // init all geometry instances\n\n        this._initGeoms(); // 多 Y 轴的情况时，统一 Y 轴的数值范围。\n\n\n        this._syncYScales(); // do some adjust for data\n\n\n        this._adjustScale();\n\n        this.emit(EVENT_AFTER_INIT);\n      }\n      /**\n       * set data and some scale configuration\n       * @chainable\n       * @param  {Array} data the dataset to visualize\n       * @param  {Object} colDefs the configuration for scales\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.source = function source(data, colDefs) {\n        this.set('data', data);\n\n        if (colDefs) {\n          this.scale(colDefs);\n        }\n\n        return this;\n      };\n\n      _proto.scale = function scale(field, cfg) {\n        var scaleController = this.get('scaleController');\n        scaleController.setFieldDef(field, cfg);\n        return this;\n      }\n      /**\n       * configure the axis\n       * @chainable\n       * @param  {String|Boolean} field the field name of data\n       * @param  {Object} cfg configuration for axis\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.axis = function axis(field, cfg) {\n        var axisController = this.get('axisController');\n\n        if (!field) {\n          axisController.axisCfg = null;\n        } else {\n          axisController.axisCfg = axisController.axisCfg || {};\n          axisController.axisCfg[field] = cfg;\n        }\n\n        return this;\n      }\n      /**\n       * configure the coordinate\n       * @chainable\n       * @param  {String} type set the type of coodinate\n       * @param  {Object} cfg configuration for coordinate\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.coord = function coord(type, cfg) {\n        var coordCfg;\n\n        if (isObject(type)) {\n          coordCfg = type;\n        } else {\n          coordCfg = cfg || {};\n          coordCfg.type = type || 'cartesian';\n        }\n\n        this.set('coordCfg', coordCfg);\n        return this;\n      };\n\n      _proto.filter = function filter(field, condition) {\n        var filters = this.get('filters') || {};\n        filters[field] = condition;\n        this.set('filters', filters); // 如果已经render过，则再重新触发一次change\n\n        if (this.get('rendered')) {\n          this.emit(EVENT_AFTER_DATA_CHANGE, this.get('data'));\n        }\n      }\n      /**\n       * render the chart\n       * @chainable\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.render = function render() {\n        var rendered = this.get('rendered');\n        var canvas = this.get('canvas');\n        var geoms = this.get('geoms'); // 已经渲染过\n\n        if (rendered) {\n          this._initGeoms();\n\n          this._adjustScale();\n        } else {\n          this.init();\n          this.set('rendered', true);\n        }\n\n        this.emit(EVENT_BEFORE_RENDER);\n        Chart.plugins.notify(this, 'beforeGeomDraw');\n\n        this._renderAxis();\n\n        var middlePlot = this.get('middlePlot');\n\n        if (this.get('limitInPlot') && !middlePlot.attr('clip')) {\n          var coord = this.get('coord');\n          var clip = getClip(coord);\n          clip.set('canvas', middlePlot.get('canvas'));\n          middlePlot.attr('clip', clip);\n        }\n\n        this.emit(EVENT_BEFORE_GEOM_DRAW);\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.paint();\n        }\n\n        this.emit(EVENT_AFTER_GEOM_DRAW);\n        Chart.plugins.notify(this, 'afterGeomDraw');\n        canvas.sort();\n        this.get('frontPlot').sort();\n        Chart.plugins.notify(this, 'beforeCanvasDraw');\n        canvas.draw();\n        this.emit(EVENT_AFTER_RENDER);\n        return this;\n      }\n      /**\n       * clear the chart, include geometris and all the shapes\n       * @chainable\n       * @return {Chart} return the chart\n       */\n      ;\n\n      _proto.clear = function clear() {\n        Chart.plugins.notify(this, 'clear');\n        this.emit(EVENT_CLEAR);\n\n        this._clearInner();\n\n        this._removeGeoms();\n\n        this._clearScaleController();\n\n        this.set('legendItems', null);\n        this.set('filters', null);\n        this.set('isUpdate', false);\n        this.set('_padding', null);\n        this.set('rendered', false);\n        var canvas = this.get('canvas');\n        canvas.draw();\n        return this;\n      };\n\n      _proto.repaint = function repaint() {\n        // 如果在没有render之前就repaint的，就直接return退出\n        var rendered = this.get('rendered');\n\n        if (!rendered) {\n          return;\n        }\n\n        this.set('isUpdate', true);\n        this.set('legendItems', null);\n        Chart.plugins.notify(this, 'repaint');\n\n        this._clearInner();\n\n        this.emit(EVENT_REPAINT);\n        this.render();\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.emit(EVENT_BEFORE_DATA_CHANGE, data);\n        this.set('data', data);\n        Chart.plugins.notify(this, 'changeData');\n        this.emit(EVENT_AFTER_DATA_CHANGE, data);\n        this.set('_padding', null);\n        this.repaint();\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        if (width) {\n          this.set('width', width);\n        } else {\n          width = this.get('width');\n        }\n\n        if (height) {\n          this.set('height', height);\n        } else {\n          height = this.get('height');\n        }\n\n        var canvas = this.get('canvas');\n        canvas.changeSize(width, height);\n        this.emit(EVENT_AFTER_SIZE_CHANGE, {\n          width: width,\n          height: height\n        });\n        this.repaint();\n        return this;\n      };\n\n      _proto.destroy = function destroy() {\n        this.clear();\n        var canvas = this.get('canvas');\n        canvas.destroy();\n        Chart.plugins.notify(this, 'afterCanvasDestroyed');\n\n        if (this._interactions) {\n          each(this._interactions, function (interaction) {\n            interaction.destroy();\n          });\n        }\n\n        _Base.prototype.destroy.call(this);\n      }\n      /**\n       * calculate dataset's position on canvas\n       * @param  {Object} record the dataset\n       * @return {Object} return the position\n       */\n      ;\n\n      _proto.getPosition = function getPosition(record) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var xField = xScale.field;\n        var yScales = self.getYScales(); // default first\n\n        var yScale = yScales[0];\n        var yField = yScale.field;\n\n        for (var i = 0, len = yScales.length; i < len; i++) {\n          var scale = yScales[i];\n          var field = scale.field;\n\n          if (record[field]) {\n            yScale = scale;\n            yField = field;\n            break;\n          }\n        }\n\n        var x = xScale.scale(record[xField]);\n        var y = yScale.scale(record[yField]);\n        return coord.convertPoint({\n          x: x,\n          y: y\n        });\n      }\n      /**\n       * get the data item of the point\n       * @param  {Object} point canvas position\n       * @return {Object} return the data item\n       */\n      ;\n\n      _proto.getRecord = function getRecord(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScales()[0];\n        var invertPoint = coord.invertPoint(point);\n        var record = {};\n        record[xScale.field] = xScale.invert(invertPoint.x);\n        record[yScale.field] = yScale.invert(invertPoint.y);\n        return record;\n      }\n      /**\n       * get the dataset of the point\n       * @param  {Object} point canvas position\n       * @return {Array} return the dataset\n      **/\n      ;\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var geom = this.get('geoms')[0];\n        var data = [];\n\n        if (geom) {\n          // need to judge\n          data = geom.getSnapRecords(point);\n        }\n\n        return data;\n      }\n      /**\n       * creat scale instances\n       * @param  {String} field field name of data\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.createScale = function createScale(field) {\n        var data = this._getScaleData(field);\n\n        var scaleController = this.get('scaleController');\n        return scaleController.createScale(field, data);\n      }\n      /**\n       * @protected\n       * add geometry instance to geoms\n       * @param {Geom} geom geometry instance\n       */\n      ;\n\n      _proto.addGeom = function addGeom(geom) {\n        var geoms = this.get('geoms');\n        geoms.push(geom);\n      }\n      /**\n       * get the scale of x axis\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.getXScale = function getXScale() {\n        var self = this;\n        var geoms = self.get('geoms');\n        var xScale = geoms[0].getXScale();\n        return xScale;\n      }\n      /**\n       * get the scale of y axis\n       * @return {Array} return the scale\n       */\n      ;\n\n      _proto.getYScales = function getYScales() {\n        var geoms = this.get('geoms');\n        var rst = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (rst.indexOf(yScale) === -1) {\n            rst.push(yScale);\n          }\n        });\n        return rst;\n      };\n\n      _proto.getLegendItems = function getLegendItems() {\n        if (this.get('legendItems')) {\n          return this.get('legendItems');\n        }\n\n        var legendItems = {};\n        var scales = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var colorAttr = geom.getAttr('color');\n\n          if (colorAttr) {\n            var scale = colorAttr.getScale('color'); // 只支持分类图例\n\n            if (scale.isCategory && !_isScaleExist(scales, scale)) {\n              scales.push(scale);\n              var field = scale.field;\n              var ticks = scale.getTicks();\n              var items = [];\n              each(ticks, function (tick) {\n                var text = tick.text;\n                var name = text;\n                var scaleValue = tick.value;\n                var value = scale.invert(scaleValue);\n                var color = colorAttr.mapping(value).join('') || Global.defaultColor;\n                var marker = {\n                  fill: color,\n                  radius: 3,\n                  symbol: 'circle',\n                  stroke: '#fff'\n                };\n                items.push({\n                  name: name,\n                  // for display\n                  dataValue: value,\n                  // the origin value\n                  checked: true,\n                  marker: marker\n                });\n              });\n              legendItems[field] = items;\n            }\n          }\n        });\n        this.set('legendItems', legendItems);\n        return legendItems;\n      } // register the plugins\n      ;\n\n      _proto.registerPlugins = function registerPlugins(plugins) {\n        var self = this;\n        var chartPlugins = self.get('plugins') || [];\n\n        if (!isArray(chartPlugins)) {\n          chartPlugins = [chartPlugins];\n        }\n\n        [].concat(plugins).forEach(function (plugin) {\n          if (chartPlugins.indexOf(plugin) === -1) {\n            plugin.init && plugin.init(self); // init\n\n            chartPlugins.push(plugin);\n          }\n        });\n        Chart.plugins._cacheId++;\n        self.set('plugins', chartPlugins);\n      };\n\n      _proto._renderAxis = function _renderAxis() {\n        var axisController = this.get('axisController');\n        var xScale = this.getXScale();\n        var yScales = this.getYScales();\n        var coord = this.get('coord');\n        Chart.plugins.notify(this, 'beforeRenderAxis');\n        axisController.createAxis(coord, xScale, yScales);\n      };\n\n      _proto._isAutoPadding = function _isAutoPadding() {\n        if (this.get('_padding')) {\n          return false;\n        }\n\n        var padding = this.get('padding');\n\n        if (isArray(padding)) {\n          return padding.indexOf('auto') !== -1;\n        }\n\n        return padding === 'auto';\n      };\n\n      _proto._updateLayout = function _updateLayout(padding) {\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: padding[3],\n          y: padding[0]\n        };\n        var end = {\n          x: width - padding[1],\n          y: height - padding[2]\n        };\n        var plot = this.get('plot');\n        var coord = this.get('coord');\n        plot.reset(start, end);\n        coord.reset(plot);\n      }\n      /**\n       * 是否为横屏展示\n       *\n       * @param {Boolean} landscape 是否为横屏\n       */\n      ;\n\n      _proto.landscape = function landscape(_landscape) {\n        var canvas = this.get('canvas');\n        canvas.set('landscape', _landscape);\n      };\n\n      return Chart;\n    }(Base);\n\n    Chart.plugins = Chart.initPlugins();\n\n    var track = function track() {\n      return null;\n    };\n\n    /**\n     * @fileOverview shape util\n     * @author dxq613@gmail.com\n     */\n\n    function splitPoints(obj) {\n      var points = [];\n      var x = obj.x;\n      var y = obj.y;\n      y = isArray(y) ? y : [y];\n      y.forEach(function (yItem, index) {\n        var point = {\n          x: isArray(x) ? x[index] : x,\n          y: yItem\n        };\n        points.push(point);\n      });\n      return points;\n    }\n\n    function splitArray(data, yField, connectNulls) {\n      if (!data.length) return [];\n      var arr = [];\n      var tmp = [];\n      var yValue;\n      each(data, function (obj) {\n        yValue = obj._origin ? obj._origin[yField] : obj[yField];\n\n        if (connectNulls) {\n          if (!isNil(yValue)) {\n            tmp.push(obj);\n          }\n        } else {\n          if (isArray(yValue) && isNil(yValue[0]) || isNil(yValue)) {\n            if (tmp.length) {\n              arr.push(tmp);\n              tmp = [];\n            }\n          } else {\n            tmp.push(obj);\n          }\n        }\n      });\n\n      if (tmp.length) {\n        arr.push(tmp);\n      }\n\n      return arr;\n    }\n\n    var SHAPES = ['circle', 'hollowCircle', 'rect'];\n    var Point = Shape$1.registerFactory('point', {\n      defaultShapeType: 'circle',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        return splitPoints(pointInfo);\n      }\n    });\n\n    function getPointsCfg(cfg) {\n      var style = {\n        lineWidth: 0,\n        stroke: cfg.color,\n        fill: cfg.color\n      };\n\n      if (cfg.size) {\n        style.size = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.point, style);\n    }\n\n    function drawShape(cfg, container, shape) {\n      if (cfg.size === 0) return;\n      var pointCfg = getPointsCfg(cfg);\n      var size = pointCfg.r || pointCfg.size;\n      var x = cfg.x;\n      var y = !isArray(cfg.y) ? [cfg.y] : cfg.y;\n\n      if (shape === 'hollowCircle') {\n        pointCfg.lineWidth = 1;\n        pointCfg.fill = null;\n      }\n\n      for (var i = 0, len = y.length; i < len; i++) {\n        if (shape === 'rect') {\n          return container.addShape('Rect', {\n            className: 'point',\n            attrs: mix({\n              x: x - size,\n              y: y[i] - size,\n              width: size * 2,\n              height: size * 2\n            }, pointCfg)\n          });\n        }\n\n        return container.addShape('Circle', {\n          className: 'point',\n          attrs: mix({\n            x: x,\n            y: y[i],\n            r: size\n          }, pointCfg)\n        });\n      }\n    }\n\n    each(SHAPES, function (shapeType) {\n      Shape$1.registerShape('point', shapeType, {\n        draw: function draw(cfg, container) {\n          return drawShape(cfg, container, shapeType);\n        }\n      });\n    });\n\n    var Point$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Point, _Geom);\n\n      function Point() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'point';\n        cfg.shapeType = 'point';\n        cfg.generatePoints = false;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        each(data, function (obj) {\n          var shape = obj.shape;\n          var cfg = self.getDrawCfg(obj);\n\n          if (isArray(obj.y)) {\n            var hasStack = self.hasAdjust('stack');\n            each(obj.y, function (y, idx) {\n              cfg.y = y;\n\n              if (!hasStack || idx !== 0) {\n                self.drawShape(shape, obj, cfg, container, shapeFactory);\n              }\n            });\n          } else if (!isNil(obj.y)) {\n            self.drawShape(shape, obj, cfg, container, shapeFactory);\n          }\n        });\n      };\n\n      return Point;\n    }(Geom);\n\n    Geom.Point = Point$1;\n\n    var Line$2 = Shape$1.registerFactory('line', {\n      defaultShapeType: 'line'\n    });\n\n    function getStyle$1(cfg) {\n      var style = {\n        strokeStyle: cfg.color\n      };\n\n      if (cfg.size >= 0) {\n        style.lineWidth = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.line, style);\n    }\n\n    function drawLines(cfg, container, style, smooth) {\n      var points = cfg.points;\n\n      if (points.length && isArray(points[0].y)) {\n        var topPoints = [];\n        var bottomPoints = [];\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n          var tmp = splitPoints(point);\n          bottomPoints.push(tmp[0]);\n          topPoints.push(tmp[1]);\n        }\n\n        if (cfg.isInCircle) {\n          topPoints.push(topPoints[0]);\n          bottomPoints.push(bottomPoints[0]);\n        }\n\n        if (cfg.isStack) {\n          return container.addShape('Polyline', {\n            className: 'line',\n            attrs: mix({\n              points: topPoints,\n              smooth: smooth\n            }, style)\n          });\n        }\n\n        var topShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: topPoints,\n            smooth: smooth\n          }, style)\n        });\n        var bottomShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: bottomPoints,\n            smooth: smooth\n          }, style)\n        });\n        return [topShape, bottomShape];\n      }\n\n      if (cfg.isInCircle) {\n        points.push(points[0]);\n      }\n\n      return container.addShape('Polyline', {\n        className: 'line',\n        attrs: mix({\n          points: points,\n          smooth: smooth\n        }, style)\n      });\n    }\n\n    var SHAPES$1 = ['line', 'smooth', 'dash'];\n    each(SHAPES$1, function (shapeType) {\n      Shape$1.registerShape('line', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          var style = getStyle$1(cfg);\n\n          if (shapeType === 'dash') {\n            style.lineDash = Global.lineDash;\n          }\n\n          return drawLines(cfg, container, style, smooth);\n        }\n      });\n    });\n\n    var Path = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Path, _Geom);\n\n      function Path() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Path.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'path';\n        cfg.shapeType = 'line';\n        return cfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var cfg = _Geom.prototype.getDrawCfg.call(this, obj);\n\n        cfg.isStack = this.hasAdjust('stack');\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayObj = splitArray(data, yScale.field, connectNulls);\n        var cfg = this.getDrawCfg(data[0]);\n        cfg.origin = data;\n        each(splitArrayObj, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          cfg.points = subData;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Path;\n    }(Geom);\n\n    Geom.Path = Path;\n\n    var Line$3 = /*#__PURE__*/function (_Path) {\n      _inheritsLoose(Line, _Path);\n\n      function Line() {\n        return _Path.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Path.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'line';\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      return Line;\n    }(Path);\n\n    Geom.Line = Line$3;\n\n    function equals(v1, v2) {\n      return Math.abs(v1 - v2) < 0.00001;\n    }\n\n    function notEmpty(value) {\n      return !isNaN(value) && !isNil(value);\n    }\n\n    function filterPoints(points) {\n      var filteredPoints = []; // filter the point which x or y is NaN\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (notEmpty(point.x) && notEmpty(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    function equalsCenter(points, center) {\n      var eqls = true;\n      each(points, function (point) {\n        if (!equals(point.x, center.x) || !equals(point.y, center.y)) {\n          eqls = false;\n          return false;\n        }\n      });\n      return eqls;\n    }\n\n    function drawRectShape(topPoints, bottomPoints, container, style, isSmooth) {\n      var shape;\n      var points = topPoints.concat(bottomPoints);\n\n      if (isSmooth) {\n        shape = container.addShape('Custom', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style),\n          createPath: function createPath(context) {\n            var constaint = [[0, 0], [1, 1]];\n            var points = filterPoints(this._attrs.attrs.points);\n            var pointsLen = points.length;\n            var topPoints = points.slice(0, pointsLen / 2);\n            var bottomPoints = points.slice(pointsLen / 2, pointsLen);\n            var topSps = catmullRom2bezier(topPoints, false, constaint);\n            context.beginPath();\n            context.moveTo(topPoints[0].x, topPoints[0].y);\n\n            for (var i = 0, n = topSps.length; i < n; i++) {\n              var sp = topSps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n\n            if (bottomPoints.length) {\n              var bottomSps = catmullRom2bezier(bottomPoints, false, constaint);\n              context.lineTo(bottomPoints[0].x, bottomPoints[0].y);\n\n              for (var _i = 0, _n = bottomSps.length; _i < _n; _i++) {\n                var _sp = bottomSps[_i];\n                context.bezierCurveTo(_sp[1], _sp[2], _sp[3], _sp[4], _sp[5], _sp[6]);\n              }\n            }\n\n            context.closePath();\n          },\n          calculateBox: function calculateBox() {\n            var points = filterPoints(this._attrs.attrs.points);\n            return getBBoxFromPoints(points);\n          }\n        });\n      } else {\n        shape = container.addShape('Polyline', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style)\n        });\n      }\n\n      return shape;\n    }\n\n    function drawShape$1(cfg, container, isSmooth) {\n      var self = this;\n      var points = cfg.points;\n      var topPoints = [];\n      var bottomPoints = [];\n      each(points, function (point) {\n        bottomPoints.push(point[0]);\n        topPoints.push(point[1]);\n      });\n      var style = mix({\n        fillStyle: cfg.color\n      }, Global.shape.area, cfg.style);\n      bottomPoints.reverse();\n      topPoints = self.parsePoints(topPoints);\n      bottomPoints = self.parsePoints(bottomPoints);\n\n      if (cfg.isInCircle) {\n        topPoints.push(topPoints[0]);\n        bottomPoints.unshift(bottomPoints[bottomPoints.length - 1]);\n\n        if (equalsCenter(bottomPoints, cfg.center)) {\n          bottomPoints = [];\n        }\n      }\n\n      return drawRectShape(topPoints, bottomPoints, container, style, isSmooth);\n    }\n\n    var Area = Shape$1.registerFactory('area', {\n      defaultShapeType: 'area',\n      getDefaultPoints: function getDefaultPoints(obj) {\n        var x = obj.x;\n        var y = obj.y;\n        var y0 = obj.y0;\n        y = isArray(y) ? y : [y0, y];\n        var points = [];\n        points.push({\n          x: x,\n          y: y[0]\n        }, {\n          x: x,\n          y: y[1]\n        });\n        return points;\n      }\n    });\n    var SHAPES$2 = ['area', 'smooth'];\n    each(SHAPES$2, function (shapeType) {\n      Shape$1.registerShape('area', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          return drawShape$1.call(this, cfg, container, smooth);\n        }\n      });\n    });\n\n    var Area$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Area, _Geom);\n\n      function Area() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Area.prototype;\n\n      /**\n       * get the default configuration\n       * @protected\n       * @return {Object} return the result\n       */\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'area';\n        cfg.shapeType = 'area';\n        cfg.generatePoints = true;\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var cfg = this.getDrawCfg(data[0]);\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayfn = splitArray(data, yScale.field, connectNulls);\n        cfg.origin = data;\n        each(splitArrayfn, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          var points = subData.map(function (obj) {\n            return obj.points;\n          });\n          cfg.points = points;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Area;\n    }(Geom);\n\n    Geom.Area = Area$1;\n\n    /**\n     * @fileOverview Utility for calculate the with ratui in x axis\n     * @author sima.zhang1990@gmail.com\n     * @author dxq613@gmail.com\n     */\n    var SizeMixin = {\n      initEvent: function initEvent() {\n        var _this = this;\n\n        var chart = this.get('chart');\n\n        if (!chart) {\n          return;\n        }\n\n        chart.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this.set('_width', null);\n        });\n      },\n      getDefaultSize: function getDefaultSize() {\n        var defaultSize = this.get('defaultSize');\n\n        if (!defaultSize) {\n          var coord = this.get('coord');\n          var xScale = this.getXScale();\n          var dataArray = this.get('dataArray');\n          var values = uniq(xScale.values);\n          var count = values.length;\n          var range = xScale.range;\n          var normalizeSize = 1 / count;\n          var widthRatio = 1;\n\n          if (coord && coord.isPolar) {\n            if (coord.transposed && count > 1) {\n              widthRatio = Global.widthRatio.multiplePie;\n            } else {\n              widthRatio = Global.widthRatio.rose;\n            }\n          } else {\n            if (xScale.isLinear) {\n              normalizeSize *= range[1] - range[0];\n            }\n\n            widthRatio = Global.widthRatio.column;\n          }\n\n          normalizeSize *= widthRatio;\n\n          if (this.hasAdjust('dodge')) {\n            normalizeSize = normalizeSize / dataArray.length;\n          }\n\n          defaultSize = normalizeSize;\n          this.set('defaultSize', defaultSize);\n        }\n\n        return defaultSize;\n      },\n      getDimWidth: function getDimWidth(dimName) {\n        var coord = this.get('coord');\n        var start = coord.convertPoint({\n          x: 0,\n          y: 0\n        });\n        var end = coord.convertPoint({\n          x: dimName === 'x' ? 1 : 0,\n          y: dimName === 'x' ? 0 : 1\n        });\n        var width = 0;\n\n        if (start && end) {\n          width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n        }\n\n        return width;\n      },\n      _getWidth: function _getWidth() {\n        var width = this.get('_width');\n\n        if (!width) {\n          var coord = this.get('coord');\n\n          if (coord && coord.isPolar && !coord.transposed) {\n            width = (coord.endAngle - coord.startAngle) * coord.circleRadius;\n          } else {\n            width = this.getDimWidth('x');\n          }\n\n          this.set('_width', width);\n        }\n\n        return width;\n      },\n      _toNormalizedSize: function _toNormalizedSize(size) {\n        var width = this._getWidth();\n\n        return size / width;\n      },\n      _toCoordSize: function _toCoordSize(normalizeSize) {\n        var width = this._getWidth();\n\n        return width * normalizeSize;\n      },\n      getNormalizedSize: function getNormalizedSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          size = this.getDefaultSize();\n        } else {\n          size = this._toNormalizedSize(size);\n        }\n\n        return size;\n      },\n      getSize: function getSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          var normalizeSize = this.getDefaultSize();\n          size = this._toCoordSize(normalizeSize);\n        }\n\n        return size;\n      }\n    };\n\n    function getRectPoints(cfg) {\n      var x = cfg.x,\n          y = cfg.y,\n          y0 = cfg.y0,\n          size = cfg.size;\n      var ymin = y0;\n      var ymax = y;\n\n      if (isArray(y)) {\n        ymax = y[1];\n        ymin = y[0];\n      }\n\n      var xmin;\n      var xmax;\n\n      if (isArray(x)) {\n        xmin = x[0];\n        xmax = x[1];\n      } else {\n        xmin = x - size / 2;\n        xmax = x + size / 2;\n      }\n\n      return [{\n        x: xmin,\n        y: ymin\n      }, {\n        x: xmin,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymin\n      }];\n    }\n\n    function getRectRange(points) {\n      var xValues = [];\n      var yValues = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        xValues.push(point.x);\n        yValues.push(point.y);\n      }\n\n      var xMin = Math.min.apply(null, xValues);\n      var yMin = Math.min.apply(null, yValues);\n      var xMax = Math.max.apply(null, xValues);\n      var yMax = Math.max.apply(null, yValues);\n      return {\n        x: xMin,\n        y: yMin,\n        width: xMax - xMin,\n        height: yMax - yMin\n      };\n    }\n\n    function getMiddlePoint(a, b) {\n      var x = (a.x - b.x) / 2 + b.x;\n      var y = (a.y - b.y) / 2 + b.y;\n      return {\n        x: x,\n        y: y\n      };\n    }\n\n    var Interval = Shape$1.registerFactory('interval', {\n      defaultShapeType: 'rect',\n      getDefaultPoints: function getDefaultPoints(cfg) {\n        return getRectPoints(cfg);\n      }\n    });\n    Shape$1.registerShape('interval', 'rect', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color\n        }, Global.shape.interval, cfg.style);\n\n        if (cfg.isInCircle) {\n          var newPoints = points.slice(0);\n\n          if (this._coord.transposed) {\n            newPoints = [points[0], points[3], points[2], points[1]];\n          }\n\n          var _cfg$center = cfg.center,\n              x = _cfg$center.x,\n              y = _cfg$center.y;\n          var v = [1, 0];\n          var v0 = [newPoints[0].x - x, newPoints[0].y - y];\n          var v1 = [newPoints[1].x - x, newPoints[1].y - y];\n          var v2 = [newPoints[2].x - x, newPoints[2].y - y];\n          var startAngle = Vector2.angleTo(v, v1);\n          var endAngle = Vector2.angleTo(v, v2);\n          var r0 = Vector2.length(v0);\n          var r = Vector2.length(v1);\n\n          if (startAngle >= 1.5 * Math.PI) {\n            startAngle = startAngle - 2 * Math.PI;\n          }\n\n          if (endAngle >= 1.5 * Math.PI) {\n            endAngle = endAngle - 2 * Math.PI;\n          }\n\n          return container.addShape('Sector', {\n            className: 'interval',\n            attrs: mix({\n              x: x,\n              y: y,\n              r: r,\n              r0: r0,\n              startAngle: startAngle,\n              endAngle: endAngle\n            }, style)\n          });\n        }\n\n        var rectCfg = getRectRange(points);\n        return container.addShape('rect', {\n          className: 'interval',\n          attrs: mix(rectCfg, style)\n        });\n      }\n    }); // 金字塔 和 漏斗图\n\n    ['pyramid', 'funnel'].forEach(function (shapeType) {\n      Shape$1.registerShape('interval', shapeType, {\n        getPoints: function getPoints(cfg) {\n          cfg.size = cfg.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n          return getRectPoints(cfg);\n        },\n        draw: function draw(cfg, container) {\n          var points = this.parsePoints(cfg.points);\n          var nextPoints = this.parsePoints(cfg.nextPoints);\n          var polygonPoints = null;\n\n          if (nextPoints) {\n            polygonPoints = [points[0], points[1], nextPoints[1], nextPoints[0]];\n          } else {\n            polygonPoints = [points[0], points[1]]; // pyramid 顶部是三角形，所以取中心点就好了，funnel顶部是长方形\n\n            if (shapeType === 'pyramid') {\n              polygonPoints.push(getMiddlePoint(points[2], points[3]));\n            } else {\n              polygonPoints.push(points[2], points[3]);\n            }\n          }\n\n          var attrs = mix({\n            fill: cfg.color,\n            points: polygonPoints\n          }, Global.shape.interval, cfg.style);\n          return container.addShape('polygon', {\n            className: 'interval',\n            attrs: attrs\n          });\n        }\n      });\n    });\n\n    var Interval$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Interval, _Geom);\n\n      var _proto = Interval.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'interval';\n        cfg.shapeType = 'interval';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Interval(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Interval;\n    }(Geom);\n\n    Geom.Interval = Interval$1;\n\n    var Polygon$1 = Shape$1.registerFactory('polygon', {\n      defaultShapeType: 'polygon',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        var points = [];\n        var x = pointInfo.x,\n            y = pointInfo.y;\n\n        for (var i = 0, len = x.length; i < len; i++) {\n          points.push({\n            x: x[i],\n            y: y[i]\n          });\n        }\n\n        return points;\n      }\n    });\n    Shape$1.registerShape('polygon', 'polygon', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color,\n          points: points\n        }, cfg.style);\n        return container.addShape('Polygon', {\n          className: 'polygon',\n          attrs: style\n        });\n      }\n    });\n\n    var Polygon$2 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Polygon, _Geom);\n\n      function Polygon() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'polygon';\n        cfg.shapeType = 'polygon';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        var self = this;\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n\n        if (!(isArray(x) && isArray(y))) {\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var xCount = xScale.values ? xScale.values.length : xScale.ticks.length;\n          var yCount = yScale.values ? yScale.values.length : yScale.ticks.length;\n          var xOffset = 0.5 * 1 / xCount;\n          var yOffset = 0.5 * 1 / yCount;\n\n          if (xScale.isCategory && yScale.isCategory) {\n            x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n            y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n          } else if (isArray(x)) {\n            temp = x;\n            x = [temp[0], temp[0], temp[1], temp[1]];\n            y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n          } else if (isArray(y)) {\n            temp = y;\n            y = [temp[0], temp[1], temp[1], temp[0]];\n            x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n          }\n\n          cfg.x = x;\n          cfg.y = y;\n        }\n\n        return cfg;\n      };\n\n      return Polygon;\n    }(Geom);\n\n    Geom.Polygon = Polygon$2;\n\n    function _sortValue(value) {\n      var sorted = value.sort(function (a, b) {\n        return a < b ? 1 : -1;\n      });\n      var length = sorted.length;\n\n      if (length < 4) {\n        var min = sorted[length - 1];\n\n        for (var i = 0; i < 4 - length; i++) {\n          sorted.push(min);\n        }\n      }\n\n      return sorted;\n    } // from left bottom corner, and clockwise\n\n\n    function getCandlePoints(x, y, width) {\n      var yValues = _sortValue(y);\n\n      var points = [{\n        x: x,\n        y: yValues[0]\n      }, {\n        x: x,\n        y: yValues[1]\n      }, {\n        x: x - width / 2,\n        y: yValues[2]\n      }, {\n        x: x - width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[3]\n      }];\n      return points;\n    }\n\n    var Schema = Shape$1.registerFactory('schema', {});\n    Shape$1.registerShape('schema', 'candle', {\n      getPoints: function getPoints(cfg) {\n        return getCandlePoints(cfg.x, cfg.y, cfg.size);\n      },\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          stroke: cfg.color,\n          fill: cfg.color,\n          lineWidth: 1\n        }, cfg.style);\n        return container.addShape('Custom', {\n          className: 'schema',\n          attrs: style,\n          createPath: function createPath(ctx) {\n            ctx.beginPath();\n            ctx.moveTo(points[0].x, points[0].y);\n            ctx.lineTo(points[1].x, points[1].y);\n            ctx.moveTo(points[2].x, points[2].y);\n\n            for (var i = 3; i < 6; i++) {\n              ctx.lineTo(points[i].x, points[i].y);\n            }\n\n            ctx.closePath();\n            ctx.moveTo(points[6].x, points[6].y);\n            ctx.lineTo(points[7].x, points[7].y);\n          }\n        });\n      }\n    });\n\n    var Schema$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Schema, _Geom);\n\n      var _proto = Schema.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'schema';\n        cfg.shapeType = 'schema';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Schema(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Schema;\n    }(Geom);\n\n    Geom.Schema = Schema$1;\n\n    var toString$3 = {}.toString;\n\n    var isType$1 = function isType(value, type) {\n      return toString$3.call(value) === '[object ' + type + ']';\n    };\n\n    var isType_1 = isType$1;\n\n    var isArray$1 = Array.isArray ? Array.isArray : function (value) {\n      return isType_1(value, 'Array');\n    };\n    var isArray_1 = isArray$1;\n\n    // isFinite,\n    var isNil$1 = function isNil(value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isNil_1 = isNil$1;\n\n    function _inheritsLoose$1(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var Stack = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$1(Stack, _Adjust);\n\n      function Stack() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Stack.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        this.processStack(dataArray);\n      };\n\n      _proto.processStack = function processStack(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n        var count = dataArray.length;\n        var stackCache = {\n          positive: {},\n          negative: {}\n        }; // 层叠顺序翻转\n\n        if (self.reverseOrder) {\n          dataArray = dataArray.slice(0).reverse();\n        }\n\n        for (var i = 0; i < count; i++) {\n          var data = dataArray[i];\n\n          for (var j = 0, len = data.length; j < len; j++) {\n            var item = data[j];\n            var x = item[xField] || 0;\n            var y = item[yField];\n            var xkey = x.toString();\n            y = isArray_1(y) ? y[1] : y;\n\n            if (!isNil_1(y)) {\n              var direction = y >= 0 ? 'positive' : 'negative';\n\n              if (!stackCache[direction][xkey]) {\n                stackCache[direction][xkey] = 0;\n              }\n\n              item[yField] = [stackCache[direction][xkey], y + stackCache[direction][xkey]];\n              stackCache[direction][xkey] += y;\n            }\n          }\n        }\n      };\n\n      return Stack;\n    }(base);\n\n    base.Stack = Stack;\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    var isObject$1 = function isObject(value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n      return value !== null && type === 'object' || type === 'function';\n    };\n\n    var isObject_1 = isObject$1;\n\n    var each$1 = function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst = void 0;\n\n      if (isArray_1(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject_1(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    };\n\n    var each_1 = each$1;\n\n    function _inheritsLoose$2(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var MARGIN_RATIO = 1 / 2;\n    var DODGE_RATIO = 1 / 2;\n\n    var Dodge = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$2(Dodge, _Adjust);\n\n      function Dodge() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Dodge.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * 调整过程中,2个数据的间距\n         * @type {Number}\n         */\n        this.marginRatio = MARGIN_RATIO;\n        /**\n         * 调整占单位宽度的比例,例如：占2个分类间距的 1/2\n         * @type {Number}\n         */\n\n        this.dodgeRatio = DODGE_RATIO;\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      _proto.getDodgeOffset = function getDodgeOffset(range, index, count) {\n        var self = this;\n        var pre = range.pre;\n        var next = range.next;\n        var tickLength = next - pre;\n        var width = tickLength * self.dodgeRatio / count;\n        var margin = self.marginRatio * width;\n        var offset = 1 / 2 * (tickLength - count * width - (count - 1) * margin) + ((index + 1) * width + index * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n        return (pre + next) / 2 + offset;\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var count = dataArray.length;\n        var xField = self.xField;\n        each_1(dataArray, function (data, index) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var value = obj[xField];\n            var range = {\n              pre: len === 1 ? value - 1 : value - 0.5,\n              next: len === 1 ? value + 1 : value + 0.5\n            };\n            var dodgeValue = self.getDodgeOffset(range, index, count);\n            obj[xField] = dodgeValue;\n          }\n        });\n      };\n\n      return Dodge;\n    }(base);\n\n    base.Dodge = Dodge;\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n\n    var isFunction$1 = function isFunction(value) {\n      return isType_1(value, 'Function');\n    };\n\n    var isFunction_1 = isFunction$1;\n\n    /**\n     * @param {Array} arr The array to iterate over.\n     * @param {Function} [fn] The iteratee invoked per element.\n     * @return {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n\n    var maxBy = function maxBy(arr, fn) {\n      if (!isArray_1(arr)) {\n        return undefined;\n      }\n\n      var max = arr[0];\n      var maxData = void 0;\n\n      if (isFunction_1(fn)) {\n        maxData = fn(arr[0]);\n      } else {\n        maxData = arr[0][fn];\n      }\n\n      var data = void 0;\n      each_1(arr, function (val) {\n        if (isFunction_1(fn)) {\n          data = fn(val);\n        } else {\n          data = val[fn];\n        }\n\n        if (data > maxData) {\n          max = val;\n          maxData = data;\n        }\n      });\n      return max;\n    };\n\n    var maxBy_1 = maxBy;\n\n    var merge$1 = function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0; i < dataArray.length; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    };\n\n    var merge_1 = merge$1;\n\n    function _inheritsLoose$3(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var ArrayUtil = {\n      merge: merge_1\n    };\n\n    var Symmetric = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$3(Symmetric, _Adjust);\n\n      function Symmetric() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Symmetric.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n\n        this.cacheMax = null; // 缓存的最大值\n\n        this.adjustNames = ['y']; // Only support stack y\n\n        this.groupFields = null; // 参与分组的数据维度\n      }; // 获取最大的y值\n\n\n      _proto._getMax = function _getMax(dim) {\n        var self = this;\n        var mergeData = self.mergeData;\n        var maxRecord = maxBy_1(mergeData, function (obj) {\n          var value = obj[dim];\n\n          if (isArray_1(value)) {\n            return Math.max.apply(null, value);\n          }\n\n          return value;\n        });\n        var maxValue = maxRecord[dim];\n        var max = isArray_1(maxValue) ? Math.max.apply(null, maxValue) : maxValue;\n        return max;\n      }; // 获取每个字段最大的值\n\n\n      _proto._getXValuesMax = function _getXValuesMax() {\n        var self = this;\n        var yField = self.yField;\n        var xField = self.xField;\n        var cache = {};\n        var mergeData = self.mergeData;\n        each_1(mergeData, function (obj) {\n          var xValue = obj[xField];\n          var yValue = obj[yField];\n          var max = isArray_1(yValue) ? Math.max.apply(null, yValue) : yValue;\n          cache[xValue] = cache[xValue] || 0;\n\n          if (cache[xValue] < max) {\n            cache[xValue] = max;\n          }\n        });\n        return cache;\n      }; // 入口函数\n\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var mergeData = ArrayUtil.merge(dataArray);\n        self.mergeData = mergeData;\n\n        self._processSymmetric(dataArray);\n\n        self.mergeData = null;\n      }; // 处理对称\n\n\n      _proto._processSymmetric = function _processSymmetric(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n\n        var max = self._getMax(yField);\n\n        var first = dataArray[0][0];\n        var cache;\n\n        if (first && isArray_1(first[yField])) {\n          cache = self._getXValuesMax();\n        }\n\n        each_1(dataArray, function (data) {\n          each_1(data, function (obj) {\n            var value = obj[yField];\n            var offset;\n\n            if (isArray_1(value)) {\n              var xValue = obj[xField];\n              var valueMax = cache[xValue];\n              offset = (max - valueMax) / 2;\n              var tmp = [];\n              /* eslint-disable no-loop-func */\n\n              each_1(value, function (subVal) {\n                // 多个字段\n                tmp.push(offset + subVal);\n              });\n              /* eslint-enable no-loop-func */\n\n              obj[yField] = tmp;\n            } else {\n              offset = (max - value) / 2;\n              obj[yField] = [offset, value + offset];\n            }\n          });\n        });\n      };\n\n      return Symmetric;\n    }(base);\n\n    base.Symmetric = Symmetric;\n\n    var Polar = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Polar, _Base);\n\n      function Polar() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Polar.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'polar';\n        this.startAngle = -Math.PI / 2;\n        this.endAngle = Math.PI * 3 / 2;\n        this.inner = 0;\n        this.innerRadius = 0; // alias\n\n        this.isPolar = true;\n        this.transposed = false;\n        this.center = null;\n        this.radius = null; // relative, 0 ~ 1\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        var self = this;\n        var inner = self.inner || self.innerRadius;\n        var width = Math.abs(end.x - start.x);\n        var height = Math.abs(end.y - start.y);\n        var maxRadius;\n        var center;\n\n        if (self.startAngle === -Math.PI && self.endAngle === 0) {\n          maxRadius = Math.min(width / 2, height);\n          center = {\n            x: (start.x + end.x) / 2,\n            y: start.y\n          };\n        } else {\n          maxRadius = Math.min(width, height) / 2;\n          center = {\n            x: (start.x + end.x) / 2,\n            y: (start.y + end.y) / 2\n          };\n        }\n\n        var radius = self.radius;\n\n        if (radius > 0 && radius <= 1) {\n          maxRadius = maxRadius * radius;\n        }\n\n        this.x = {\n          start: self.startAngle,\n          end: self.endAngle\n        };\n        this.y = {\n          start: maxRadius * inner,\n          end: maxRadius\n        };\n        this.center = center;\n        this.circleRadius = maxRadius; // the radius value in px\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var center = self.center;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var angle = x.start + (x.end - x.start) * point[xDim];\n        var radius = y.start + (y.end - y.start) * point[yDim];\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var center = self.center,\n            transposed = self.transposed,\n            x = self.x,\n            y = self.y;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var m = [1, 0, 0, 1, 0, 0];\n        Matrix.rotate(m, m, x.start);\n        var startV = [1, 0];\n        Vector2.transformMat2d(startV, startV, m);\n        startV = [startV[0], startV[1]];\n        var pointV = [point.x - center.x, point.y - center.y];\n\n        if (Vector2.zero(pointV)) {\n          return {\n            x: 0,\n            y: 0\n          };\n        }\n\n        var theta = Vector2.angleTo(startV, pointV, x.end < x.start);\n\n        if (Math.abs(theta - Math.PI * 2) < 0.001) {\n          theta = 0;\n        }\n\n        var l = Vector2.length(pointV);\n        var percentX = theta / (x.end - x.start);\n        percentX = x.end - x.start > 0 ? percentX : -percentX;\n        var percentY = (l - y.start) / (y.end - y.start);\n        var rst = {};\n        rst[xDim] = percentX;\n        rst[yDim] = percentY;\n        return rst;\n      };\n\n      return Polar;\n    }(Base$1);\n\n    Base$1.Polar = Polar;\n\n    var Circle$1 = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Circle, _Abstract);\n\n      function Circle() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.startAngle = -Math.PI / 2; // start angle，in radian\n\n        this.endAngle = Math.PI * 3 / 2; // end angle, in radian\n\n        this.radius = null; // radius\n\n        this.center = null; // center\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return this._getCirclePoint(angle);\n      };\n\n      _proto._getCirclePoint = function _getCirclePoint(angle, radius) {\n        var self = this;\n        var center = self.center;\n        radius = radius || self.radius;\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine = 'middle';\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n\n          if (offsetVector[1] > 0) {\n            baseLine = 'top';\n          } else if (offsetVector[1] < 0) {\n            baseLine = 'bottom';\n          }\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector(point) {\n        var center = this.center;\n        var factor = this.offsetFactor;\n        return [(point.y - center.y) * factor, (point.x - center.x) * -1 * factor];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var center = this.center,\n            radius = this.radius,\n            startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var container = this.getContainer(lineCfg.top);\n        container.addShape('arc', {\n          className: 'axis-line',\n          attrs: mix({\n            x: center.x,\n            y: center.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, lineCfg)\n        });\n      };\n\n      return Circle;\n    }(Abastract);\n\n    Abastract.Circle = Circle$1;\n\n    var KEYWORDS_PERCENT = {\n      min: 0,\n      median: 0.5,\n      max: 1\n    };\n\n    var GuideBase = /*#__PURE__*/function () {\n      var _proto = GuideBase.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function GuideBase(cfg) {\n        this._initDefaultCfg();\n\n        deepMix(this, cfg);\n      }\n\n      _proto._getNormalizedValue = function _getNormalizedValue(val, scale) {\n        var rst;\n\n        if (isNil(KEYWORDS_PERCENT[val])) {\n          rst = scale.scale(val);\n        } else {\n          rst = KEYWORDS_PERCENT[val];\n        }\n\n        return rst;\n      };\n\n      _proto.parsePercentPoint = function parsePercentPoint(coord, position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var start = coord.start;\n        var end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n        var x = width * xPercent + Math.min(start.x, end.x);\n        var y = height * yPercent + Math.min(start.y, end.y);\n        return {\n          x: x,\n          y: y\n        };\n      };\n\n      _proto.parsePoint = function parsePoint(coord, position) {\n        var self = this;\n        var xScale = self.xScale;\n        var yScales = self.yScales;\n\n        if (isFunction(position)) {\n          position = position(xScale, yScales); // position 必须是对象\n        } // 如果数据格式是 ['50%', '50%'] 的格式\n        // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n\n\n        if (isString(position[0]) && position[0].indexOf('%') !== -1 && !isNaN(position[0].slice(0, -1))) {\n          return this.parsePercentPoint(coord, position);\n        }\n\n        var x = self._getNormalizedValue(position[0], xScale);\n\n        var y = self._getNormalizedValue(position[1], yScales[0]);\n\n        var point = coord.convertPoint({\n          x: x,\n          y: y\n        });\n\n        if (self.limitInPlot) {\n          // limit in chart plotRange\n          if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n            return point;\n          }\n\n          return null;\n        }\n\n        return point;\n      }\n      /**\n       * render the guide component\n       * @param  {Coord} coord  coordinate instance\n       * @param  {Canvas.Group} group the container\n       */\n      ;\n\n      _proto.render = function render()\n      /* coord,group */\n      {};\n\n      _proto.repaint = function repaint() {\n        this.remove();\n        var coord = this.coord,\n            container = this.container,\n            canvas = this.canvas;\n\n        if (container && !container.isDestroyed()) {\n          this.render(coord, container);\n          canvas.draw();\n        }\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.remove(true);\n      };\n\n      _proto.changeVisible = function changeVisible(visible) {\n        var self = this;\n        self.visible = visible;\n        var element = self.element;\n        if (!element) return;\n\n        if (element.set) {\n          element.set('visible', visible);\n        } else {\n          element.style.display = visible ? '' : 'none';\n        }\n      };\n\n      return GuideBase;\n    }();\n\n    var Arc$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Arc, _GuideBase);\n\n      function Arc() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'arc';\n        /**\n         * start point\n         * @type {Array | Function}\n         */\n\n        this.start = [];\n        /**\n         * end point\n         * @type {Array | Function}\n         */\n\n        this.end = [];\n        /**\n         * style configuration\n         * @type {Object}\n         */\n\n        this.style = {\n          stroke: '#999',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var start = self.parsePoint(coord, self.start);\n        var end = self.parsePoint(coord, self.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var coordCenter = coord.center;\n        var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n        var startAngle = Math.atan2(start.y - coordCenter.y, start.x - coordCenter.x);\n        var endAngle = Math.atan2(end.y - coordCenter.y, end.x - coordCenter.x);\n        var shape = container.addShape('arc', {\n          className: 'guide-arc',\n          attrs: mix({\n            x: coordCenter.x,\n            y: coordCenter.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, self.style)\n        });\n        self.element = shape;\n        return shape;\n      };\n\n      return Arc;\n    }(GuideBase);\n\n    GuideBase.Arc = Arc$1;\n\n    function getOffsetFromAlign(alignX, alignY, width, height) {\n      var result = [];\n\n      if (alignX === 'left' && alignY === 'top') {\n        result[0] = 0;\n        result[1] = 0;\n      } else if (alignX === 'right' && alignY === 'top') {\n        result[0] = -width;\n        result[1] = 0;\n      } else if (alignX === 'left' && alignY === 'bottom') {\n        result[0] = 0;\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'bottom') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'middle') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'left' && alignY === 'middle') {\n        result[0] = 0;\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'center' && alignY === 'bottom') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'center' && alignY === 'top') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = 0;\n      } else {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height / 2);\n      }\n\n      return result;\n    }\n\n    function modifyCSS(DOM, CSS) {\n      for (var key in CSS) {\n        if (CSS.hasOwnProperty(key)) {\n          DOM.style[key] = CSS[key];\n        }\n      }\n\n      return DOM;\n    }\n\n    function createDom(str) {\n      var container = document.createElement('div');\n      str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n      container.innerHTML = '' + str;\n      return container.childNodes[0];\n    }\n\n    var Html = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Html, _GuideBase);\n\n      function Html() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Html.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'html';\n        /**\n         * dom position\n         * @type {Object | Array}\n         */\n\n        this.position = null;\n        /**\n          * alignment for horizontal direction，can be 'left','center','right'\n          * @type {String}\n          */\n\n        this.alignX = 'center';\n        /**\n          * alignment for vertical direction，can be 'top', 'middle', 'bottom'\n          * @type {String}\n          */\n\n        this.alignY = 'middle';\n        /**\n          * offset for horizontal direction\n          * @type {Number}\n          */\n\n        this.offsetX = null;\n        /**\n          * offset for vertical direction\n          * @type {Number}\n          */\n\n        this.offsetY = null;\n        /**\n        * the html string\n        *@type {String | Function}\n        */\n\n        this.html = null;\n      } // override paint\n      ;\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var position = self.parsePoint(coord, self.position);\n\n        if (!position) {\n          return;\n        }\n\n        var myNode = createDom(self.html);\n        myNode = modifyCSS(myNode, {\n          position: 'absolute',\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'hidden'\n        });\n        var canvasDom = container.get('canvas').get('el');\n        var parentNode = canvasDom.parentNode;\n        parentNode = modifyCSS(parentNode, {\n          position: 'relative'\n        });\n        var wrapperNode = createDom('<div class=\"guideWapper\" style=\"position: absolute;top: 0; left: 0;\"></div>');\n        parentNode.appendChild(wrapperNode);\n        wrapperNode.appendChild(myNode);\n        var canvasOffsetTop = canvasDom.offsetTop;\n        var canvasOffsetLeft = canvasDom.offsetLeft;\n        var alignX = self.alignX,\n            alignY = self.alignY,\n            offsetX = self.offsetX,\n            offsetY = self.offsetY;\n        var width = getWidth(myNode);\n        var height = getHeight(myNode);\n        var newOffset = getOffsetFromAlign(alignX, alignY, width, height);\n        position.x = position.x + newOffset[0] + canvasOffsetLeft;\n        position.y = position.y + newOffset[1] + canvasOffsetTop;\n\n        if (offsetX) {\n          position.x += offsetX;\n        }\n\n        if (offsetY) {\n          position.y += offsetY;\n        }\n\n        modifyCSS(myNode, {\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'visible'\n        });\n        self.element = wrapperNode;\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.parentNode && element.parentNode.removeChild(element);\n      };\n\n      return Html;\n    }(GuideBase);\n\n    GuideBase.Html = Html;\n\n    var Line$4 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Line, _GuideBase);\n\n      function Line() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'line';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          stroke: '#000',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var points = [];\n        points[0] = this.parsePoint(coord, this.start);\n        points[1] = this.parsePoint(coord, this.end);\n\n        if (!points[0] || !points[1]) {\n          return;\n        }\n\n        var shape = container.addShape('Line', {\n          className: 'guide-line',\n          attrs: mix({\n            x1: points[0].x,\n            y1: points[0].y,\n            x2: points[1].x,\n            y2: points[1].y\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Line;\n    }(GuideBase);\n\n    GuideBase.Line = Line$4;\n\n    var Rect$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Rect, _GuideBase);\n\n      function Rect() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'rect';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          fill: '#CCD7EB',\n          opacity: 0.4\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var start = this.parsePoint(coord, this.start);\n        var end = this.parsePoint(coord, this.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var shape = container.addShape('rect', {\n          className: 'guide-rect',\n          attrs: mix({\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n            width: Math.abs(end.x - start.x),\n            height: Math.abs(start.y - end.y)\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Rect;\n    }(GuideBase);\n\n    GuideBase.Rect = Rect$2;\n\n    var Text$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Text, _GuideBase);\n\n      function Text() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'text';\n        /**\n         * the position of text\n         * @type {Function | Array}\n         */\n\n        this.position = null;\n        /**\n         * the display content\n         * @type {String}\n         */\n\n        this.content = null;\n        /**\n         * style configuration for text\n         * @type {Object}\n         */\n\n        this.style = {\n          fill: '#000'\n        };\n        /**\n         * offset of horizontal direction\n         * @type {Number}\n         */\n\n        this.offsetX = 0;\n        /**\n         * offset of vertical direction\n         * @type {Number}\n         */\n\n        this.offsetY = 0;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.position;\n        var point = this.parsePoint(coord, position);\n\n        if (!point) {\n          return;\n        }\n\n        var content = this.content,\n            style = this.style,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY;\n\n        if (offsetX) {\n          point.x += offsetX;\n        }\n\n        if (offsetY) {\n          point.y += offsetY;\n        }\n\n        var shape = container.addShape('text', {\n          className: 'guide-text',\n          attrs: mix({\n            x: point.x,\n            y: point.y,\n            text: content\n          }, style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Text;\n    }(GuideBase);\n\n    GuideBase.Text = Text$1;\n\n    var Tag = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Tag, _GuideBase);\n\n      function Tag() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Tag.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'tag';\n        this.position = null;\n        this.content = null;\n        this.direct = 'tl';\n        this.autoAdjust = true;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.side = 4;\n        this.background = {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        };\n        this.textStyle = {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        };\n        this.withPoint = true;\n        this.pointStyle = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto._getDirect = function _getDirect(container, point, tagWidth, tagHeight) {\n        var direct = this.direct;\n        var side = this.side;\n        var canvas = container.get('canvas');\n        var clientWidth = canvas.get('width');\n        var clientHeight = canvas.get('height');\n        var x = point.x,\n            y = point.y;\n        var vertical = direct[0];\n        var horizontal = direct[1]; // adjust for vertical direction\n\n        if (vertical === 't' && y - side - tagHeight < 0) {\n          vertical = 'b';\n        } else if (vertical === 'b' && y + side + tagHeight > clientHeight) {\n          vertical = 't';\n        } // adjust for horizontal direction\n\n\n        var diff = vertical === 'c' ? side : 0;\n\n        if (horizontal === 'l' && x - diff - tagWidth < 0) {\n          horizontal = 'r';\n        } else if (horizontal === 'r' && x + diff + tagWidth > clientWidth) {\n          horizontal = 'l';\n        } else if (horizontal === 'c') {\n          if (tagWidth / 2 + x + diff > clientWidth) {\n            horizontal = 'l';\n          } else if (x - tagWidth / 2 - diff < 0) {\n            horizontal = 'r';\n          }\n        }\n\n        direct = vertical + horizontal;\n        return direct;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n\n        if (!position) {\n          return;\n        } // 数据不在显示范围内时，x/y 会为NaN\n\n\n        if (isNaN(position.x) || isNaN(position.y)) {\n          return;\n        }\n\n        var content = this.content,\n            background = this.background,\n            textStyle = this.textStyle;\n        var shapes = [];\n        var wrapperContainer = container.addGroup({\n          className: 'guide-tag'\n        });\n\n        if (this.withPoint) {\n          var pointShape = wrapperContainer.addShape('Circle', {\n            className: 'guide-tag-point',\n            attrs: mix({\n              x: position.x,\n              y: position.y\n            }, this.pointStyle)\n          });\n          shapes.push(pointShape);\n        }\n\n        var tagContainer = wrapperContainer.addGroup(); // create a text shape\n\n        var tagText = tagContainer.addShape('text', {\n          className: 'guide-tag-text',\n          zIndex: 1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            text: content\n          }, textStyle)\n        });\n        shapes.push(tagText); // create background box\n\n        var textBBox = tagText.getBBox();\n        var padding = parsePadding(background.padding);\n        var tagWidth = textBBox.width + padding[1] + padding[3];\n        var tagHeight = textBBox.height + padding[0] + padding[2];\n        var yMin = textBBox.minY - padding[0];\n        var xMin = textBBox.minX - padding[3];\n        var tagBg = tagContainer.addShape('rect', {\n          className: 'guide-tag-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: xMin,\n            y: yMin,\n            width: tagWidth,\n            height: tagHeight\n          }, background)\n        });\n        shapes.push(tagBg);\n        var direct = this.autoAdjust ? this._getDirect(container, position, tagWidth, tagHeight) : this.direct;\n        var side = this.side;\n        var x = position.x + this.offsetX;\n        var y = position.y + this.offsetY;\n        var arrowPoints;\n        var radius = parsePadding(background.radius);\n\n        if (direct === 'tl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - side - 1,\n            y: tagHeight + yMin - 1\n          }, // 这个 1 是为了防止出现白边\n          {\n            x: tagWidth + xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth + xMin,\n            y: tagHeight + side + yMin\n          }];\n          radius[2] = 0;\n          x = x - tagWidth;\n          y = y - side - tagHeight;\n        } else if (direct === 'cl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: tagWidth + xMin - 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }, {\n            x: tagWidth + side + xMin,\n            y: tagHeight / 2 + yMin\n          }];\n          x = x - tagWidth - side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'bl') {\n          arrowPoints = [{\n            x: tagWidth + xMin,\n            y: -side + yMin\n          }, {\n            x: tagWidth + xMin - side - 1,\n            y: yMin + 1\n          }, {\n            x: tagWidth + xMin,\n            y: yMin + 1\n          }];\n          radius[1] = 0;\n          x = x - tagWidth;\n          y = y + side;\n        } else if (direct === 'bc') {\n          arrowPoints = [{\n            x: tagWidth / 2 + xMin,\n            y: -side + yMin\n          }, {\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: yMin + 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: yMin + 1\n          }];\n          x = x - tagWidth / 2;\n          y = y + side;\n        } else if (direct === 'br') {\n          arrowPoints = [{\n            x: xMin,\n            y: yMin - side\n          }, {\n            x: xMin,\n            y: yMin + 1\n          }, {\n            x: xMin + side + 1,\n            y: yMin + 1\n          }];\n          radius[0] = 0;\n          y = y + side;\n        } else if (direct === 'cr') {\n          arrowPoints = [{\n            x: xMin - side,\n            y: tagHeight / 2 + yMin\n          }, {\n            x: xMin + 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: xMin + 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }];\n          x = x + side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'tr') {\n          arrowPoints = [{\n            x: xMin,\n            y: tagHeight + side + yMin\n          }, {\n            x: xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: side + xMin + 1,\n            y: tagHeight + yMin - 1\n          }];\n          radius[3] = 0;\n          y = y - tagHeight - side;\n        } else if (direct === 'tc') {\n          arrowPoints = [{\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth / 2 + xMin,\n            y: tagHeight + side + yMin\n          }];\n          x = x - tagWidth / 2;\n          y = y - tagHeight - side;\n        }\n\n        var sideShape = tagContainer.addShape('Polygon', {\n          className: 'guide-tag-side',\n          zIndex: 0,\n          attrs: {\n            points: arrowPoints,\n            fill: background.fill\n          }\n        });\n        shapes.push(sideShape);\n        tagBg.attr('radius', radius);\n        tagContainer.moveTo(x - xMin, y - yMin);\n        tagContainer.sort();\n        this.element = wrapperContainer;\n        return shapes;\n      };\n\n      return Tag;\n    }(GuideBase);\n\n    GuideBase.Tag = Tag;\n\n    var Point$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Point, _GuideBase);\n\n      function Point() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'point';\n        this.position = null;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.style = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n        if (!position) return null;\n        var shape = container.addShape('Circle', {\n          className: 'guide-point',\n          attrs: mix({\n            x: position.x + this.offsetX,\n            y: position.y + this.offsetY\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Point;\n    }(GuideBase);\n\n    GuideBase.Point = Point$2;\n\n    var MARKER_RADIUS = 3;\n\n    var List = /*#__PURE__*/function () {\n      var _proto = List.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          showTitle: false,\n\n          /**\n           * title string\n           * @type {?String}\n           */\n          title: null,\n\n          /**\n           * items array\n           * @type {?Array}\n           */\n          items: null,\n\n          /**\n           * offset between title and items\n           * @type {Number}\n           */\n          titleGap: 12,\n\n          /**\n           * offset between each item\n           * @type {Number}\n           */\n          itemGap: 10,\n\n          /**\n           * the offset between each item in vertical direaction\n           * @type {Number}\n           */\n          itemMarginBottom: 12,\n\n          /**\n           * the formatter for item text\n           * @type {[type]}\n           */\n          itemFormatter: null,\n          itemWidth: null,\n\n          /**\n           * offset between marker and text\n           * @type {Number}\n           */\n          wordSpace: 6,\n          x: 0,\n          y: 0,\n          layout: 'horizontal',\n\n          /**\n           * the join string of `name` and `value`\n           * @type {String}\n           */\n          joinString: ': '\n        };\n      };\n\n      function List(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        this._renderTitle();\n\n        this._renderItems();\n      }\n\n      _proto._init = function _init() {\n        var parent = this.parent;\n        if (!parent) return;\n        var container = parent.addGroup({\n          zIndex: this.zIndex || 0\n        });\n        this.container = container;\n        var wrapper = container.addGroup();\n        this.wrapper = wrapper;\n        var itemsGroup = wrapper.addGroup({\n          className: 'itemsGroup'\n        });\n        this.itemsGroup = itemsGroup;\n      };\n\n      _proto._renderTitle = function _renderTitle(title) {\n        title = title || this.title;\n        var titleShape = this.titleShape;\n        var titleHeight = 0;\n\n        if (this.showTitle && title) {\n          if (titleShape && !titleShape.get('destroyed')) {\n            titleShape.attr('text', title);\n          } else {\n            var wrapper = this.wrapper,\n                titleStyle = this.titleStyle;\n            titleShape = wrapper.addShape('text', {\n              className: 'title',\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: title\n              }, titleStyle)\n            });\n            this.titleShape = titleShape;\n          }\n\n          titleHeight = titleShape.getBBox().height + this.titleGap;\n        }\n\n        this._titleHeight = titleHeight;\n      };\n\n      _proto._renderItems = function _renderItems(items) {\n        var self = this;\n        items = items || self.items;\n\n        if (!items) {\n          return;\n        }\n\n        if (self.reversed) {\n          items.reverse();\n        }\n\n        each(items, function (item, index) {\n          self._addItem(item, index);\n        });\n\n        if (items.length > 1) {\n          this._adjustItems();\n        }\n\n        this._renderBackground();\n      };\n\n      _proto._renderBackground = function _renderBackground() {\n        var background = this.background;\n\n        if (background) {\n          var container = this.container;\n          var wrapper = this.wrapper;\n\n          var _wrapper$getBBox = wrapper.getBBox(),\n              minX = _wrapper$getBBox.minX,\n              minY = _wrapper$getBBox.minY,\n              width = _wrapper$getBBox.width,\n              height = _wrapper$getBBox.height;\n\n          var padding = background.padding || [0, 0, 0, 0];\n          padding = parsePadding(padding);\n          var attrs = mix({\n            x: minX - padding[3],\n            y: minY - padding[0],\n            width: width + padding[1] + padding[3],\n            height: height + padding[0] + padding[2]\n          }, background);\n          var backShape = this.backShape;\n\n          if (backShape) {\n            backShape.attr(attrs);\n          } else {\n            backShape = container.addShape('Rect', {\n              zIndex: -1,\n              attrs: attrs\n            });\n          }\n\n          this.backShape = backShape;\n          container.sort();\n        }\n      };\n\n      _proto._addItem = function _addItem(item) {\n        var itemsGroup = this.itemsGroup;\n        var itemGroup = itemsGroup.addGroup({\n          name: item.name,\n          value: item.value,\n          dataValue: item.dataValue,\n          checked: item.checked\n        });\n        var unCheckStyle = this.unCheckStyle,\n            unCheckColor = this.unCheckColor,\n            nameStyle = this.nameStyle,\n            valueStyle = this.valueStyle,\n            wordSpace = this.wordSpace;\n        var marker = item.marker,\n            value = item.value;\n        var startX = 0;\n\n        if (unCheckColor) {\n          unCheckStyle.fill = unCheckColor;\n        }\n\n        if (marker) {\n          var radius = marker.radius || MARKER_RADIUS;\n          var markerAttrs = mix({\n            x: radius,\n            y: this._titleHeight\n          }, marker);\n\n          if (item.checked === false) {\n            mix(markerAttrs, unCheckStyle);\n          }\n\n          var markerShape = itemGroup.addShape('marker', {\n            className: 'item-marker',\n            attrs: markerAttrs\n          });\n          startX += markerShape.getBBox().width + wordSpace;\n        }\n\n        var nameText;\n        var name = item.name;\n\n        if (name) {\n          var joinString = this.joinString || '';\n          name = value ? name + joinString : name;\n          nameText = itemGroup.addShape('text', {\n            className: 'name',\n            attrs: mix({\n              x: startX,\n              y: this._titleHeight,\n              text: this._formatItemValue(name)\n            }, nameStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        if (value) {\n          var valueX = startX;\n\n          if (nameText) {\n            valueX += nameText.getBBox().width;\n          }\n\n          itemGroup.addShape('text', {\n            className: 'value',\n            attrs: mix({\n              x: valueX,\n              y: this._titleHeight,\n              text: value\n            }, valueStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        return itemGroup;\n      };\n\n      _proto._formatItemValue = function _formatItemValue(value) {\n        var formatter = this.itemFormatter;\n\n        if (formatter) {\n          value = formatter.call(this, value);\n        }\n\n        return value;\n      };\n\n      _proto._getMaxItemWidth = function _getMaxItemWidth() {\n        var width;\n        var itemWidth = this.itemWidth;\n\n        if (isNumber(itemWidth) || isNil(itemWidth)) {\n          return itemWidth;\n        }\n\n        if (itemWidth === 'auto') {\n          var itemsGroup = this.itemsGroup;\n          var children = itemsGroup.get('children');\n          var count = children.length;\n          var maxItemWidth = 0;\n\n          for (var i = 0; i < count; i++) {\n            var _children$i$getBBox = children[i].getBBox(),\n                _width = _children$i$getBBox.width;\n\n            maxItemWidth = Math.max(maxItemWidth, _width);\n          }\n\n          var maxLength = this.maxLength;\n          var itemGap = this.itemGap;\n          var twoAvgWidth = (maxLength - itemGap) / 2;\n          var threeAvgWidth = (maxLength - itemGap * 2) / 3;\n\n          if (count === 2) {\n            width = Math.max(maxItemWidth, twoAvgWidth);\n          } else {\n            // 1. max <= 3Avg, 3Avg\n            // 2. 3Avg < max && max < 2avg, 2avg\n            // 3. max > 2avg, max, one column\n            if (maxItemWidth <= threeAvgWidth) {\n              width = threeAvgWidth;\n            } else if (maxItemWidth <= twoAvgWidth) {\n              width = twoAvgWidth;\n            } else {\n              width = maxItemWidth;\n            }\n          }\n\n          return width;\n        }\n      };\n\n      _proto._adjustHorizontal = function _adjustHorizontal() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var children = itemsGroup.get('children');\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom;\n        var titleHeight = this._titleHeight;\n        var row = 0;\n        var rowWidth = 0;\n        var width;\n        var height;\n\n        var itemWidth = this._getMaxItemWidth();\n\n        var legendHitBoxes = [];\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          var box = child.getBBox();\n          var childHeight = box.height;\n          var childWidth = box.width;\n          width = itemWidth || childWidth;\n          height = childHeight + itemMarginBottom;\n\n          if (width - (maxLength - rowWidth) > 0.0001) {\n            row++;\n            rowWidth = 0;\n          }\n\n          child.moveTo(rowWidth, row * height);\n          legendHitBoxes.push({\n            x: rowWidth,\n            y: row * height + titleHeight - childHeight / 2,\n            width: childWidth * 1.375,\n            height: childHeight * 1.375\n          });\n          rowWidth += width + itemGap;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustVertical = function _adjustVertical() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom,\n            itemWidth = this.itemWidth;\n        var titleHeight = this._titleHeight;\n        var children = itemsGroup.get('children');\n        var colHeight = 0;\n        var width;\n        var height;\n        var maxItemWidth = 0;\n        var totalWidth = 0;\n        var legendHitBoxes = [];\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n          var bbox = child.getBBox();\n          width = bbox.width;\n          height = bbox.height;\n\n          if (isNumber(itemWidth)) {\n            maxItemWidth = itemWidth + itemGap;\n          } else if (width > maxItemWidth) {\n            maxItemWidth = width + itemGap;\n          }\n\n          if (maxLength - colHeight < height) {\n            colHeight = 0;\n            totalWidth += maxItemWidth;\n            child.moveTo(totalWidth, 0);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: titleHeight - height / 2,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          } else {\n            child.moveTo(totalWidth, colHeight);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: colHeight - height / 2 + titleHeight,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          }\n\n          colHeight += height + itemMarginBottom;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustItems = function _adjustItems() {\n        var layout = this.layout;\n\n        if (layout === 'horizontal') {\n          this._adjustHorizontal();\n        } else {\n          this._adjustVertical();\n        }\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        this.x = x;\n        this.y = y;\n        var container = this.container;\n        container && container.moveTo(x, y);\n        return this;\n      };\n\n      _proto.setItems = function setItems(items) {\n        this.clearItems();\n\n        this._renderItems(items);\n      };\n\n      _proto.setTitle = function setTitle(title) {\n        this._renderTitle(title);\n      };\n\n      _proto.clearItems = function clearItems() {\n        var itemsGroup = this.itemsGroup;\n        itemsGroup.clear();\n      };\n\n      _proto.getWidth = function getWidth() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.height;\n      };\n\n      _proto.show = function show() {\n        var container = this.container;\n        container.show();\n      };\n\n      _proto.hide = function hide() {\n        var container = this.container;\n        container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n      };\n\n      return List;\n    }();\n\n    var TextBox = /*#__PURE__*/function () {\n      var _proto = TextBox.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          x: 0,\n          y: 0,\n          content: '',\n          textStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle',\n            fontFamily: 'Arial'\n          },\n          background: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          width: 0,\n          height: 0,\n          className: ''\n        };\n      };\n\n      function TextBox(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        var content = this.content,\n            x = this.x,\n            y = this.y;\n\n        if (!isNil(content)) {\n          this.updateContent(content);\n        }\n\n        this.updatePosition(x, y);\n      }\n\n      _proto._init = function _init() {\n        var content = this.content,\n            textStyle = this.textStyle,\n            background = this.background,\n            className = this.className,\n            visible = this.visible,\n            context = this.context;\n        var container = new Group({\n          context: context,\n          className: className,\n          zIndex: 0,\n          visible: visible\n        });\n        var text = container.addShape('Text', {\n          className: className + '-text',\n          zIndex: 1,\n          attrs: mix({\n            text: content,\n            x: 0,\n            y: 0\n          }, textStyle)\n        });\n        var backgroundShape = container.addShape('Rect', {\n          className: className + '-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n          }, background)\n        });\n        container.sort();\n        this.container = container;\n        this.textShape = text;\n        this.backgroundShape = backgroundShape;\n      };\n\n      _proto._getBBox = function _getBBox() {\n        var textShape = this.textShape;\n        var background = this.background;\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(background.padding);\n        var width = textBBox.width + padding[1] + padding[3];\n        var height = textBBox.height + padding[0] + padding[2];\n        var x = textBBox.minX - padding[3];\n        var y = textBBox.minY - padding[0];\n        return {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        };\n      };\n\n      _proto.updateContent = function updateContent(text) {\n        var textShape = this.textShape,\n            backgroundShape = this.backgroundShape;\n\n        if (!isNil(text)) {\n          if (!isObject(text)) {\n            text = {\n              text: text\n            };\n          }\n\n          textShape.attr(text); // update box shape\n\n          var _this$_getBBox = this._getBBox(),\n              x = _this$_getBBox.x,\n              y = _this$_getBBox.y,\n              tipWidth = _this$_getBBox.width,\n              tipHeight = _this$_getBBox.height;\n\n          var width = this.width || tipWidth;\n          var height = this.height || tipHeight;\n          backgroundShape.attr({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n          this._width = width;\n          this._height = height;\n          this.content = text.text;\n        }\n      };\n\n      _proto.updatePosition = function updatePosition(x, y) {\n        var container = this.container;\n\n        var _this$_getBBox2 = this._getBBox(),\n            xMin = _this$_getBBox2.x,\n            yMin = _this$_getBBox2.y;\n\n        container.moveTo(x - xMin, y - yMin);\n        this.x = x - xMin;\n        this.y = y - yMin;\n      };\n\n      _proto.getWidth = function getWidth() {\n        return this._width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        return this._height;\n      };\n\n      _proto.show = function show() {\n        this.container.show();\n      };\n\n      _proto.hide = function hide() {\n        this.container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n        this.container = null;\n        this.textShape = null;\n        this.backgroundShape = null;\n      };\n\n      return TextBox;\n    }();\n\n    var GAP = 4;\n    /**\n     * TODOList：\n     * 1. 移除 fixed 参数\n     */\n\n    var Tooltip = /*#__PURE__*/function () {\n      var _proto = Tooltip.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * wether show the crosshairs\n           * @type {Object}\n           */\n          showCrosshairs: false,\n\n          /**\n           * the style for crosshairs\n           * @type {Object}\n           */\n          crosshairsStyle: {\n            stroke: 'rgba(0, 0, 0, 0.25)',\n            lineWidth: 1\n          },\n\n          /**\n           * the type of crosshairs, optional value is 'x', 'y' or 'xy', default is 'y'\n           */\n          crosshairsType: 'y',\n\n          /**\n           * show or hide the x axis tip\n           */\n          showXTip: false,\n\n          /**\n           * show or hide the y axis tip\n           */\n          showYTip: false,\n          xTip: null,\n          xTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          xTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n          yTip: null,\n          yTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          yTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n\n          /**\n           * the style for tooltip container's background\n           * @type {Object}\n           */\n          background: null,\n\n          /**\n           * layout, can be horizontal or vertical\n           * @type {String}\n           */\n          layout: 'horizontal',\n          offsetX: 0,\n          offsetY: 0\n        };\n      };\n\n      function Tooltip(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n        var frontPlot = this.frontPlot,\n            custom = this.custom;\n\n        if (!custom) {\n          // custom means user do customize\n          var container = new List(mix({\n            parent: frontPlot,\n            zIndex: 3\n          }, cfg));\n          this.container = container;\n          var fixed = this.fixed,\n              background = this.background;\n\n          if (!fixed) {\n            this.tooltipArrow = frontPlot.addShape('Polygon', {\n              className: 'tooltip-arrow',\n              visible: false,\n              zIndex: 2,\n              attrs: mix({\n                points: []\n              }, background)\n            });\n          }\n        }\n\n        if (this.showXTip) {\n          var xTipBackground = this.xTipBackground,\n              xTipTextStyle = this.xTipTextStyle;\n          var xTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'xTip',\n            background: xTipBackground,\n            textStyle: xTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(xTipBox.container);\n          this.xTipBox = xTipBox;\n        }\n\n        if (this.showYTip) {\n          var yTipBackground = this.yTipBackground,\n              yTipTextStyle = this.yTipTextStyle;\n          var yTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'yTip',\n            background: yTipBackground,\n            textStyle: yTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(yTipBox.container);\n          this.yTipBox = yTipBox;\n        }\n\n        if (this.showCrosshairs) {\n          this._renderCrosshairs();\n        }\n\n        frontPlot.sort();\n      }\n\n      _proto.setContent = function setContent(title, items) {\n        this.title = title;\n        this.items = items;\n\n        if (!this.custom) {\n          var container = this.container;\n          container.setTitle(title);\n          container.setItems(items);\n        }\n      };\n\n      _proto.setYTipContent = function setYTipContent(val) {\n        var yTip = this.yTip;\n\n        if (isFunction(yTip)) {\n          val = yTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, yTip);\n        }\n\n        this.yTipBox && this.yTipBox.updateContent(val);\n      };\n\n      _proto.setYTipPosition = function setYTipPosition(pos) {\n        var plotRange = this.plotRange;\n        var crosshairsShapeX = this.crosshairsShapeX;\n\n        if (this.showYTip) {\n          var yTipBox = this.yTipBox;\n          var yTipHeight = yTipBox.getHeight();\n          var yTipWidth = yTipBox.getWidth();\n          var posX = plotRange.tl.x - yTipWidth;\n          var posY = pos - yTipHeight / 2;\n\n          if (posY <= plotRange.tl.y) {\n            posY = plotRange.tl.y;\n          }\n\n          if (posY + yTipHeight >= plotRange.br.y) {\n            posY = plotRange.br.y - yTipHeight;\n          }\n\n          if (posX < 0) {\n            posX = plotRange.tl.x;\n            crosshairsShapeX && crosshairsShapeX.attr('x1', plotRange.tl.x + yTipWidth);\n          }\n\n          yTipBox.updatePosition(posX, posY);\n        }\n      };\n\n      _proto.setXTipContent = function setXTipContent(val) {\n        var xTip = this.xTip;\n\n        if (isFunction(xTip)) {\n          val = xTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, xTip);\n        }\n\n        this.xTipBox && this.xTipBox.updateContent(val);\n      };\n\n      _proto.setXTipPosition = function setXTipPosition(pos) {\n        var showXTip = this.showXTip,\n            canvas = this.canvas,\n            plotRange = this.plotRange,\n            xTipBox = this.xTipBox,\n            crosshairsShapeY = this.crosshairsShapeY;\n\n        if (showXTip) {\n          // const el = canvas.get('el');\n          // const canvasHeight = Util.getHeight(el);\n          var canvasHeight = canvas.get('height');\n          var xTipWidth = xTipBox.getWidth();\n          var xTipHeight = xTipBox.getHeight();\n          var posX = pos - xTipWidth / 2;\n          var posY = plotRange.br.y;\n\n          if (posX <= plotRange.tl.x) {\n            posX = plotRange.tl.x;\n          }\n\n          if (posX + xTipWidth >= plotRange.tr.x) {\n            posX = plotRange.tr.x - xTipWidth;\n          }\n\n          if (canvasHeight - posY < xTipHeight) {\n            posY -= xTipHeight;\n          }\n\n          xTipBox.updatePosition(posX, posY);\n          crosshairsShapeY && crosshairsShapeY.attr('y1', posY);\n        }\n      };\n\n      _proto.setXCrosshairPosition = function setXCrosshairPosition(pos) {\n        this.crosshairsShapeX && this.crosshairsShapeX.moveTo(0, pos);\n      };\n\n      _proto.setYCrosshairPosition = function setYCrosshairPosition(pos) {\n        this.crosshairsShapeY && this.crosshairsShapeY.moveTo(pos, 0);\n      };\n\n      _proto.setPosition = function setPosition(items) {\n        var container = this.container,\n            plotRange = this.plotRange,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY,\n            fixed = this.fixed,\n            tooltipArrow = this.tooltipArrow;\n\n        if (!container) {\n          return;\n        }\n\n        var containerBBox = container.container.getBBox();\n        var minX = containerBBox.minX,\n            minY = containerBBox.minY,\n            width = containerBBox.width,\n            height = containerBBox.height;\n        var tl = plotRange.tl,\n            tr = plotRange.tr;\n        var posX = 0;\n        var posY = tl.y - height - GAP + offsetY;\n\n        if (posY < 0) {\n          posY = 0;\n        }\n\n        if (fixed) {\n          var x = (tl.x + tr.x) / 2;\n          posX = x - width / 2 + offsetX;\n        } else {\n          var _x;\n\n          if (items.length > 1) {\n            _x = (items[0].x + items[items.length - 1].x) / 2;\n          } else {\n            _x = items[0].x;\n          }\n\n          posX = _x - width / 2 + offsetX;\n\n          if (posX < tl.x) {\n            posX = tl.x;\n          }\n\n          if (posX + width > tr.x) {\n            posX = tr.x - width;\n          }\n\n          if (tooltipArrow) {\n            var arrowY = posY + height;\n            tooltipArrow.attr('points', [{\n              x: _x - 3,\n              y: arrowY\n            }, {\n              x: _x + 3,\n              y: arrowY\n            }, {\n              x: _x,\n              y: arrowY + GAP\n            }]);\n            var backShape = container.backShape;\n            var radius = parsePadding(backShape.attr('radius'));\n\n            if (_x === tl.x) {\n              radius[3] = 0;\n              tooltipArrow.attr('points', [{\n                x: tl.x,\n                y: arrowY\n              }, {\n                x: tl.x + GAP,\n                y: arrowY\n              }, {\n                x: tl.x,\n                y: arrowY + GAP\n              }]);\n            } else if (_x === tr.x) {\n              radius[2] = 0;\n              tooltipArrow.attr('points', [{\n                x: tr.x - GAP,\n                y: arrowY\n              }, {\n                x: tr.x,\n                y: arrowY\n              }, {\n                x: tr.x,\n                y: arrowY + GAP\n              }]);\n            }\n\n            backShape.attr('radius', radius);\n          }\n        }\n\n        container.moveTo(posX - minX, posY - minY);\n      };\n\n      _proto.setMarkers = function setMarkers(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var self = this;\n        var _cfg = cfg,\n            items = _cfg.items,\n            style = _cfg.style,\n            type = _cfg.type;\n\n        var markerGroup = self._getMarkerGroup(type);\n\n        if (type === 'circle') {\n          for (var i = 0, length = items.length; i < length; i++) {\n            var item = items[i];\n            markerGroup.addShape('marker', {\n              className: 'tooltip-circle-marker',\n              attrs: mix({\n                x: item.x,\n                y: item.y,\n                stroke: item.color\n              }, style)\n            });\n          }\n        } else {\n          markerGroup.addShape('rect', {\n            className: 'tooltip-rect-marker',\n            attrs: style\n          });\n        }\n      };\n\n      _proto.clearMarkers = function clearMarkers() {\n        var markerGroup = this.markerGroup;\n        markerGroup && markerGroup.clear();\n      };\n\n      _proto.show = function show() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        var canvas = this.canvas;\n        crosshairsShapeX && crosshairsShapeX.show();\n        crosshairsShapeY && crosshairsShapeY.show();\n        markerGroup && markerGroup.show();\n        container && container.show();\n        tooltipArrow && tooltipArrow.show();\n        xTipBox && xTipBox.show();\n        yTipBox && yTipBox.show();\n        canvas.draw();\n      };\n\n      _proto.hide = function hide() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.hide();\n        crosshairsShapeY && crosshairsShapeY.hide();\n        markerGroup && markerGroup.hide();\n        container && container.hide();\n        tooltipArrow && tooltipArrow.hide();\n        xTipBox && xTipBox.hide();\n        yTipBox && yTipBox.hide();\n      };\n\n      _proto.destroy = function destroy() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.remove(true);\n        crosshairsShapeY && crosshairsShapeY.remove(true);\n        markerGroup && markerGroup.remove(true);\n        tooltipArrow && tooltipArrow.remove(true);\n        container && container.clear();\n        xTipBox && xTipBox.clear();\n        yTipBox && yTipBox.clear();\n        this.destroyed = true;\n      };\n\n      _proto._getMarkerGroup = function _getMarkerGroup(type) {\n        var markerGroup = this.markerGroup;\n\n        if (!markerGroup) {\n          if (type === 'circle') {\n            markerGroup = this.frontPlot.addGroup({\n              zIndex: 1\n            });\n            this.frontPlot.sort();\n          } else {\n            markerGroup = this.backPlot.addGroup();\n          }\n\n          this.markerGroup = markerGroup;\n        } else {\n          markerGroup.clear();\n        }\n\n        return markerGroup;\n      };\n\n      _proto._renderCrosshairs = function _renderCrosshairs() {\n        var crosshairsType = this.crosshairsType,\n            crosshairsStyle = this.crosshairsStyle,\n            frontPlot = this.frontPlot,\n            plotRange = this.plotRange;\n        var tl = plotRange.tl,\n            br = plotRange.br;\n\n        if (directionEnabled(crosshairsType, 'x')) {\n          this.crosshairsShapeX = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-x',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: tl.x,\n              y1: 0,\n              x2: br.x,\n              y2: 0\n            }, crosshairsStyle)\n          });\n        }\n\n        if (directionEnabled(crosshairsType, 'y')) {\n          this.crosshairsShapeY = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-y',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: 0,\n              y1: br.y,\n              x2: 0,\n              y2: tl.y\n            }, crosshairsStyle)\n          });\n        }\n      };\n\n      return Tooltip;\n    }();\n\n    Global.tooltip = deepMix({\n      triggerOn: 'press',\n      triggerOff: 'pressend',\n      alwaysShow: false,\n      showTitle: false,\n      showCrosshairs: false,\n      crosshairsStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      showTooltipMarker: true,\n      background: {\n        radius: 1,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        padding: [3, 5]\n      },\n      titleStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fontSize: 12,\n        fill: 'rgba(255, 255, 255, 0.65)',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      showItemMarker: true,\n      itemMarkerStyle: {\n        radius: 3,\n        symbol: 'circle',\n        lineWidth: 1,\n        stroke: '#fff'\n      },\n      layout: 'horizontal',\n      snap: false\n    }, Global.tooltip || {});\n\n    function _getTooltipValueScale(geom) {\n      var colorAttr = geom.getAttr('color');\n\n      if (colorAttr) {\n        var colorScale = colorAttr.getScale(colorAttr.type);\n\n        if (colorScale.isLinear) {\n          return colorScale;\n        }\n      }\n\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n\n      if (yScale) {\n        return yScale;\n      }\n\n      return xScale;\n    }\n\n    function getTooltipName(geom, origin) {\n      var name;\n      var nameScale;\n\n      var groupScales = geom._getGroupScales();\n\n      if (groupScales.length) {\n        each(groupScales, function (scale) {\n          nameScale = scale;\n          return false;\n        });\n      }\n\n      if (nameScale) {\n        var field = nameScale.field;\n        name = nameScale.getText(origin[field]);\n      } else {\n        var valueScale = _getTooltipValueScale(geom);\n\n        name = valueScale.alias || valueScale.field;\n      }\n\n      return name;\n    }\n\n    function getTooltipValue(geom, origin) {\n      var scale = _getTooltipValueScale(geom);\n\n      return scale.getText(origin[scale.field]);\n    }\n\n    function getTooltipTitle(geom, origin) {\n      var position = geom.getAttr('position');\n      var field = position.getFields()[0];\n      var scale = geom.get('scales')[field];\n      return scale.getText(origin[scale.field]);\n    }\n\n    function _indexOfArray(items, item) {\n      var rst = -1;\n      each(items, function (sub, index) {\n        if (sub.title === item.title && sub.name === item.name && sub.value === item.value && sub.color === item.color) {\n          rst = index;\n          return false;\n        }\n      });\n      return rst;\n    }\n\n    function _uniqItems(items) {\n      var tmp = [];\n      each(items, function (item) {\n        var index = _indexOfArray(tmp, item);\n\n        if (index === -1) {\n          tmp.push(item);\n        } else {\n          tmp[index] = item;\n        }\n      });\n      return tmp;\n    }\n\n    function isEqual$1(arr1, arr2) {\n      return JSON.stringify(arr1) === JSON.stringify(arr2);\n    }\n\n    var TooltipController = /*#__PURE__*/function () {\n      function TooltipController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleShowEvent\", function (ev) {\n          var chart = _this.chart;\n          if (!_this.enable) return;\n          var plot = chart.get('plotRange');\n          var point = createEvent(ev, chart);\n\n          if (!isPointInPlot(point, plot) && !_this._tooltipCfg.alwaysShow) {\n            // not in chart plot\n            _this.hideTooltip();\n\n            return;\n          }\n\n          var lastTimeStamp = _this.timeStamp;\n          var timeStamp = +new Date();\n\n          if (timeStamp - lastTimeStamp > 16) {\n            _this.showTooltip(point);\n\n            _this.timeStamp = timeStamp;\n          }\n        });\n\n        _defineProperty(this, \"handleHideEvent\", function () {\n          if (!_this.enable) return;\n\n          _this.hideTooltip();\n        });\n\n        this.enable = true;\n        this.cfg = {};\n        this.tooltip = null;\n        this.chart = null;\n        this.timeStamp = 0;\n        mix(this, cfg);\n        var _chart = this.chart;\n\n        var canvas = _chart.get('canvas');\n\n        this.canvas = canvas;\n        this.canvasDom = canvas.get('el');\n      }\n\n      var _proto = TooltipController.prototype;\n\n      _proto._setCrosshairsCfg = function _setCrosshairsCfg() {\n        var self = this;\n        var chart = self.chart;\n        var defaultCfg = mix({}, Global.tooltip);\n        var geoms = chart.get('geoms');\n        var shapes = [];\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n\n          if (shapes.indexOf(type) === -1) {\n            shapes.push(type);\n          }\n        });\n        var coordType = chart.get('coord').type;\n\n        if (geoms.length && (coordType === 'cartesian' || coordType === 'rect')) {\n          if (shapes.length === 1 && ['line', 'area', 'path', 'point'].indexOf(shapes[0]) !== -1) {\n            mix(defaultCfg, {\n              showCrosshairs: true\n            });\n          }\n        }\n\n        return defaultCfg;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg = cfg,\n            layout = _cfg.layout,\n            plotRange = _cfg.plotRange;\n        return layout === 'horizontal' ? plotRange.br.x - plotRange.bl.x : plotRange.bl.y - plotRange.tr.y;\n      };\n\n      _proto.render = function render() {\n        var self = this;\n\n        if (self.tooltip) {\n          return;\n        }\n\n        var chart = self.chart;\n        var canvas = chart.get('canvas');\n        var frontPlot = chart.get('frontPlot').addGroup({\n          className: 'tooltipContainer',\n          zIndex: 10\n        });\n        var backPlot = chart.get('backPlot').addGroup({\n          className: 'tooltipContainer'\n        });\n        var plotRange = chart.get('plotRange');\n        var coord = chart.get('coord');\n\n        var defaultCfg = self._setCrosshairsCfg();\n\n        var cfg = self.cfg; // 通过 chart.tooltip() 接口传入的 tooltip 配置项\n\n        var tooltipCfg = deepMix({\n          plotRange: plotRange,\n          frontPlot: frontPlot,\n          backPlot: backPlot,\n          canvas: canvas,\n          fixed: coord.transposed || coord.isPolar\n        }, defaultCfg, cfg); // 创建 tooltip 实例需要的配置，不应该修改 this.cfg，即用户传入的配置\n\n        tooltipCfg.maxLength = self._getMaxLength(tooltipCfg);\n        this._tooltipCfg = tooltipCfg;\n        var tooltip = new Tooltip(tooltipCfg);\n        self.tooltip = tooltip; // 需要保持tooltip一直显示\n\n        if (tooltipCfg.alwaysShow && self.prePoint) {\n          this.showTooltip(self.prePoint);\n        }\n\n        self.bindEvents();\n      };\n\n      _proto.clear = function clear() {\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.destroy();\n          this.unBindEvents();\n        }\n\n        this.tooltip = null;\n        this._lastActive = null;\n      };\n\n      _proto._getTooltipMarkerStyle = function _getTooltipMarkerStyle(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg2 = cfg,\n            type = _cfg2.type,\n            items = _cfg2.items;\n        var tooltipCfg = this._tooltipCfg;\n\n        if (type === 'rect') {\n          var x;\n          var y;\n          var width;\n          var height;\n          var chart = this.chart;\n\n          var _chart$get = chart.get('plotRange'),\n              tl = _chart$get.tl,\n              br = _chart$get.br;\n\n          var coord = chart.get('coord');\n          var firstItem = items[0];\n          var lastItem = items[items.length - 1];\n          var intervalWidth = firstItem.width;\n\n          if (coord.transposed) {\n            x = tl.x;\n            y = lastItem.y - intervalWidth * 0.75;\n            width = br.x - tl.x;\n            height = firstItem.y - lastItem.y + 1.5 * intervalWidth;\n          } else {\n            x = firstItem.x - intervalWidth * 0.75;\n            y = tl.y;\n            width = lastItem.x - firstItem.x + 1.5 * intervalWidth;\n            height = br.y - tl.y;\n          }\n\n          cfg.style = mix({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            fill: '#CCD6EC',\n            opacity: 0.3\n          }, tooltipCfg.tooltipMarkerStyle);\n        } else {\n          cfg.style = mix({\n            radius: 4,\n            fill: '#fff',\n            lineWidth: 2\n          }, tooltipCfg.tooltipMarkerStyle);\n        }\n\n        return cfg;\n      };\n\n      _proto._setTooltip = function _setTooltip(point, items, tooltipMarkerCfg) {\n        if (tooltipMarkerCfg === void 0) {\n          tooltipMarkerCfg = {};\n        }\n\n        this.prePoint = point;\n        var lastActive = this._lastActive;\n        var tooltip = this.tooltip;\n        var cfg = this._tooltipCfg;\n        items = _uniqItems(items);\n        var chart = this.chart;\n        var coord = chart.get('coord');\n        var yScale = chart.getYScales()[0];\n        var snap = cfg.snap;\n\n        if (snap === false && yScale.isLinear) {\n          var invertPoint = coord.invertPoint(point);\n          var plot = chart.get('plotRange');\n          var tip;\n          var pos;\n\n          if (isPointInPlot(point, plot)) {\n            if (coord.transposed) {\n              tip = yScale.invert(invertPoint.x);\n              pos = point.x;\n              tooltip.setXTipContent(tip);\n              tooltip.setXTipPosition(pos);\n              tooltip.setYCrosshairPosition(pos);\n            } else {\n              tip = yScale.invert(invertPoint.y);\n              pos = point.y;\n              tooltip.setYTipContent(tip);\n              tooltip.setYTipPosition(pos);\n              tooltip.setXCrosshairPosition(pos);\n            }\n          }\n        }\n\n        if (cfg.onShow) {\n          cfg.onShow({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        if (isEqual$1(lastActive, items)) {\n          if (snap === false && (directionEnabled(cfg.crosshairsType, 'y') || cfg.showYTip)) {\n            var canvas = this.chart.get('canvas');\n            canvas.draw();\n          }\n\n          return;\n        }\n\n        this._lastActive = items;\n        var onChange = cfg.onChange;\n\n        if (onChange) {\n          onChange({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        var first = items[0];\n        var title = first.title || first.name;\n        var xTipPosX = first.x;\n\n        if (items.length > 1) {\n          xTipPosX = (items[0].x + items[items.length - 1].x) / 2;\n        }\n\n        tooltip.setContent(title, items, coord.transposed);\n        tooltip.setPosition(items, point);\n\n        if (coord.transposed) {\n          var yTipPosY = first.y;\n\n          if (items.length > 1) {\n            yTipPosY = (items[0].y + items[items.length - 1].y) / 2;\n          }\n\n          tooltip.setYTipContent(title);\n          tooltip.setYTipPosition(yTipPosY);\n          tooltip.setXCrosshairPosition(yTipPosY);\n\n          if (snap) {\n            tooltip.setXTipContent(first.value);\n            tooltip.setXTipPosition(xTipPosX);\n            tooltip.setYCrosshairPosition(xTipPosX);\n          }\n        } else {\n          tooltip.setXTipContent(title);\n          tooltip.setXTipPosition(xTipPosX);\n          tooltip.setYCrosshairPosition(xTipPosX);\n\n          if (snap) {\n            tooltip.setYTipContent(first.value);\n            tooltip.setYTipPosition(first.y);\n            tooltip.setXCrosshairPosition(first.y);\n          }\n        }\n\n        var markerItems = tooltipMarkerCfg.items;\n\n        if (cfg.showTooltipMarker && markerItems.length) {\n          tooltipMarkerCfg = this._getTooltipMarkerStyle(tooltipMarkerCfg);\n          tooltip.setMarkers(tooltipMarkerCfg);\n        } else {\n          tooltip.clearMarkers();\n        }\n\n        tooltip.show();\n      };\n\n      _proto.showTooltip = function showTooltip(point) {\n        var self = this;\n        var chart = self.chart;\n        var tooltipMarkerType;\n        var tooltipMarkerItems = [];\n        var items = [];\n        var cfg = self._tooltipCfg;\n        var showItemMarker = cfg.showItemMarker,\n            itemMarkerStyle = cfg.itemMarkerStyle,\n            alwaysShow = cfg.alwaysShow;\n        var marker;\n\n        if (showItemMarker) {\n          marker = itemMarkerStyle;\n        }\n\n        var geoms = chart.get('geoms');\n        var coord = chart.get('coord');\n        each(geoms, function (geom) {\n          if (geom.get('visible')) {\n            var type = geom.get('type');\n            var records = geom.getSnapRecords(point);\n            var adjust = geom.get('adjust'); // 漏斗图和金子塔图tooltip位置有问题，暂时不开放显示\n\n            if (type === 'interval' && adjust && adjust.type === 'symmetric') {\n              return;\n            }\n\n            each(records, function (record) {\n              var x = record.x,\n                  y = record.y,\n                  _origin = record._origin,\n                  color = record.color;\n\n              if ((x || !isNaN(x)) && (y || !isNaN(y))) {\n                var tooltipItem = {\n                  x: x,\n                  y: isArray(y) ? y[1] : y,\n                  color: color || Global.defaultColor,\n                  origin: _origin,\n                  name: getTooltipName(geom, _origin),\n                  value: getTooltipValue(geom, _origin),\n                  title: getTooltipTitle(geom, _origin)\n                };\n\n                if (marker) {\n                  tooltipItem.marker = mix({\n                    fill: color || Global.defaultColor\n                  }, marker);\n                }\n\n                items.push(tooltipItem);\n\n                if (['line', 'area', 'path'].indexOf(type) !== -1) {\n                  tooltipMarkerType = 'circle';\n                  tooltipMarkerItems.push(tooltipItem);\n                } else if (type === 'interval' && (coord.type === 'cartesian' || coord.type === 'rect')) {\n                  tooltipMarkerType = 'rect';\n                  tooltipItem.width = geom.getSize(record._origin);\n                  tooltipMarkerItems.push(tooltipItem);\n                }\n              }\n            });\n          }\n        });\n\n        if (items.length) {\n          var tooltipMarkerCfg = {\n            items: tooltipMarkerItems,\n            type: tooltipMarkerType\n          };\n\n          self._setTooltip(point, items, tooltipMarkerCfg);\n\n          return;\n        }\n\n        if (!alwaysShow) {\n          self.hideTooltip();\n        }\n      };\n\n      _proto.hideTooltip = function hideTooltip() {\n        var cfg = this._tooltipCfg;\n        this._lastActive = null;\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.hide();\n\n          if (cfg.onHide) {\n            cfg.onHide({\n              tooltip: tooltip\n            });\n          }\n\n          var canvas = this.chart.get('canvas');\n          canvas.draw();\n        }\n      };\n\n      _proto._handleEvent = function _handleEvent(methodName, method, action) {\n        var canvas = this.canvas;\n        each([].concat(methodName), function (aMethod) {\n          if (action === 'bind') {\n            canvas.on(aMethod, method);\n          } else {\n            canvas.off(aMethod, method);\n          }\n        });\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'bind'); // 如果 !alwaysShow, 则在手势离开后就隐藏\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'bind');\n        }\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'unBind');\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'unBind');\n        }\n      };\n\n      return TooltipController;\n    }();\n\n    function init(chart) {\n      var tooltipController = new TooltipController({\n        chart: chart\n      });\n      chart.set('tooltipController', tooltipController);\n\n      chart.tooltip = function (enable, cfg) {\n        if (isObject(enable)) {\n          cfg = enable;\n          enable = true;\n        }\n\n        tooltipController.enable = enable;\n\n        if (cfg) {\n          tooltipController.cfg = cfg;\n        }\n\n        return this;\n      };\n    }\n\n    function afterGeomDraw(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.render();\n\n      chart.showTooltip = function (point) {\n        tooltipController.showTooltip(point);\n        return this;\n      };\n\n      chart.hideTooltip = function () {\n        tooltipController.hideTooltip();\n        return this;\n      };\n    }\n\n    function clearInner(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.clear();\n    }\n    var tooltip = {\n      init: init,\n      afterGeomDraw: afterGeomDraw,\n      clearInner: clearInner\n    };\n\n    var Tooltip$1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init,\n        afterGeomDraw: afterGeomDraw,\n        clearInner: clearInner,\n        'default': tooltip\n    });\n\n    Global.guide = deepMix({\n      line: {\n        style: {\n          stroke: '#a3a3a3',\n          lineWidth: 1\n        },\n        top: true\n      },\n      text: {\n        style: {\n          fill: '#787878',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        },\n        offsetX: 0,\n        offsetY: 0,\n        top: true\n      },\n      rect: {\n        style: {\n          fill: '#fafafa'\n        },\n        top: false\n      },\n      arc: {\n        style: {\n          stroke: '#a3a3a3'\n        },\n        top: true\n      },\n      html: {\n        offsetX: 0,\n        offsetY: 0,\n        alignX: 'center',\n        alignY: 'middle'\n      },\n      tag: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        side: 4,\n        background: {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        },\n        textStyle: {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      point: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          fill: '#fff',\n          r: 3,\n          lineWidth: 2,\n          stroke: '#1890ff'\n        }\n      }\n    }, Global.guide || {});\n\n    var GuideController = /*#__PURE__*/function () {\n      function GuideController(cfg) {\n        this.guides = [];\n        this.xScale = null;\n        this.yScales = null;\n        this.guideShapes = [];\n        mix(this, cfg);\n      }\n\n      var _proto = GuideController.prototype;\n\n      _proto._toString = function _toString(position) {\n        if (isFunction(position)) {\n          position = position(this.xScale, this.yScales);\n        }\n\n        position = position.toString();\n        return position;\n      };\n\n      _proto._getId = function _getId(shape, guide) {\n        var id = guide.id;\n\n        if (!id) {\n          var type = guide.type;\n\n          if (type === 'arc' || type === 'line' || type === 'rect') {\n            id = this._toString(guide.start) + '-' + this._toString(guide.end);\n          } else {\n            id = this._toString(guide.position);\n          }\n        }\n\n        return id;\n      };\n\n      _proto.paint = function paint(coord) {\n        var self = this;\n        var chart = self.chart,\n            guides = self.guides,\n            xScale = self.xScale,\n            yScales = self.yScales;\n        var guideShapes = [];\n        each(guides, function (guide, idx) {\n          guide.xScale = xScale;\n          guide.yScales = yScales;\n          var container;\n\n          if (guide.type === 'regionFilter') {\n            // TODO: RegionFilter support animation\n            guide.chart = chart;\n          } else {\n            container = guide.top ? self.frontPlot : self.backPlot;\n          }\n\n          guide.coord = coord;\n          guide.container = container;\n          guide.canvas = chart.get('canvas');\n          var shape = guide.render(coord, container);\n\n          if (shape) {\n            var id = self._getId(shape, guide);\n\n            [].concat(shape).forEach(function (s) {\n              s._id = s.get('className') + '-' + id;\n              s.set('index', idx);\n              guideShapes.push(s);\n            });\n          }\n        });\n        self.guideShapes = guideShapes;\n      };\n\n      _proto.clear = function clear() {\n        this.reset();\n        this.guides = [];\n        return this;\n      };\n\n      _proto.reset = function reset() {\n        var guides = this.guides;\n        each(guides, function (guide) {\n          guide.remove();\n        });\n      };\n\n      _proto._createGuide = function _createGuide(type, cfg) {\n        var ClassName = upperFirst(type);\n        var guide = new GuideBase[ClassName](deepMix({}, Global.guide[type], cfg));\n        this.guides.push(guide);\n        return guide;\n      };\n\n      _proto.line = function line(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('line', cfg);\n      };\n\n      _proto.text = function text(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('text', cfg);\n      };\n\n      _proto.arc = function arc(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('arc', cfg);\n      };\n\n      _proto.html = function html(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('html', cfg);\n      };\n\n      _proto.rect = function rect(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('rect', cfg);\n      };\n\n      _proto.tag = function tag(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('tag', cfg);\n      };\n\n      _proto.point = function point(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('point', cfg);\n      };\n\n      _proto.regionFilter = function regionFilter(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('regionFilter', cfg);\n      };\n\n      return GuideController;\n    }();\n\n    function init$1(chart) {\n      var guideController = new GuideController({\n        frontPlot: chart.get('frontPlot').addGroup({\n          zIndex: 20,\n          className: 'guideContainer'\n        }),\n        backPlot: chart.get('backPlot').addGroup({\n          className: 'guideContainer'\n        })\n      });\n      chart.set('guideController', guideController);\n      /**\n       * 为图表添加 guide\n       * @return {GuideController} 返回 guide 控制器\n       */\n\n      chart.guide = function () {\n        return guideController;\n      };\n    }\n\n    function afterGeomDraw$1(chart) {\n      var guideController = chart.get('guideController');\n\n      if (!guideController.guides.length) {\n        return;\n      }\n\n      var xScale = chart.getXScale();\n      var yScales = chart.getYScales();\n      var coord = chart.get('coord');\n      guideController.xScale = xScale;\n      guideController.yScales = yScales;\n      guideController.chart = chart; // for regionFilter\n\n      guideController.paint(coord);\n    }\n\n    function clear(chart) {\n      chart.get('guideController').clear();\n    }\n\n    function repaint(chart) {\n      chart.get('guideController').reset();\n    }\n    var guide = {\n      init: init$1,\n      afterGeomDraw: afterGeomDraw$1,\n      clear: clear,\n      repaint: repaint\n    };\n\n    var Guide = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1,\n        afterGeomDraw: afterGeomDraw$1,\n        clear: clear,\n        repaint: repaint,\n        'default': guide\n    });\n\n    var LEGEND_GAP = 12;\n    var MARKER_SIZE = 3;\n    var DEFAULT_CFG = {\n      itemMarginBottom: 12,\n      itemGap: 10,\n      showTitle: false,\n      titleStyle: {\n        fontSize: 12,\n        fill: '#808080',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fill: '#808080',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fill: '#000000',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      unCheckStyle: {\n        fill: '#bfbfbf'\n      },\n      itemWidth: 'auto',\n      wordSpace: 6,\n      selectedMode: 'multiple' // 'multiple' or 'single'\n\n    }; // Register the default configuration for Legend\n\n    Global.legend = deepMix({\n      common: DEFAULT_CFG,\n      // common legend configuration\n      right: mix({\n        position: 'right',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      left: mix({\n        position: 'left',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      top: mix({\n        position: 'top',\n        layout: 'horizontal'\n      }, DEFAULT_CFG),\n      bottom: mix({\n        position: 'bottom',\n        layout: 'horizontal'\n      }, DEFAULT_CFG)\n    }, Global.legend || {});\n\n    function getPaddingByPos(pos, appendPadding) {\n      var padding = 0;\n      appendPadding = parsePadding(appendPadding);\n\n      switch (pos) {\n        case 'top':\n          padding = appendPadding[0];\n          break;\n\n        case 'right':\n          padding = appendPadding[1];\n          break;\n\n        case 'bottom':\n          padding = appendPadding[2];\n          break;\n\n        case 'left':\n          padding = appendPadding[3];\n          break;\n      }\n\n      return padding;\n    }\n\n    var LegendController = /*#__PURE__*/function () {\n      function LegendController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleEvent\", function (ev) {\n          var self = _this;\n\n          function findItem(x, y) {\n            var result = null;\n            var legends = self.legends;\n            each(legends, function (legendItems) {\n              each(legendItems, function (legend) {\n                var itemsGroup = legend.itemsGroup,\n                    legendHitBoxes = legend.legendHitBoxes;\n                var children = itemsGroup.get('children');\n\n                if (children.length) {\n                  var legendPosX = legend.x;\n                  var legendPosY = legend.y;\n                  each(legendHitBoxes, function (box, index) {\n                    if (x >= box.x + legendPosX && x <= box.x + box.width + legendPosX && y >= box.y + legendPosY && y <= box.height + box.y + legendPosY) {\n                      // inbox\n                      result = {\n                        clickedItem: children[index],\n                        clickedLegend: legend\n                      };\n                      return false;\n                    }\n                  });\n                }\n              });\n            });\n            return result;\n          }\n\n          var chart = self.chart;\n\n          var _createEvent = createEvent(ev, chart),\n              x = _createEvent.x,\n              y = _createEvent.y;\n\n          var clicked = findItem(x, y);\n\n          if (clicked && clicked.clickedLegend.clickable !== false) {\n            var clickedItem = clicked.clickedItem,\n                clickedLegend = clicked.clickedLegend;\n\n            if (clickedLegend.onClick) {\n              ev.clickedItem = clickedItem;\n              clickedLegend.onClick(ev);\n            } else if (!clickedLegend.custom) {\n              var checked = clickedItem.get('checked');\n              var value = clickedItem.get('dataValue');\n              var filteredVals = clickedLegend.filteredVals,\n                  field = clickedLegend.field,\n                  selectedMode = clickedLegend.selectedMode;\n              var isSingeSelected = selectedMode === 'single';\n\n              if (isSingeSelected) {\n                chart.filter(field, function (val) {\n                  return val === value;\n                });\n              } else {\n                if (checked) {\n                  filteredVals.push(value);\n                } else {\n                  remove(filteredVals, value);\n                }\n\n                chart.filter(field, function (val) {\n                  return filteredVals.indexOf(val) === -1;\n                });\n              }\n\n              chart.repaint();\n            }\n          }\n        });\n\n        this.legendCfg = {};\n        this.enable = true;\n        this.position = 'top';\n        mix(this, cfg);\n        var _chart = this.chart;\n        this.canvasDom = _chart.get('canvas').get('el');\n        this.clear();\n      }\n\n      var _proto = LegendController.prototype;\n\n      _proto.addLegend = function addLegend(scale, items, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n        var field = scale.field;\n        var fieldCfg = legendCfg[field];\n\n        if (fieldCfg === false) {\n          return null;\n        }\n\n        if (fieldCfg && fieldCfg.custom) {\n          self.addCustomLegend(field);\n        } else {\n          var position = legendCfg.position || self.position;\n\n          if (fieldCfg && fieldCfg.position) {\n            position = fieldCfg.position;\n          }\n\n          if (scale.isCategory) {\n            self._addCategoryLegend(scale, items, position, filteredVals);\n          }\n        }\n      };\n\n      _proto.addCustomLegend = function addCustomLegend(field) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n\n        if (field && legendCfg[field]) {\n          legendCfg = legendCfg[field];\n        }\n\n        var position = legendCfg.position || self.position;\n        var legends = self.legends;\n        legends[position] = legends[position] || [];\n        var items = legendCfg.items;\n\n        if (!items) {\n          return null;\n        }\n\n        var container = self.container;\n        each(items, function (item) {\n          if (!isPlainObject(item.marker)) {\n            item.marker = {\n              symbol: item.marker || 'circle',\n              fill: item.fill,\n              radius: MARKER_SIZE\n            };\n          } else {\n            item.marker.radius = item.marker.radius || MARKER_SIZE;\n          }\n\n          item.checked = isNil(item.checked) ? true : item.checked;\n          item.name = item.name || item.value;\n        });\n        var legend = new List(deepMix({}, Global.legend[position], legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          parent: container\n        }));\n        legends[position].push(legend);\n      };\n\n      _proto.clear = function clear() {\n        var legends = this.legends;\n        each(legends, function (legendItems) {\n          each(legendItems, function (legend) {\n            legend.clear();\n          });\n        });\n        this.legends = {};\n        this.unBindEvents();\n      };\n\n      _proto._isFiltered = function _isFiltered(scale, values, value) {\n        var rst = false;\n        each(values, function (val) {\n          rst = rst || scale.getText(val) === scale.getText(value);\n\n          if (rst) {\n            return false;\n          }\n        });\n        return rst;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(position) {\n        var chart = this.chart;\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        return position === 'right' || position === 'left' ? chart.get('height') - (appendPadding[0] + appendPadding[2]) : chart.get('width') - (appendPadding[1] + appendPadding[3]);\n      };\n\n      _proto._addCategoryLegend = function _addCategoryLegend(scale, items, position, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg,\n            legends = self.legends,\n            container = self.container,\n            chart = self.chart;\n        var field = scale.field;\n        legends[position] = legends[position] || [];\n        var symbol = 'circle';\n\n        if (legendCfg[field] && legendCfg[field].marker) {\n          symbol = legendCfg[field].marker;\n        } else if (legendCfg.marker) {\n          symbol = legendCfg.marker;\n        }\n\n        each(items, function (item) {\n          if (isPlainObject(symbol)) {\n            mix(item.marker, symbol);\n          } else {\n            item.marker.symbol = symbol;\n          }\n\n          if (filteredVals) {\n            item.checked = !self._isFiltered(scale, filteredVals, item.dataValue);\n          }\n        });\n        var legendItems = chart.get('legendItems');\n        legendItems[field] = items;\n        var lastCfg = deepMix({}, Global.legend[position], legendCfg[field] || legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          field: field,\n          filteredVals: filteredVals,\n          parent: container\n        });\n\n        if (lastCfg.showTitle) {\n          deepMix(lastCfg, {\n            title: scale.alias || scale.field\n          });\n        }\n\n        var legend = new List(lastCfg);\n        legends[position].push(legend);\n        return legend;\n      };\n\n      _proto._alignLegend = function _alignLegend(legend, pre, position) {\n        var self = this;\n        var _self$plotRange = self.plotRange,\n            tl = _self$plotRange.tl,\n            bl = _self$plotRange.bl;\n        var chart = self.chart;\n        var offsetX = legend.offsetX || 0;\n        var offsetY = legend.offsetY || 0;\n        var chartWidth = chart.get('width');\n        var chartHeight = chart.get('height');\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        var legendHeight = legend.getHeight();\n        var legendWidth = legend.getWidth();\n        var x = 0;\n        var y = 0;\n\n        if (position === 'left' || position === 'right') {\n          var verticalAlign = legend.verticalAlign || 'middle';\n          var height = Math.abs(tl.y - bl.y);\n          x = position === 'left' ? appendPadding[3] : chartWidth - legendWidth - appendPadding[1];\n          y = (height - legendHeight) / 2 + tl.y;\n\n          if (verticalAlign === 'top') {\n            y = tl.y;\n          } else if (verticalAlign === 'bottom') {\n            y = bl.y - legendHeight;\n          }\n\n          if (pre) {\n            y = pre.get('y') - legendHeight - LEGEND_GAP;\n          }\n        } else {\n          var align = legend.align || 'left';\n          x = appendPadding[3];\n\n          if (align === 'center') {\n            x = chartWidth / 2 - legendWidth / 2;\n          } else if (align === 'right') {\n            x = chartWidth - (legendWidth + appendPadding[1]);\n          }\n\n          y = position === 'top' ? appendPadding[0] + Math.abs(legend.container.getBBox().minY) : chartHeight - legendHeight;\n\n          if (pre) {\n            var preWidth = pre.getWidth();\n            x = pre.x + preWidth + LEGEND_GAP;\n          }\n        }\n\n        if (position === 'bottom' && offsetY > 0) {\n          offsetY = 0;\n        }\n\n        if (position === 'right' && offsetX > 0) {\n          offsetX = 0;\n        }\n\n        legend.moveTo(x + offsetX, y + offsetY);\n      };\n\n      _proto.alignLegends = function alignLegends() {\n        var self = this;\n        var legends = self.legends;\n        each(legends, function (legendItems, position) {\n          each(legendItems, function (legend, index) {\n            var pre = legendItems[index - 1];\n\n            self._alignLegend(legend, pre, position);\n          });\n        });\n        return self;\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        addEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        removeEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      return LegendController;\n    }();\n\n    function init$2(chart) {\n      var legendController = new LegendController({\n        container: chart.get('backPlot').addGroup(),\n        plotRange: chart.get('plotRange'),\n        chart: chart\n      });\n      chart.set('legendController', legendController);\n\n      chart.legend = function (field, cfg) {\n        var legendCfg = legendController.legendCfg;\n        legendController.enable = true;\n\n        if (isBoolean(field)) {\n          legendController.enable = field;\n          legendCfg = cfg || {};\n        } else if (isObject(field)) {\n          legendCfg = field;\n        } else {\n          legendCfg[field] = cfg;\n        }\n\n        legendController.legendCfg = legendCfg;\n        return this;\n      };\n    }\n\n    function beforeGeomDraw(chart) {\n      var legendController = chart.get('legendController');\n      if (!legendController.enable) return null; // legend is not displayed\n\n      var legendCfg = legendController.legendCfg,\n          container = legendController.container;\n\n      if (legendCfg && legendCfg.custom) {\n        legendController.addCustomLegend();\n      } else {\n        var legendItems = chart.getLegendItems();\n        var scales = chart.get('scales');\n        var filters = chart.get('filters');\n        each(legendItems, function (items, field) {\n          var scale = scales[field];\n          var values = scale.values;\n          var filteredVals;\n\n          if (filters && filters[field]) {\n            filteredVals = values.filter(function (v) {\n              return !filters[field](v);\n            });\n          } else {\n            filteredVals = [];\n          }\n\n          legendController.addLegend(scale, items, filteredVals);\n        });\n      }\n\n      if (legendCfg && legendCfg.clickable !== false) {\n        legendController.bindEvents();\n      }\n\n      var legends = legendController.legends;\n      var legendRange = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      };\n      each(legends, function (legendItems, position) {\n        var padding = 0;\n        each(legendItems, function (legend) {\n          var width = legend.getWidth();\n          var height = legend.getHeight();\n\n          if (position === 'top' || position === 'bottom') {\n            padding = Math.max(padding, height);\n\n            if (legend.offsetY > 0) {\n              padding += legend.offsetY;\n            }\n          } else {\n            padding = Math.max(padding, width);\n\n            if (legend.offsetX > 0) {\n              padding += legend.offsetX;\n            }\n          }\n        });\n        legendRange[position] = padding + getPaddingByPos(position, chart.get('appendPadding'));\n      });\n      chart.set('legendRange', legendRange);\n\n      if (Object.keys(legends).length) {\n        container.set('ariaLabel', lang.legend.prefix);\n      } else {\n        container.set('ariaLabel', null);\n      }\n    }\n\n    function afterGeomDraw$2(chart) {\n      var legendController = chart.get('legendController');\n      legendController.alignLegends();\n    }\n\n    function clearInner$1(chart) {\n      var legendController = chart.get('legendController');\n      legendController.clear();\n      chart.set('legendRange', null);\n    }\n    var legend = {\n      init: init$2,\n      beforeGeomDraw: beforeGeomDraw,\n      afterGeomDraw: afterGeomDraw$2,\n      clearInner: clearInner$1\n    };\n\n    var Legend = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$2,\n        beforeGeomDraw: beforeGeomDraw,\n        afterGeomDraw: afterGeomDraw$2,\n        clearInner: clearInner$1,\n        'default': legend\n    });\n\n    var clock = typeof performance === 'object' && performance.now ? performance : Date;\n\n    var Timeline = /*#__PURE__*/function () {\n      function Timeline() {\n        this.anims = [];\n        this.time = null;\n        this.playing = false;\n        this.canvas = [];\n      }\n\n      var _proto = Timeline.prototype;\n\n      _proto.play = function play() {\n        var self = this;\n        self.time = clock.now();\n        self.playing = true;\n\n        function step() {\n          if (self.playing) {\n            requestAnimationFrame(step);\n            self.update();\n          }\n        }\n\n        requestAnimationFrame(step);\n      };\n\n      _proto.stop = function stop() {\n        this.playing = false;\n        this.time = null;\n        this.canvas = [];\n      };\n\n      _proto.pushAnim = function pushAnim(animInfo) {\n        // 先启动动画\n        if (!this.playing) {\n          this.play();\n        }\n\n        var delay = animInfo.delay,\n            duration = animInfo.duration;\n        var startTime = this.time + delay;\n        var endTime = startTime + duration;\n        animInfo.startTime = startTime;\n        animInfo.endTime = endTime;\n        this.anims.push(animInfo);\n      };\n\n      _proto.update = function update() {\n        var currentTime = clock.now();\n        this.canvas = [];\n\n        if (!this.anims.length) {\n          this.stop();\n          return;\n        }\n\n        for (var i = 0; i < this.anims.length; i++) {\n          var propertyAnim = this.anims[i];\n\n          if (currentTime < propertyAnim.startTime || propertyAnim.hasEnded) {\n            continue;\n          }\n\n          var shape = propertyAnim.shape; // shape\n\n          if (shape.get('destroyed')) {\n            this.anims.splice(i, 1);\n            i--;\n            continue;\n          }\n\n          var startState = propertyAnim.startState,\n              endState = propertyAnim.endState,\n              interpolate = propertyAnim.interpolate,\n              duration = propertyAnim.duration;\n\n          if (currentTime >= propertyAnim.startTime && !propertyAnim.hasStarted) {\n            propertyAnim.hasStarted = true;\n\n            if (propertyAnim.onStart) {\n              propertyAnim.onStart();\n            }\n          }\n\n          var t = (currentTime - propertyAnim.startTime) / duration;\n          t = Math.max(0, Math.min(t, 1));\n          t = propertyAnim.easing(t);\n\n          if (propertyAnim.onFrame) {\n            propertyAnim.onFrame(t);\n          } else {\n            for (var key in interpolate) {\n              var diff = interpolate[key];\n              var value = diff(t);\n              var newValue = void 0;\n\n              if (key === 'points') {\n                newValue = [];\n                var aLen = Math.max(startState.points.length, endState.points.length);\n\n                for (var j = 0; j < aLen; j += 2) {\n                  newValue.push({\n                    x: value[j],\n                    y: value[j + 1]\n                  });\n                }\n              } else {\n                newValue = value;\n              }\n\n              shape._attrs.attrs[key] = newValue;\n              shape._attrs.bbox = null; // should clear calculated bbox\n            }\n          }\n\n          var canvas = shape.get('canvas');\n\n          if (this.canvas.indexOf(canvas) === -1) {\n            this.canvas.push(canvas);\n          }\n\n          if (propertyAnim.onUpdate) {\n            propertyAnim.onUpdate(t);\n          }\n\n          if (currentTime >= propertyAnim.endTime && !propertyAnim.hasEnded) {\n            propertyAnim.hasEnded = true;\n\n            if (propertyAnim.onEnd) {\n              propertyAnim.onEnd();\n            }\n          }\n\n          if (t === 1) {\n            // end\n            this.anims.splice(i, 1);\n            i--;\n          }\n        }\n\n        this.canvas.map(function (c) {\n          c.draw();\n          return c;\n        });\n        this.time = clock.now();\n      };\n\n      return Timeline;\n    }();\n\n    function linear$1(k) {\n      return k;\n    }\n\n    function quadraticIn(k) {\n      return k * k;\n    }\n\n    function quadraticOut(k) {\n      return k * (2 - k);\n    }\n\n    function quadraticInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    }\n\n    function cubicIn(k) {\n      return k * k * k;\n    }\n\n    function cubicOut(k) {\n      return --k * k * k + 1;\n    }\n\n    function cubicInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    }\n\n    function elasticIn(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    function elasticOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    }\n\n    function elasticInOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    }\n\n    function backIn(k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    }\n\n    function backOut(k) {\n      var s = 1.70158;\n      return (k = k - 1) * k * ((s + 1) * k + s) + 1;\n    }\n\n    function backInOut(k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    }\n\n    function bounceIn(k) {\n      return 1 - bounceOut(1 - k);\n    }\n\n    function bounceOut(k) {\n      if ((k /= 1) < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      }\n\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n\n    function bounceInOut(k) {\n      if (k < 0.5) {\n        return bounceIn(k * 2) * 0.5;\n      }\n\n      return bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n\n    var Easing = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        linear: linear$1,\n        quadraticIn: quadraticIn,\n        quadraticOut: quadraticOut,\n        quadraticInOut: quadraticInOut,\n        cubicIn: cubicIn,\n        cubicOut: cubicOut,\n        cubicInOut: cubicInOut,\n        elasticIn: elasticIn,\n        elasticOut: elasticOut,\n        elasticInOut: elasticInOut,\n        backIn: backIn,\n        backOut: backOut,\n        backInOut: backInOut,\n        bounceIn: bounceIn,\n        bounceOut: bounceOut,\n        bounceInOut: bounceInOut\n    });\n\n    function plainArray(arr) {\n      var result = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i]) {\n          result.push(arr[i].x);\n          result.push(arr[i].y);\n        }\n      }\n\n      return result;\n    }\n\n    function interpolateNumber(a, b) {\n      a = +a;\n      b -= a;\n      return function (t) {\n        return a + b * t;\n      };\n    }\n\n    function interpolateArray(a, b) {\n      var nb = b ? b.length : 0;\n      var na = a ? Math.min(nb, a.length) : 0;\n      var x = new Array(na);\n      var c = new Array(nb);\n      var i;\n\n      for (i = 0; i < na; ++i) {\n        x[i] = interpolateNumber(a[i], b[i]);\n      }\n\n      for (; i < nb; ++i) {\n        c[i] = b[i];\n      }\n\n      return function (t) {\n        for (i = 0; i < na; ++i) {\n          c[i] = x[i](t);\n        }\n\n        return c;\n      };\n    }\n\n    var Animator = /*#__PURE__*/function () {\n      function Animator(shape, source, timeline) {\n        this.hasStarted = false;\n        this.hasEnded = false;\n        this.shape = shape;\n        this.source = source;\n        this.timeline = timeline;\n        this.animate = null;\n      } // delay, attrs, duration, easing\n\n\n      var _proto = Animator.prototype;\n\n      _proto.to = function to(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var delay = cfg.delay || 0;\n        var attrs = cfg.attrs || {};\n        var duration = cfg.duration || 1000;\n        var easing; // 缓动函数\n\n        if (typeof cfg.easing === 'function') {\n          easing = cfg.easing;\n        } else {\n          easing = Easing[cfg.easing] || linear$1;\n        }\n\n        var animInfo = {\n          shape: this.shape,\n          delay: delay,\n          duration: duration,\n          easing: easing\n        };\n        var interpolate = {}; // 差值函数\n\n        for (var attrName in attrs) {\n          var startValue = this.source[attrName];\n          var endValue = attrs[attrName];\n\n          if (attrName === 'points') {\n            startValue = plainArray(startValue);\n            endValue = plainArray(endValue);\n            interpolate.points = interpolateArray(startValue, endValue);\n            this.source.points = startValue;\n            attrs.points = endValue;\n          } else if (attrName === 'matrix') {\n            interpolate.matrix = interpolateArray(startValue, endValue);\n          } else {\n            interpolate[attrName] = interpolateNumber(startValue, endValue);\n          }\n        }\n\n        animInfo.interpolate = interpolate;\n        animInfo.startState = this.source;\n        animInfo.endState = attrs;\n        this.timeline.pushAnim(animInfo);\n        this.animate = animInfo;\n        return this;\n      };\n\n      _proto.onFrame = function onFrame(callback) {\n        // 自定义每一帧动画的动作\n        if (this.animate) {\n          this.animate.onFrame = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onStart = function onStart(callback) {\n        if (this.animate) {\n          this.animate.onStart = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onUpdate = function onUpdate(callback) {\n        if (this.animate) {\n          this.animate.onUpdate = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onEnd = function onEnd(callback) {\n        if (this.animate) {\n          this.animate.onEnd = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      return Animator;\n    }();\n\n    var defaultAnimationCfg = {\n      appear: {\n        duration: 450,\n        easing: 'quadraticOut'\n      },\n      // 'appear' animation options\n      update: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'update' animation options\n      enter: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'enter' animation options\n      leave: {\n        duration: 350,\n        easing: 'quadraticIn'\n      } // 'leave' animation options\n\n    };\n    var Animate = {\n      defaultCfg: {},\n      Action: {},\n      getAnimation: function getAnimation(geomType, coord, animationType) {\n        var geomAnimateCfg = this.defaultCfg[geomType];\n\n        if (geomAnimateCfg) {\n          var animation = geomAnimateCfg[animationType];\n\n          if (isFunction(animation)) {\n            return animation(coord);\n          }\n        }\n\n        return false;\n      },\n      getAnimateCfg: function getAnimateCfg(geomType, animationType) {\n        var defaultCfg = defaultAnimationCfg[animationType];\n        var geomConfig = this.defaultCfg[geomType];\n\n        if (geomConfig && geomConfig.cfg && geomConfig.cfg[animationType]) {\n          return deepMix({}, defaultCfg, geomConfig.cfg[animationType]);\n        }\n\n        return defaultCfg;\n      },\n      registerAnimation: function registerAnimation(animationName, animationFun) {\n        var _extends2;\n\n        if (!this.Action) {\n          this.Action = {};\n        }\n\n        this.Action = _extends({}, this.Action, (_extends2 = {}, _extends2[animationName] = animationFun, _extends2));\n      }\n    };\n\n    /**\n     * Utility\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function getCoordInfo(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      return {\n        start: start,\n        end: end,\n        width: end.x - start.x,\n        height: Math.abs(end.y - start.y)\n      };\n    }\n\n    function getScaledMatrix(shape, v, direct) {\n      var scaledMatrix;\n      shape.apply(v);\n      var x = v[0];\n      var y = v[1];\n\n      if (direct === 'x') {\n        shape.transform([['t', x, y], ['s', 0.01, 1], ['t', -x, -y]]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = Matrix.transform(matrix, [['t', x, y], ['s', 100, 1], ['t', -x, -y]]);\n      } else if (direct === 'y') {\n        shape.transform([['t', x, y], ['s', 1, 0.01], ['t', -x, -y]]);\n\n        var _matrix = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix, [['t', x, y], ['s', 1, 100], ['t', -x, -y]]);\n      } else if (direct === 'xy') {\n        shape.transform([['t', x, y], ['s', 0.01, 0.01], ['t', -x, -y]]);\n\n        var _matrix2 = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix2, [['t', x, y], ['s', 100, 100], ['t', -x, -y]]);\n      }\n\n      return scaledMatrix;\n    }\n\n    function getAnimateParam(animateCfg, index, id) {\n      var result = {};\n\n      if (animateCfg.delay) {\n        result.delay = isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay;\n      }\n\n      result.easing = animateCfg.easing;\n      result.duration = animateCfg.duration;\n      result.delay = animateCfg.delay;\n      return result;\n    }\n\n    function doAnimation(shape, endState, animateCfg, callback) {\n      var id = shape._id;\n      var index = shape.get('index');\n\n      var _getAnimateParam = getAnimateParam(animateCfg, index, id),\n          easing = _getAnimateParam.easing,\n          delay = _getAnimateParam.delay,\n          duration = _getAnimateParam.duration;\n\n      var anim = shape.animate().to({\n        attrs: endState,\n        duration: duration,\n        delay: delay,\n        easing: easing\n      });\n\n      if (callback) {\n        anim.onEnd(function () {\n          callback();\n        });\n      }\n    }\n\n    /**\n     * Animation functions for shape\n     * @author sima.zhang1990@gmail.com\n     */\n    /*\n    function waveIn(shape, animateCfg, coord) {\n      const clip = Helpers.getClip(coord);\n      clip.set('canvas', shape.get('canvas'));\n      shape.attr('clip', clip);\n      const onEnd = function() {\n        shape.attr('clip', null);\n        clip.remove(true);\n      };\n      Helpers.doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function scaleInX(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      let x;\n      const y = (box.minY + box.maxY) / 2;\n\n      if (points[0].y - points[1].y > 0) { // 当顶点在零点之下\n        x = box.maxX;\n      } else {\n        x = box.minX;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n\n    function scaleInY(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      const x = (box.minX + box.maxX) / 2;\n      let y;\n\n      if (points[0].y - points[1].y <= 0) { // 当顶点在零点之下\n        y = box.maxY;\n      } else {\n        y = box.minY;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n    */\n\n    function fadeIn(shape, animateCfg) {\n      var fillOpacity = isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n      var strokeOpacity = isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n      shape.attr('fillOpacity', 0);\n      shape.attr('strokeOpacity', 0);\n      var endState = {\n        fillOpacity: fillOpacity,\n        strokeOpacity: strokeOpacity\n      };\n      doAnimation(shape, endState, animateCfg);\n    }\n\n    var ShapeAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        fadeIn: fadeIn\n    });\n\n    /**\n     * Group animate functions\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function _groupScaleIn(container, animateCfg, coord, zeroY, type) {\n      var _getCoordInfo = getCoordInfo(coord),\n          start = _getCoordInfo.start,\n          end = _getCoordInfo.end,\n          width = _getCoordInfo.width,\n          height = _getCoordInfo.height;\n\n      var x;\n      var y;\n      var clip = new Shape$2.Rect({\n        attrs: {\n          x: start.x,\n          y: end.y,\n          width: width,\n          height: height\n        }\n      });\n\n      if (type === 'y') {\n        x = start.x + width / 2;\n        y = zeroY.y < start.y ? zeroY.y : start.y;\n      } else if (type === 'x') {\n        x = zeroY.x > start.x ? zeroY.x : start.x;\n        y = start.y + height / 2;\n      } else if (type === 'xy') {\n        if (coord.isPolar) {\n          x = coord.center.x;\n          y = coord.center.y;\n        } else {\n          x = (start.x + end.x) / 2;\n          y = (start.y + end.y) / 2;\n        }\n      }\n\n      var endMatrix = getScaledMatrix(clip, [x, y], type);\n      clip.isClip = true;\n      clip.endState = {\n        matrix: endMatrix\n      };\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function _shapeScale(container, animateCfg, type) {\n      var shapes = container.get('children');\n      var x;\n      var y;\n      var endMatrix;\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        var box = shape.getBBox();\n        x = (box.minX + box.maxX) / 2;\n        y = (box.minY + box.maxY) / 2;\n        endMatrix = getScaledMatrix(shape, [x, y], type);\n        doAnimation(shape, {\n          matrix: endMatrix\n        }, animateCfg);\n      }\n    }\n\n    function groupScaleInX(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'x');\n    }\n\n    function groupScaleInY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'y');\n    }\n\n    function groupScaleInXY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n    }\n\n    function shapesScaleInX(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'x');\n    }\n\n    function shapesScaleInY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'y');\n    }\n\n    function shapesScaleInXY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'xy');\n    }\n\n    function groupWaveIn(container, animateCfg, coord) {\n      var clip = getClip(coord);\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      var endState = {};\n\n      if (coord.isPolar) {\n        var startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        endState.endAngle = endAngle;\n        clip.attr('endAngle', startAngle);\n      } else {\n        var start = coord.start,\n            end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n\n        if (coord.isTransposed) {\n          clip.attr('height', 0);\n          endState.height = height;\n        } else {\n          clip.attr('width', 0);\n          endState.width = width;\n        }\n      }\n\n      doAnimation(clip, endState, animateCfg, onEnd);\n    }\n\n    var GroupAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        groupWaveIn: groupWaveIn,\n        groupScaleInX: groupScaleInX,\n        groupScaleInY: groupScaleInY,\n        groupScaleInXY: groupScaleInXY,\n        shapesScaleInX: shapesScaleInX,\n        shapesScaleInY: shapesScaleInY,\n        shapesScaleInXY: shapesScaleInXY\n    });\n\n    /**\n     * Handle the detail animations\n     * @author sima.zhang1990@gmail.com\n     */\n    var timeline;\n\n    Element.prototype.animate = function () {\n      var attrs = mix({}, this.get('attrs'));\n      return new Animator(this, attrs, timeline);\n    };\n\n    Chart.prototype.animate = function (cfg) {\n      this.set('animate', cfg);\n      return this;\n    };\n\n    Animate.Action = ShapeAction;\n    Animate.defaultCfg = {\n      interval: {\n        enter: function enter(coord) {\n          if (coord.isPolar && coord.transposed) {\n            // for pie chart\n            return function (shape) {\n              shape.set('zIndex', -1);\n              var container = shape.get('parent');\n              container.sort();\n            };\n          }\n\n          return fadeIn;\n        }\n      },\n      area: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      line: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      path: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      }\n    };\n    var GROUP_ANIMATION = {\n      line: function line(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      area: function area(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      path: function path(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      point: function point() {\n        return shapesScaleInXY;\n      },\n      interval: function interval(coord) {\n        var result;\n\n        if (coord.isPolar) {\n          // polar coodinate\n          result = groupScaleInXY;\n\n          if (coord.transposed) {\n            // pie chart\n            result = groupWaveIn;\n          }\n        } else {\n          result = coord.transposed ? groupScaleInX : groupScaleInY;\n        }\n\n        return result;\n      },\n      schema: function schema() {\n        return groupWaveIn;\n      }\n    };\n\n    function diff(fromAttrs, toAttrs) {\n      var endState = {};\n\n      for (var k in toAttrs) {\n        if (isNumber(fromAttrs[k]) && fromAttrs[k] !== toAttrs[k]) {\n          endState[k] = toAttrs[k];\n        } else if (isArray(fromAttrs[k]) && JSON.stringify(fromAttrs[k]) !== JSON.stringify(toAttrs[k])) {\n          endState[k] = toAttrs[k];\n        }\n      }\n\n      return endState;\n    } // Add a unique id identifier to each shape\n\n\n    function _getShapeId(geom, dataObj, geomIdx) {\n      var type = geom.get('type');\n      var id = 'geom' + geomIdx + '-' + type;\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.value;\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id += '-' + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id += '-' + type;\n      } else {\n        id += xScale.isCategory ? '-' + xVal : '-' + xVal + '-' + yVal;\n      }\n\n      var groupScales = geom._getGroupScales();\n\n      each(groupScales, function (groupScale) {\n        var field = groupScale.field;\n\n        if (groupScale.type !== 'identity') {\n          id += '-' + dataObj[field];\n        }\n      });\n      return id;\n    } // get geometry's shapes\n\n\n    function getShapes(geoms, chart, coord) {\n      var shapes = [];\n      each(geoms, function (geom, geomIdx) {\n        var geomContainer = geom.get('container');\n        var geomShapes = geomContainer.get('children');\n        var type = geom.get('type');\n        var animateCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n        if (animateCfg !== false) {\n          each(geomShapes, function (shape, index) {\n            if (shape.get('className') === type) {\n              shape._id = _getShapeId(geom, shape.get('origin')._origin, geomIdx);\n              shape.set('coord', coord);\n              shape.set('animateCfg', animateCfg);\n              shape.set('index', index);\n              shapes.push(shape);\n            }\n          });\n        }\n\n        geom.set('shapes', geomShapes);\n      });\n      return shapes;\n    }\n\n    function cache(shapes) {\n      var rst = {};\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        if (!shape._id || shape.isClip) continue;\n        var id = shape._id;\n        rst[id] = {\n          _id: id,\n          type: shape.get('type'),\n          // the type of shape\n          attrs: mix({}, shape._attrs.attrs),\n          // the graphics attributes of shape\n          className: shape.get('className'),\n          geomType: shape.get('className'),\n          index: shape.get('index'),\n          coord: shape.get('coord'),\n          animateCfg: shape.get('animateCfg')\n        };\n      }\n\n      return rst;\n    }\n\n    function getAnimate(geomType, coord, animationType, animationName) {\n      var result;\n\n      if (isFunction(animationName)) {\n        result = animationName;\n      } else if (isString(animationName)) {\n        result = Animate.Action[animationName];\n      } else {\n        result = Animate.getAnimation(geomType, coord, animationType);\n      }\n\n      return result;\n    }\n\n    function getAnimateCfg(geomType, animationType, animateCfg) {\n      if (animateCfg === false || isObject(animateCfg) && animateCfg[animationType] === false) {\n        return false;\n      }\n\n      var defaultCfg = Animate.getAnimateCfg(geomType, animationType);\n\n      if (animateCfg && animateCfg[animationType]) {\n        return deepMix({}, defaultCfg, animateCfg[animationType]);\n      }\n\n      return defaultCfg;\n    }\n\n    function addAnimate(cache, shapes, canvas) {\n      var animate;\n      var animateCfg; // the order of animation: leave -> update -> enter\n\n      var updateShapes = [];\n      var newShapes = [];\n      each(shapes, function (shape) {\n        var result = cache[shape._id];\n\n        if (!result) {\n          newShapes.push(shape);\n        } else {\n          shape.set('cacheShape', result);\n          updateShapes.push(shape);\n          delete cache[shape._id];\n        }\n      }); // first do the leave animation\n\n      each(cache, function (deletedShape) {\n        var className = deletedShape.className,\n            coord = deletedShape.coord,\n            _id = deletedShape._id,\n            attrs = deletedShape.attrs,\n            index = deletedShape.index,\n            type = deletedShape.type;\n        animateCfg = getAnimateCfg(className, 'leave', deletedShape.animateCfg);\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'leave', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          var tempShape = canvas.addShape(type, {\n            attrs: attrs,\n            index: index,\n            canvas: canvas,\n            className: className\n          });\n          tempShape._id = _id;\n          animate(tempShape, animateCfg, coord);\n        }\n      }); // then do the update animation\n\n      each(updateShapes, function (updateShape) {\n        var className = updateShape.get('className');\n        animateCfg = getAnimateCfg(className, 'update', updateShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        var coord = updateShape.get('coord');\n        var cacheAttrs = updateShape.get('cacheShape').attrs;\n        var endState = diff(cacheAttrs, updateShape._attrs.attrs); // 判断如果属性相同的话就不进行变换\n\n        if (Object.keys(endState).length) {\n          animate = getAnimate(className, coord, 'update', animateCfg.animation);\n\n          if (isFunction(animate)) {\n            animate(updateShape, animateCfg, coord);\n          } else {\n            var startState = {};\n            each(endState, function (value, key) {\n              startState[key] = cacheAttrs[key];\n            });\n            updateShape.attr(startState);\n            updateShape.animate().to({\n              attrs: endState,\n              duration: animateCfg.duration,\n              easing: animateCfg.easing,\n              delay: animateCfg.delay\n            }).onEnd(function () {\n              updateShape.set('cacheShape', null);\n            });\n          }\n        }\n      }); // last, enter animation\n\n      each(newShapes, function (newShape) {\n        // 新图形元素的进场元素\n        var className = newShape.get('className');\n        var coord = newShape.get('coord');\n        animateCfg = getAnimateCfg(className, 'enter', newShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'enter', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          if (className === 'interval' && coord.isPolar && coord.transposed) {\n            var index = newShape.get('index');\n            var lastShape = updateShapes[index - 1];\n            animate(newShape, animateCfg, lastShape);\n          } else {\n            animate(newShape, animateCfg, coord);\n          }\n        }\n      });\n    }\n\n    function _getAnimateCfgByShapeType(type, chart) {\n      if (!type) {\n        return null;\n      }\n\n      var animateCfg = chart.get('animate');\n\n      if (type.indexOf('guide-tag') > -1) {\n        type = 'guide-tag';\n      }\n\n      if (isObject(animateCfg)) {\n        return animateCfg[type];\n      }\n\n      if (animateCfg === false) {\n        return false;\n      }\n\n      return null;\n    }\n\n    function afterCanvasInit()\n    /* chart */\n    {\n      timeline = new Timeline();\n      timeline.play();\n    }\n\n    function beforeCanvasDraw(chart) {\n      if (chart.get('animate') === false) {\n        return;\n      }\n\n      var isUpdate = chart.get('isUpdate');\n      var canvas = chart.get('canvas');\n      var coord = chart.get('coord');\n      var geoms = chart.get('geoms');\n      var caches = canvas.get('caches') || [];\n\n      if (caches.length === 0) {\n        isUpdate = false;\n      }\n\n      var cacheShapes = getShapes(geoms, chart, coord);\n\n      var _chart$get = chart.get('axisController'),\n          frontPlot = _chart$get.frontPlot,\n          backPlot = _chart$get.backPlot;\n\n      var axisShapes = frontPlot.get('children').concat(backPlot.get('children'));\n      var guideShapes = [];\n\n      if (chart.get('guideController')) {\n        guideShapes = chart.get('guideController').guideShapes;\n      }\n\n      var componentShapes = [];\n      axisShapes.concat(guideShapes).forEach(function (s) {\n        var className = s.get('className');\n\n        var animateCfg = _getAnimateCfgByShapeType(className, chart);\n\n        s.set('coord', coord);\n        s.set('animateCfg', animateCfg);\n        componentShapes.push(s);\n        cacheShapes.push(s);\n      });\n      canvas.set('caches', cache(cacheShapes));\n\n      if (isUpdate) {\n        addAnimate(caches, cacheShapes, canvas);\n      } else {\n        // do the appear animation\n        var animateCfg;\n        var animate;\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var geomCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n          if (geomCfg !== false) {\n            animateCfg = getAnimateCfg(type, 'appear', geomCfg);\n            animate = getAnimate(type, coord, 'appear', animateCfg.animation);\n\n            if (isFunction(animate)) {\n              var shapes = geom.get('shapes');\n              each(shapes, function (shape) {\n                animate(shape, animateCfg, coord);\n              });\n            } else if (GROUP_ANIMATION[type]) {\n              // do the default animation\n              animate = GroupAction[animateCfg.animation] || GROUP_ANIMATION[type](coord);\n              var yScale = geom.getYScale();\n              var zeroY = coord.convertPoint({\n                x: 0,\n                y: yScale.scale(geom.getYMinValue())\n              });\n              var container = geom.get('container');\n              animate && animate(container, animateCfg, coord, zeroY);\n            }\n          }\n        }); // do the animation of components\n\n        each(componentShapes, function (shape) {\n          var animateCfg = shape.get('animateCfg');\n          var className = shape.get('className');\n\n          if (animateCfg && animateCfg.appear) {\n            // if user configure\n            var defaultCfg = Animate.getAnimateCfg(className, 'appear');\n            var appearCfg = deepMix({}, defaultCfg, animateCfg.appear);\n\n            var _animate = getAnimate(className, coord, 'appear', appearCfg.animation);\n\n            if (isFunction(_animate)) {\n              _animate(shape, appearCfg, coord);\n            }\n          }\n        });\n      }\n    }\n\n    function afterCanvasDestroyed()\n    /* chart */\n    {\n      timeline.stop();\n    }\n    var detail = {\n      afterCanvasInit: afterCanvasInit,\n      beforeCanvasDraw: beforeCanvasDraw,\n      afterCanvasDestroyed: afterCanvasDestroyed\n    };\n\n    var Animation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        afterCanvasInit: afterCanvasInit,\n        beforeCanvasDraw: beforeCanvasDraw,\n        afterCanvasDestroyed: afterCanvasDestroyed,\n        'default': detail\n    });\n\n    Chart._Interactions = {};\n\n    Chart.registerInteraction = function (type, constructor) {\n      Chart._Interactions[type] = constructor;\n    };\n\n    Chart.getInteraction = function (type) {\n      return Chart._Interactions[type];\n    };\n\n    Chart.prototype.interaction = function (type, cfg) {\n      var interactions = this._interactions || {};\n\n      if (interactions[type]) {\n        // if reprated, destroy last\n        interactions[type].destroy();\n      }\n\n      var Ctor = Chart.getInteraction(type);\n      var interact = new Ctor(cfg, this);\n      interactions[type] = interact;\n      this._interactions = interactions;\n      return this;\n    };\n\n    Chart.prototype.clearInteraction = function (type) {\n      var interactions = this._interactions;\n      if (!interactions) return;\n\n      if (type) {\n        interactions[type] && interactions[type].destroy();\n        delete interactions[type];\n      } else {\n        each(interactions, function (interaction, key) {\n          interaction.destroy();\n          delete interactions[key];\n        });\n      }\n\n      return this;\n    };\n\n    function isValuesEqual(values, newValues) {\n      if (values.length !== newValues.length) {\n        return false;\n      }\n\n      var lastIndex = values.length - 1;\n      return values[0] === newValues[0] && values[lastIndex] === newValues[lastIndex];\n    } // 不同交互之间共享的上下文\n\n\n    var defaultRange = [0, 1];\n\n    var Context = /*#__PURE__*/function () {\n      // 最开始的原始值\n      // 当前显示的范围\n      // 缩放最小的点数\n      // 最小的缩放比例, 默认通过minCount计算\n      // minScale = 0.01;\n      // 交互开始时，ticks个数，主要为了每次缩放后，更新ticks个数\n      // lastTickCount;\n      function Context(chart) {\n        var _this = this;\n\n        _defineProperty(this, \"chart\", null);\n\n        _defineProperty(this, \"values\", null);\n\n        _defineProperty(this, \"range\", defaultRange);\n\n        _defineProperty(this, \"startRange\", defaultRange);\n\n        _defineProperty(this, \"minCount\", 10);\n\n        _defineProperty(this, \"_afterinit\", function () {\n          // 初始化value值\n          var scale = _this.getPinchScale(); // 记录原始全量数据\n\n\n          var values = [].concat(scale.values);\n          _this.values = values; // 最小的缩放比例\n\n          if (!_this.minScale) {\n            _this.minScale = _this.minCount / values.length;\n          } // 初始化的时候有设置range，则初始化成默认比例\n\n\n          if (_this.range !== defaultRange) {\n            _this.updateRange(_this.range);\n\n            _this.updateTicks();\n          }\n        });\n\n        _defineProperty(this, \"_afterdatachange\", function () {\n          _this.updateRange(_this.range);\n        });\n\n        this.chart = chart;\n\n        this._initEvent(chart);\n      }\n\n      var _proto = Context.prototype;\n\n      _proto._initEvent = function _initEvent(chart) {\n        // 在整体初始化后还需要设置一些初始状态\n        chart.on(EVENT_AFTER_INIT, this._afterinit);\n        chart.on(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      } // 缩放的主轴scale\n      ;\n\n      _proto.getPinchScale = function getPinchScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scale = chart.getXScale();\n        return scale;\n      } // 跟随轴的scale\n      ;\n\n      _proto.getFollowScale = function getFollowScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scales = chart.getYScales() || [];\n        return scales[0];\n      };\n\n      _proto.start = function start() {\n        var range = this.range;\n        var scale = this.getPinchScale();\n        var start = range[0],\n            end = range[1]; // 记录交互起始的范围\n\n        this.startRange = [start, end]; // 记录开始时的ticks个数\n\n        this.lastTickCount = scale.tickCount;\n      };\n\n      _proto.doZoom = function doZoom(leftScale, rightScale, zoom) {\n        var range = this.startRange,\n            minScale = this.minScale;\n        var start = range[0],\n            end = range[1];\n        var zoomOffset = 1 - zoom;\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * zoomOffset;\n        var leftOffset = rangeOffset * leftScale;\n        var rightOffset = rangeOffset * rightScale;\n        var newStart = Math.max(0, start - leftOffset);\n        var newEnd = Math.min(1, end + rightOffset);\n        var newRange = [newStart, newEnd]; // 如果已经到了最小比例，则不能再继续再放大\n\n        if (newEnd - newStart < minScale) {\n          return;\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.doMove = function doMove(ratio) {\n        // 不管是0， 还是其他，都不用处理\n        if (!ratio) return;\n        var range = this.startRange;\n        var start = range[0],\n            end = range[1];\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * ratio;\n        var newStart = start - rangeOffset;\n        var newEnd = end - rangeOffset; // 处理边界值\n\n        var newRange;\n\n        if (newStart < 0) {\n          newRange = [0, rangeLen];\n        } else if (newEnd > 1) {\n          newRange = [1 - rangeLen, 1];\n        } else {\n          newRange = [newStart, newEnd];\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.updateRange = function updateRange(range) {\n        var values = this.values; // 0， 1 的范围之间\n\n        var start = range[0],\n            end = range[1]; // start 不能小于0\n\n        start = Math.max(0, start); // end 不能大于1\n\n        end = Math.min(1, end); // 设置当前的范围\n\n        this.range = [start, end];\n        var len = values.length;\n        var valueStart = start * len;\n        var valueEnd = end * len; // 从原始数据里截取需要显示的数据\n\n        var newValues = values.slice(valueStart, valueEnd);\n        this.repaint(newValues);\n      };\n\n      _proto.repaint = function repaint(newValues) {\n        var chart = this.chart;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            ticks = scale.ticks; // 如果新数组和当前显示的数组相同，则不更新\n\n        if (isValuesEqual(currentValues, newValues)) {\n          return;\n        } // 更新主轴values\n\n\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: newValues\n        });\n        this.updateFollowScale(scale, newValues);\n        chart.repaint();\n      };\n\n      _proto.updateFollowScale = function updateFollowScale(pinchScale, pinchValues) {\n        var chart = this.chart;\n        var followScale = this.getFollowScale();\n        var pinchField = pinchScale.field,\n            pinchScaleType = pinchScale.type;\n        var followField = followScale.field; // 根据主轴的value值，找到所有从轴的value值\n\n        var values = []; // 转成map，让查找性能更高\n\n        var pinchValueMap = {};\n        pinchValues.forEach(function (item) {\n          pinchValueMap[item] = true;\n        });\n        var data = chart.get('data');\n        data.forEach(function (item) {\n          if (pinchScaleType === 'timeCat') {\n            var value = toTimeStamp(item[pinchField]);\n\n            if (pinchValueMap[value]) {\n              values.push(item[followField]);\n            }\n          }\n        });\n\n        var _getRange = getRange$1(values),\n            min = _getRange.min,\n            max = _getRange.max;\n\n        this.updateScale(followScale, {\n          min: min,\n          max: max,\n          nice: true\n        });\n      };\n\n      _proto.updateScale = function updateScale(scale, cfg) {\n        if (!scale) {\n          return;\n        }\n\n        scale.change(cfg);\n      } // 上一次的tick个数\n      ;\n\n      _proto.updateTicks = function updateTicks() {\n        var chart = this.chart,\n            values = this.values;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            tickCount = scale.tickCount; // 根据当前数据的比例，和定义的tickCount计算应该需要多少个ticks\n\n        var newTickCount = Math.round(tickCount * values.length / currentValues.length);\n        var catTicks = getTickMethod('cat');\n        var ticks = catTicks({\n          tickCount: newTickCount,\n          values: values\n        });\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: currentValues\n        }); // 更新完后，需要重新绘制一次\n\n        chart.repaint();\n      };\n\n      _proto.destroy = function destroy() {\n        var chart = this.chart;\n        chart.off(EVENT_AFTER_INIT, this._afterinit);\n        chart.off(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      };\n\n      return Context;\n    }();\n\n    var Base$2 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      // 交互的上下文\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      _proto.getInteractionContext = function getInteractionContext(chart) {\n        var interactionContext = chart.get('interactionContext');\n\n        if (interactionContext) {\n          return interactionContext;\n        }\n\n        interactionContext = new Context(chart);\n        chart.set('interactionContext', interactionContext);\n        return interactionContext;\n      };\n\n      function Base(cfg, chart) {\n        var _this = this;\n\n        _defineProperty(this, \"type\", '');\n\n        _defineProperty(this, \"startEvent\", 'touchstart');\n\n        _defineProperty(this, \"processEvent\", 'touchmove');\n\n        _defineProperty(this, \"endEvent\", 'touchend');\n\n        _defineProperty(this, \"resetEvent\", null);\n\n        _defineProperty(this, \"context\", null);\n\n        _defineProperty(this, \"_start\", function (ev) {\n          _this.preStart && _this.preStart(ev);\n\n          _this.start(ev);\n\n          _this.onStart && _this.onStart(ev);\n        });\n\n        _defineProperty(this, \"_process\", function (ev) {\n          _this.preProcess && _this.preProcess(ev);\n\n          _this.process(ev);\n\n          _this.onProcess && _this.onProcess(ev);\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          _this.preEnd && _this.preEnd(ev);\n\n          _this.end(ev);\n\n          _this.onEnd && _this.onEnd(ev);\n        });\n\n        _defineProperty(this, \"_reset\", function (ev) {\n          _this.preReset && _this.preReset(ev);\n\n          _this.reset(ev);\n\n          _this.onReset && _this.onReset(ev);\n        });\n\n        mix(this, this.getDefaultCfg(), cfg);\n        this.context = this.getInteractionContext(chart);\n        this.chart = chart; // 只处理range, 暂时先这么处理后面再看情况调整\n\n        var range = this.range;\n\n        if (range) {\n          this.context.range = range;\n        }\n\n        this._bindEvents(chart);\n      }\n\n      _proto._bindEvents = function _bindEvents(chart) {\n        var startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.on(startEvent, this._start);\n        canvas.on(processEvent, this._process);\n        canvas.on(endEvent, this._end);\n        canvas.on(resetEvent, this._reset);\n      };\n\n      _proto._clearEvents = function _clearEvents() {\n        var chart = this.chart,\n            startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.off(startEvent, this._start);\n        canvas.off(processEvent, this._process);\n        canvas.off(endEvent, this._end);\n        canvas.off(resetEvent, this._start);\n      };\n\n      // override\n      _proto.start = function start() {} // override\n      ;\n\n      _proto.process = function process() {} // override\n      ;\n\n      _proto.end = function end() {} // override\n      ;\n\n      _proto.reset = function reset() {};\n\n      _proto.destroy = function destroy() {\n        this.context.destroy();\n\n        this._clearEvents();\n      };\n\n      return Base;\n    }();\n\n    var Pan = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pan, _Base);\n\n      function Pan() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Pan.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pan',\n          startEvent: 'panstart',\n          processEvent: 'pan',\n          endEvent: 'panend'\n        };\n      };\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        var direction = e.direction,\n            deltaX = e.deltaX;\n\n        if (direction === 'up' || direction === 'down') {\n          return;\n        }\n\n        e.preventDefault && e.preventDefault();\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var ratio = deltaX / coordWidth;\n        context.doMove(ratio);\n      };\n\n      return Pan;\n    }(Base$2);\n\n    var Pinch = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pinch, _Base);\n\n      var _proto = Pinch.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pinch',\n          startEvent: 'pinchstart',\n          processEvent: 'pinch',\n          endEvent: 'pinchend'\n        };\n      };\n\n      function Pinch(cfg, chart) {\n        var _this;\n\n        _this = _Base.call(this, cfg, chart) || this;\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            context = _assertThisInitialize.context;\n\n        mix(context, cfg);\n        return _this;\n      }\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        e.preventDefault && e.preventDefault();\n        var zoom = e.zoom,\n            center = e.center;\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var leftLen = Math.abs(center.x - start.x);\n        var rightLen = Math.abs(end.x - center.x); // 计算左右缩放的比例\n\n        var leftScale = leftLen / coordWidth;\n        var rightScale = rightLen / coordWidth;\n        context.doZoom(leftScale, rightScale, zoom);\n      };\n\n      _proto.end = function end() {\n        // 缩放完成后再更新ticks\n        var context = this.context;\n        context.updateTicks();\n      };\n\n      return Pinch;\n    }(Base$2);\n\n    Chart.registerInteraction('pan', Pan);\n    Chart.registerInteraction('pinch', Pinch);\n\n    /**\n     * Default, without interactins\n     */\n    var Component = {\n      // 为了兼容之前版本\n      Marker: Shape$2.Marker,\n      Tooltip: Tooltip\n    }; // register plugins\n\n    Chart.plugins.register([Tooltip$1, Legend, Guide, Animation]); // 默认添加交互\n    var index = {\n      Component: Component,\n      Global: Global,\n      Chart: Chart,\n      Shape: Shape$1,\n      G: G,\n      Util: Util,\n      Helper: Helper,\n      track: track,\n      Animate: Animate\n    };\n\n    exports.Animate = Animate;\n    exports.Chart = Chart;\n    exports.Component = Component;\n    exports.G = G;\n    exports.Global = Global;\n    exports.Helper = Helper;\n    exports.Shape = Shape$1;\n    exports.Util = Util;\n    exports.default = index;\n    exports.track = track;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}