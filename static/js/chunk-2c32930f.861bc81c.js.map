{"version":3,"sources":["webpack:///./src/assets/images/arrow_b@2x.png","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/assets/images/record@2x.png","webpack:///./src/assets/images/back@2x.png","webpack:///./src/views/index/index.vue","webpack:///./src/views/index/IndexOption.vue","webpack:///./node_modules/@ethersproject/constants/lib.esm/addresses.js","webpack:///./src/views/index/IndexOption.vue?704c","webpack:///./src/views/index/IndexPool.vue","webpack:///./src/views/index/IndexPool.vue?38d4","webpack:///./src/views/index/index.vue?bc54","webpack:///./src/views/index/IndexOption.vue?7af8","webpack:///./src/views/index/IndexPool.vue?2675","webpack:///./src/views/index/IndexOption.vue?a4ea","webpack:///./src/views/index/index.vue?b8a8","webpack:///./src/assets/images/arrow_b@3x.png","webpack:///./src/views/index/index.vue?6cb2","webpack:///./src/assets/images/arr_g.png","webpack:///./src/assets/images/share.png","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/assets/images/arr_y.png","webpack:///./src/assets/images/record@3x.png","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/assets/images/close@2x.png","webpack:///./src/assets/images/close@3x.png","webpack:///./node_modules/@antv/f2/dist/f2.js"],"names":["module","exports","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","class","id","src","alt","active","tabsActive","tabClick","type","title","$router","push","style","autoplay","vertical","show-indicators","srcset","price","blockName","to","showColumnsPicker","columnsValue","amount","changeAmount","placeholder","extra","curMarketType","minAmount","Math","pow","maxAmount","address","wtType","changeWtType","initWallet","recordType","changeTab","line-width","wtRecords","item","Number","busdPerBeth","toFixed","isOpen","openPrice","openBlock","investBlock","minute","investAmount","investType","income","windIncome","canOpen","openOrder","records","investor","isWin","show","position","columns","onColumnsConfirm","showModal","duration","tokenAllowance","invest","size","approve","AddressZero","setup","store","data","marketType","state","accounts","web3","provider","BsnContract","BusdContract","windTokenContract","BsnDataContract","console","log","methods","decimals","balanceOf","balance","val","value","index","initWeb3","initContract","eth","Contract","BSNAbi","config","BsnAddress","BusdAddress","BSNDataAbi","BsnDataAddress","windToken","initData","getMarketTypeIds","getEthUsdt","getTokenAllowance","getWtList","getList","allowance","result","arr","comlArr","ids","forEach","marketTypes","params","getEthUsd","getUserInfo","userInfo","getBlockNumber","block","windeciams","_recordIds","getOrderById","order","getBlockPrice","getWin","back","winTokenAmount","unshift","sort","a","b","investTime","getGasPrice","gasPrice","openAward","send","from","getAllrecord","recordIds","BN","utils","toString","date","tag","chart","Chart","pixelRatio","window","devicePixelRatio","padding","tickCount","min","formatter","tooltip","showCrosshairs","showItemMarker","onShow","ev","items","axis","label","text","total","textCfg","textAlign","textBaseline","line","color","point","fill","lineWidth","render","refData","__scopeId","totalMarketWind","marketToTalMoney","curCycleIncome","showCyModal","userMarket","marketIncome","isGet","receiveMarketIncome","freezeTokenNum","userBlance","showDjModal","showShModal","totalPool","yesPool","freezeIncome","getReward","showDayPicker","day","onDayConfirm","addpoolMoney","wAmount","markerRedeem","userWindBlance","windAmount","windAllowance","freezeToken","approveWind","shAmount","withdrawFreezeToken","freezeContract","dayValue","freezeAbi","frozen","getCurCycleIncome","getFreezeToken","getMarketIncome","getTotalData","getFreezeIncome","decimalsWind","Promise","all","dividedToIntegerBy","cur","getCurDayNum","dayNum","getCurCycleData","yesMarketToTalMoney","curAmount","curDayMarketTotal","poolAmount","getProportion","proportion","marketProvide","multipliedBy","addMarketPool","wResult","stake","withdraw","earned","dividedBy","totalSupply","blance","curNum","getUserDayMarket","userNum","isDividend","_windToken","_marketToTalMoney","components","IndexOption","IndexPool","route","router","query","replace","$","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError","DESCRIPTORS","defineProperty","FunctionPrototype","Function","FunctionPrototypeToString","nameRE","NAME","configurable","get","match","error","factory","isArrayLike","isFinite","contains","indexOf","filter","func","isType","isFunction","isNil","Array","each","elements","rst","hasOwnProperty","keys","Object","obj","key","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","find","predicate","_predicate","getRange","values","filterValues","v","isNaN","max","tmp","apply","isString","str","uniq","resultArr","head","o","last","fixedBase","base","round","substr","parseFloat","isNumber","toString$1","lowerFirst","charAt","toLowerCase","substring","substitute","slice","upperFirst","toUpperCase","toString$2","getType","isBoolean","isDate","objectProto","isPrototype","Ctor","constructor","_mix","dist","mix","src1","src2","src3","MAX_MIX_LEVEL","_deepMix","level","maxLevel","deepMix","args","_i","m","isEmpty","isEqual","other","valueKeys","otherKeys","map","merge","dataArray","tmpMap","firstValue","groupToMap","fields","0","callback","row","unique","l","groups","group","appendConditions","_values","remove","splice","getRange$1","freeze","__proto__","supportsEventListenerOptions","supports","options","addEventListener","e","eventListenerOptions","passive","isWx","wx","getSystemInfoSync","isMy","my","isNode","global","isBrowser","document","sessionStorage","isCanvasElement","el","nodeType","nodeName","getPixelRatio","getStyle","property","currentStyle","defaultView","getComputedStyle","getPropertyValue","getWidth","width","offsetWidth","getHeight","height","offsetHeight","getDomById","getElementById","getRelativePosition","canvas","canvasDom","_canvasDom$getBoundin","getBoundingClientRect","top","left","paddingLeft","paddingTop","mouseX","x","mouseY","y","listener","removeEventListener","landscapePoint","landscape","convertPoints","touches","clientX","clientY","changedTouches","points","touch","_point","createEvent","event","measureText","font","ctx","createElement","getContext","isObjectValueEqual","assign","aProps","getOwnPropertyNames","bProps","propName","parsePadding","right","bottom","directionEnabled","mode","dir","toTimeStamp","Date","getTime","Util","color1","color2","defaultAxis","fontSize","stroke","grid","lineDash","tickLine","labelOffset","Theme","fontFamily","defaultColor","appendPadding","colors","shapes","sizes","common","circle","radius","shape","lineJoin","lineCap","area","fillOpacity","_defaultAxis","lang","general","withTitle","coord","cartesian","scale","linear","cat","timeCat","geometry","prefix","oneData","partData","allData","legend","Global","version","scales","widthRatio","column","rose","multiplePie","_defineProperty","enumerable","writable","_extends","_inheritsLoose","subClass","superClass","create","_assertThisInitialized","self","ReferenceError","setTheme","theme","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_DATA_CHANGE","EVENT_AFTER_DATA_CHANGE","EVENT_AFTER_SIZE_CHANGE","EVENT_AFTER_GEOM_INIT","EVENT_BEFORE_GEOM_DRAW","EVENT_AFTER_GEOM_DRAW","EVENT_CLEAR","EVENT_CLEAR_INNER","EVENT_REPAINT","EventEmit","__events","_proto","on","events","emit","_this","off","Base","_Emit","cfg","defaultCfg","getDefaultCfg","_attrs","set","destroy","destroyed","Plot","_init","start","end","xMin","xMax","yMin","yMax","tl","tr","bl","br","reset","isInRange","Matrix","generateDefault","isChanged","multiply","m1","m2","m11","m12","m21","m22","dx","dy","out","rotate","radian","c","cos","s","sin","translate","transform","actions","action","Vector2","sqrt","normalize","add","v1","v2","sub","dot","direction","angle","theta","acos","angleTo","angleLargeThanPI","PI","zero","distance","clone","transformMat2d","defaultMatrix","Base$1","_initDefaultCfg","plot","init","_scale","s1","s2","matrix","center","convertPoint","_this$_convertPoint","_convertPoint","vector","invertPoint","_invertPoint","Cartesian","_Base","transposed","isRect","xDim","yDim","toScaleString","invert","Rect","AttributeBase","method","mixedCallback","defaultCallback","userCallback","_len","_key","ret","_getAttrValue","isCategory","percent","getLinearValue","steps","step","floor","leftPercent","rstValue","getNames","names","getFields","field","getScale","mapping","_len2","_key2","_toOriginParam","param","isLinear","Position","rstX","rstY","scaleX","scaleY","j","xLen","yLen","yVal","xVal","Shape","gradient","Size","getValue","arr2hex","toRGBValue","calColor","rgb","hex2arr","parseInt","colorCache","black","blue","grey","green","orange","pink","purple","red","white","yellow","toHex","hex","r","g","shift","split","Color","gradient$1","Attr","Shape$1","ShapeBase","_coord","draw","container","drawShape","setCoord","parsePoint","isPolar","parsePoints","ShapeFactoryBase","defaultShapeType","getShape","getShapePoints","fn","getPoints","getDefaultPoints","_mix$1","registerFactory","factoryName","className","geomObj","registerShape","shapeType","shapeObj","registShape","getShapeFactory","mix$1","mix_1","Adjust","adjustNames","processAdjust","generateScaleAria","join","getText","generateCoordAria","xScale","yScale","xLabel","yLabel","GROUP_ATTRS","FIELD_ORIGIN","FIELD_ORIGIN_Y","parseFields","Geom","styleOptions","generatePoints","attrOptions","sortable","startOnZero","visible","connectNulls","ignoreEmptyGroup","isInit","_initAttrs","_processData","_getGroupScales","attrName","attr","getAttr","attrScales","_groupData","colDefs","groupScales","_setAttrOptions","attrCfg","_createAttr","_createAttrOption","defaultValues","option","_createScale","hasAdjust","change","nice","createScale","groupedArray","getYScale","some","subData","tempData","_saveOrigin","_numberic","_adjustData","_sort","origin","positionAttr","count","adjust","adjustType","Error","getXScale","xField","yField","adjustObject","_updateStackRange","mergeArray","tmpMin","tmpMax","mappedArray","itemArr","obj1","obj2","paint","shapeFactory","_beforeMapping","mappedData","_mapping","generateAria","mappedCache","record","mappedRecord","_getAttrValues","_name","getAttrValue","_generatePoints","isInCircle","getCallbackCfg","tmpCfg","getDrawCfg","opacity","nextPoints","_origin","shapeData","gShape","shapeAttr","createShapePointsCfg","nextData","aria","ariaLables","coordAriaLabel","_lang$geometry","groupScale","prefixLabel","firstObj","template","xValue","yValue","part","_normalizeValues","y0","getYMinValue","_getSnap","getSnapRecords","xfield","invertPointX","rangeMax","rangeMin","originValue","_isEqual","getRecords","animate","changeData","clearInner","clear","_display","hide","methodCache","getTickMethod","registerTickMethod","Scale","isContinuous","isIdentity","range","ticks","__cfg__","initCfg","getTicks","tick","idx","tickValue","res","getConfig","setDomain","calculateTicks","tickMethod","calcPercent","NaN","calcValue","extendStatics","d","setPrototypeOf","__extends","__","__spreadArrays","il","jl","Category","_super","scaledValue","domainRange","includes","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","_a","args_1","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","ZZ","offset","getTimezoneOffset","abs","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","now","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","literals","$0","$1","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","hour","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","regex","requiredField","matches","parser","dateWithoutTZ","validateFields","UTC","fecha","fecha1","bisector","getter","_lo","_hi","lo","hi","mid","FORMAT_METHOD","timeFormat","time","toTimeStamp$1","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","interval","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getInvertPercent","Linear","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","Infinity","secondMin_1","max_1","timeStamp","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","Quantile","map$1","getClass","registerClass","cls","Identity","DEFAULT_Q","eps","EPSILON","mod","simplicity","q","Q","lmin","lmax","lstep","simplicityMax","density","dmin","dmax","rt","densityMax","coverage","coverageMax","span","half","legibility","extended","onlyLoose","w","best","score","Q_1","sm","dm","delta","z","ceil","log10","cm","minStart","maxStart","isInteger","calculateCatTicks","tickInterval","ticks_1","valid","d3Linear","D3Linear","domain","DEFAULT_COUNT","e10","e5","e2","_domain","_b","i0","i1","stop","tickIncrement","d3ArrayTicks","reverse","power","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","calculateLogTicks","avg","pretty","h5","unit","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","ratio","calculateTimeCatTicks","lastValue","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","warn","CatTick","SNAP_COUNT_ARRAY","DEFAULT_COUNT$1","LinearTick","_ref","_ref2","getBestInterval","intervalCount","tickLength","fixedLength","getFixedLength","DECIMAL_LENGTH","getFactor","number","_ref3","avgInterval","calInterval","calMax","calMin","similarityIndex","similarityInterval","getInterval","startIndex","verify","intervalIsVerify","_ref4","num","indexOfExp","Linear$1","Identity$1","Category$1","TimeCat$1","isFullCircle","startAngle","endAngle","clearObj","Cat","ScaleController","defs","setFieldDef","updateScales","_getDef","def","_getDefaultType","_getScaleDef","values$1","_Array$getRange","isRounding","_adjustRange","_getScaleCfg","firstValue$1","_this$_getScaleCfg","newScale","_updateScale","_getScaleData","_this$_getScaleCfg2","adjustStartZero","Abastract","offsetFactor","frontContainer","backContainer","gridPoints","drawGrid","drawTicks","drawLine","drawLabels","tickCfg","getContainer","getOffsetPoint","getSidePoint","addShape","x1","y1","x2","y2","_id","labels","labelShape","_self$getSidePoint","getTextAlignInfo","gridCfg","subPoints","executedGrid","getAxisVector","getOffsetVector","axisVector","normal","verticalVector","offsetVector","align","baseLine","isTop","Line","_Abstract","lineCfg","formatTicks","first","AxisController","axisCfg","frontPlot","backPlot","axes","_isHide","_getLinePosition","dimType","_getLineCfg","_getCircleCfg","circleRadius","_getRadiusCfg","_getAxisCfg","verticalScale","maxWidth","maxHeight","labelCfg","executedLabel","textStyle","axisLabel","context","_axisLabel$getBBox","getBBox","_createAxis","coordType","createAxis","yScales","_isAutoPadding","userPadding","legendRange","circleAxis","_axes$right","_maxWidth","_labelOffset","_axes$left","_maxWidth2","_labelOffset2","_axes$bottom","_maxHeight","_labelOffset3","_updateLayout","appendCfg","verticalTicks","verticalTick","calcDirection","xDistance","yDistance","calcDistance","point1","point2","getCenter","PRESS_DELAY","EventController","emitEvent","startTime","startPoints","startDistance","pressTimeout","setTimeout","eventType","emitStart","clearPressTimeout","currentDistance","zoom","deltaX","deltaY","getEventType","prevMoveTime","lastMoveTime","prevMovePoints","lastMovePoints","emitEnd","intervalTime","velocity","_start","delegateEvent","processEvent","canvasEl","_click","_move","_end","_cancel","panEventListeners","pan","enable","isProcess","_this2","clearTimeout","pinch","CanvasElement","_EventEmit","setAttribute","dispatchEvent","supportEventListener","support","Event","CanvasElement$1","_mod","_addStop","addColorStop","_parseLineGradient","_shape$getBBox","minX","minY","maxX","maxY","tanTheta","tan","tanTheta2","createLinearGradient","_parseRadialGradient","circleCfg","fx","fy","fr","_color","_shape$getBBox2","createRadialGradient","parseStyle","firstCode","ALIAS_ATTRS_MAP","SHAPE_ATTRS","CLIP_SHAPES","Element","_initProperties","initAttrs","initTransform","zIndex","isGroup","isShape","getDefaultAttrs","_setAttr","_setAttrClip","alias","_getAttr","clip","argumentsLen","bbox","_afterAttrsSet","getParent","setContext","drawInner","restoreContext","save","resetTransform","createPath","resetContext","restore","elAttrs","setLineDash","hasFill","fillStyle","hasStroke","strokeStyle","isVisible","getAriaLabel","_this$_attrs","_getAriaLabel","ariaLabel","_removeFromParent","parent","children","getMatrix","setMatrix","setTransform","rad","sx","sy","moveTo","cx","cy","mo","isDestroyed","Shape$2","_Element","originOpacity","globalAlpha","strokeOpacity","calculateBox","parseRadius","minWidth","minHeight","_Shape","canFill","canStroke","createRadiusPath","lineTo","arc","closePath","beginPath","rect","ImageShape","_Rect","loading","image","drawImage","Image","_image","crossOrigin","onload","swidth","sheight","Circle","extremity","getCubicBezierXYatT","startPt","controlPt1","controlPt2","endPt","T","CubicN","t2","t3","cubicBezierBounds","c1","c2","t","pt","getBBoxFromPoints","getBBoxFromLine","x0","getBBoxFromArc","anticlockwise","diff","getBBoxFromBezierGroup","Line$1","Polygon","getPoint","smoothBezier","smooth","isLoop","constraint","prevPoint","nextPoint","cps","hasConstraint","d0","d1","sum","cp0","cp1","catmullRom2bezier","pointList","cp2","controlPointList","_filterPoints","filteredPoints","Polyline","constaint","sps","sp","bezierCurveTo","newPoints","lastPoint","Arc","Sector","r0","unitX","unitY","outerBBox","innerBBox","Rect$1","calcRotatedBox","absRotate","textWidthCacheCounter","textWidthCache","TEXT_CACHE_MAX","Text","lineCount","fontStyle","fontWeight","fontVariant","lineHeight","textArr","_getFontStyle","_getTextHeight","spaceingY","_getSpaceingY","subY","subText","fillText","_subText","strokeText","_getTextWidth","rotatedBox","Custom","SYMBOLS","square","Marker","symbol","SHAPE_MAP","INDEX","getComparer","compare","Container","getGroupClass","getChildren","addGroup","groupClass","contain","child","drawChildren","descendants","_setEvn","_self$_attrs","_item$_attrs","childAriaLabels","_childAriaLabel","childAriaLabel","Group","box","leftTop","leftBottom","rightTop","rightBottom","requestAnimationFrame","Canvas","_initPixelRatio","_initCanvas","beforeDraw","clearRect","changeSize","eventController","canvasDOM","getPointByClient","_beginDraw","toDraw","_endDraw","setAriaLabel","engines","registerEngine","engine","getEngine","G","createCanvas","renderer","getClip","margin","isClip","isPointInPlot","Helper","_isScaleExist","compareScale","flag","scaleValues","compareScaleValues","initPlugins","_plugins","_cacheId","register","plugins","plugin","unregister","getAll","notify","hook","descriptor","descriptors","ilen","cache","geomConstructor","methodName","geom","addGeom","rendered","geoms","filters","_syncYScales","syncY","syncScales","_getFieldsForLegend","filteredData","legendFields","_adjustScale","scaleController","_removeGeoms","_clearGeoms","_clearInner","_initFilteredData","_changeGeomsData","_initGeom","middlePlot","_initGeoms","_initCoord","coordCfg","C","_initLayout","newPlot","_initLayers","_initEvents","_initScaleController","_clearScaleController","axisController","condition","_renderAxis","repaint","_interactions","interaction","getPosition","getYScales","getRecord","getLegendItems","legendItems","colorAttr","scaleValue","marker","dataValue","checked","registerPlugins","chartPlugins","_landscape","track","splitPoints","yItem","splitArray","SHAPES","pointInfo","getPointsCfg","pointCfg","Point$1","_Geom","Point","hasStack","getStyle$1","drawLines","topPoints","bottomPoints","isStack","topShape","bottomShape","SHAPES$1","Path","splitArrayObj","splitedIndex","Line$3","_Path","equals","notEmpty","filterPoints","equalsCenter","eqls","drawRectShape","isSmooth","pointsLen","topSps","bottomSps","_n","_sp","drawShape$1","SHAPES$2","Area$1","Area","splitArrayfn","SizeMixin","initEvent","getDefaultSize","defaultSize","normalizeSize","getDimWidth","dimName","_getWidth","_toNormalizedSize","_toCoordSize","getNormalizedSize","getSize","getRectPoints","xmin","xmax","ymin","ymax","getRectRange","xValues","yValues","getMiddlePoint","_cfg$center","v0","rectCfg","polygonPoints","Interval$1","Interval","Polygon$2","temp","xCount","yCount","xOffset","yOffset","_sortValue","getCandlePoints","Schema$1","Schema","toString$3","isType$1","isType_1","isArray$1","isArray_1","isNil$1","isNil_1","_inheritsLoose$1","Stack","_Adjust","processStack","stackCache","positive","negative","reverseOrder","xkey","_typeof","Symbol","iterator","isObject$1","isObject_1","each$1","each_1","_inheritsLoose$2","MARGIN_RATIO","DODGE_RATIO","Dodge","marginRatio","dodgeRatio","getDodgeOffset","pre","next","dodgeValue","isFunction$1","isFunction_1","maxBy","maxData","maxBy_1","merge$1","merge_1","_inheritsLoose$3","ArrayUtil","Symmetric","cacheMax","groupFields","_getMax","dim","mergeData","maxRecord","maxValue","_getXValuesMax","_processSymmetric","valueMax","subVal","Polar","inner","innerRadius","maxRadius","startV","pointV","percentX","percentY","Circle$1","_getCirclePoint","KEYWORDS_PERCENT","median","GuideBase","_getNormalizedValue","parsePercentPoint","xPercent","yPercent","limitInPlot","element","changeVisible","display","Arc$1","_GuideBase","coordCenter","atan2","getOffsetFromAlign","alignX","alignY","modifyCSS","DOM","CSS","createDom","innerHTML","childNodes","Html","offsetX","offsetY","html","myNode","visibility","parentNode","wrapperNode","appendChild","canvasOffsetTop","offsetTop","canvasOffsetLeft","offsetLeft","newOffset","removeChild","Line$4","Rect$2","Text$1","content","Tag","direct","autoAdjust","side","background","withPoint","pointStyle","_getDirect","tagWidth","tagHeight","clientWidth","clientHeight","horizontal","wrapperContainer","pointShape","tagContainer","tagText","textBBox","tagBg","arrowPoints","sideShape","Point$2","MARKER_RADIUS","List","_renderTitle","_renderItems","showTitle","titleGap","itemGap","itemMarginBottom","itemFormatter","itemWidth","wordSpace","layout","joinString","wrapper","itemsGroup","titleShape","titleHeight","titleStyle","_titleHeight","reversed","_addItem","_adjustItems","_renderBackground","_wrapper$getBBox","backShape","nameText","itemGroup","unCheckStyle","unCheckColor","nameStyle","valueStyle","startX","markerAttrs","markerShape","_formatItemValue","valueX","_getMaxItemWidth","maxItemWidth","_children$i$getBBox","_width","maxLength","twoAvgWidth","threeAvgWidth","_adjustHorizontal","rowWidth","legendHitBoxes","childHeight","childWidth","_adjustVertical","colHeight","totalWidth","setItems","clearItems","setTitle","TextBox","updateContent","updatePosition","backgroundShape","textShape","_getBBox","_this$_getBBox","tipWidth","tipHeight","_height","_this$_getBBox2","GAP","Tooltip","custom","fixed","tooltipArrow","showXTip","xTipBackground","xTipTextStyle","xTipBox","showYTip","yTipBackground","yTipTextStyle","yTipBox","_renderCrosshairs","crosshairsStyle","crosshairsType","xTip","yTip","setContent","setYTipContent","setYTipPosition","pos","plotRange","crosshairsShapeX","yTipHeight","yTipWidth","posX","posY","setXTipContent","setXTipPosition","crosshairsShapeY","canvasHeight","xTipWidth","xTipHeight","setXCrosshairPosition","setYCrosshairPosition","setPosition","containerBBox","_x","arrowY","setMarkers","_cfg","markerGroup","_getMarkerGroup","clearMarkers","_getTooltipValueScale","colorScale","getTooltipName","nameScale","valueScale","getTooltipValue","getTooltipTitle","_indexOfArray","_uniqItems","isEqual$1","arr1","arr2","JSON","stringify","triggerOn","triggerOff","alwaysShow","showTooltipMarker","itemMarkerStyle","snap","TooltipController","_tooltipCfg","lastTimeStamp","showTooltip","hideTooltip","_chart","_setCrosshairsCfg","_getMaxLength","tooltipCfg","prePoint","bindEvents","unBindEvents","_lastActive","_getTooltipMarkerStyle","_cfg2","_chart$get","firstItem","lastItem","intervalWidth","tooltipMarkerStyle","_setTooltip","tooltipMarkerCfg","lastActive","tip","onChange","xTipPosX","yTipPosY","markerItems","tooltipMarkerType","tooltipMarkerItems","tooltipItem","onHide","_handleEvent","aMethod","handleShowEvent","handleHideEvent","tooltipController","afterGeomDraw","Tooltip$1","guide","GuideController","guides","guideShapes","_toString","_getId","_createGuide","ClassName","regionFilter","init$1","guideController","afterGeomDraw$1","Guide","LEGEND_GAP","MARKER_SIZE","DEFAULT_CFG","selectedMode","getPaddingByPos","LegendController","findItem","legends","legendPosX","legendPosY","clickedItem","clickedLegend","_createEvent","clicked","clickable","onClick","filteredVals","isSingeSelected","legendCfg","addLegend","fieldCfg","addCustomLegend","_addCategoryLegend","_isFiltered","lastCfg","_alignLegend","_self$plotRange","chartWidth","chartHeight","legendHeight","legendWidth","verticalAlign","preWidth","alignLegends","handleEvent","init$2","legendController","beforeGeomDraw","afterGeomDraw$2","clearInner$1","Legend","clock","performance","Timeline","anims","playing","play","update","pushAnim","animInfo","delay","endTime","currentTime","propertyAnim","hasEnded","startState","endState","interpolate","hasStarted","onStart","easing","onFrame","newValue","aLen","onUpdate","onEnd","linear$1","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Easing","plainArray","interpolateNumber","interpolateArray","nb","na","Animator","timeline","startValue","endValue","frame","defaultAnimationCfg","appear","enter","leave","Animate","Action","getAnimation","geomType","animationType","geomAnimateCfg","animation","getAnimateCfg","geomConfig","registerAnimation","animationName","animationFun","_extends2","getCoordInfo","getScaledMatrix","scaledMatrix","_matrix","_matrix2","getAnimateParam","animateCfg","doAnimation","_getAnimateParam","anim","fadeIn","ShapeAction","_groupScaleIn","zeroY","_getCoordInfo","endMatrix","_shapeScale","groupScaleInX","groupScaleInY","groupScaleInXY","shapesScaleInX","shapesScaleInY","shapesScaleInXY","groupWaveIn","isTransposed","GroupAction","path","GROUP_ANIMATION","schema","fromAttrs","toAttrs","_getShapeId","dataObj","geomIdx","getShapes","geomContainer","geomShapes","_getAnimateCfgByShapeType","getAnimate","addAnimate","updateShapes","newShapes","deletedShape","tempShape","updateShape","cacheAttrs","newShape","lastShape","afterCanvasInit","beforeCanvasDraw","isUpdate","caches","cacheShapes","axisShapes","componentShapes","geomCfg","appearCfg","_animate","afterCanvasDestroyed","detail","Animation","isValuesEqual","newValues","lastIndex","_Interactions","registerInteraction","getInteraction","interactions","interact","clearInteraction","defaultRange","Context","getPinchScale","minScale","minCount","updateRange","updateTicks","_initEvent","_afterinit","_afterdatachange","getFollowScale","startRange","lastTickCount","doZoom","leftScale","rightScale","zoomOffset","rangeLen","rangeOffset","leftOffset","rightOffset","newStart","newEnd","newRange","doMove","valueStart","valueEnd","currentValues","updateScale","updateFollowScale","pinchScale","pinchValues","followScale","pinchField","pinchScaleType","followField","pinchValueMap","_getRange","newTickCount","catTicks","Base$2","preStart","preProcess","process","onProcess","preEnd","preReset","onReset","getInteractionContext","_bindEvents","interactionContext","startEvent","endEvent","resetEvent","_process","_reset","_clearEvents","Pan","preventDefault","coordWidth","Pinch","_assertThisInitialize","leftLen","rightLen","Component"],"mappings":"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","file":"static/js/chunk-2c32930f.861bc81c.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA+UlEQVRIS+2VPW7CQBBG39dwAk4QzgMVaVJRcINUwZFQpNipuAEFVapUyXngBJyAZqJF62gje3+MROdtd/a9nU9jr7jz0p35jIJswmNE+YjM7Bl4A76BlaRL9lSkwMwmwAFYAFtJO5nZEXjwZ5zk8RaJh38Bc886SZo5wQaog0v9AMshkh64w1WSmusUmZkTOFG7iiUReCOpcrC/Mb1FkoP/EwztJAKvJb2GM9D50Mzs3eWXiqsU3umghaYkQ+BRgY+rr5Mn4DMYRVfaiSUZUbjZ08kZmAY1SXiyg0Rc7VYWXiSIxFUELxZ4yQuwBvaSPkr/V+N7kE3qFz+QdBmJObKmAAAAAElFTkSuQmCC\"","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAOVBMVEUAAAAfx9Qfx9Uky9Iex9QYyc4fx9Qfx9QcxtUfx9QfyNQfx9Qfx9MeyNMcxtAfx9Qex9Qfx9Qfx9TWk5SmAAAAEnRSTlMA+oQGbgr0yBHcz8V6bxvQdtHGrpxGAAAAtElEQVQ4y+2Uyw6DIBBFHUCgPtvz/x9bE6cGdTQuurBJz3JymHAJuVVB7R7CgjxcXZnULRta23TscFvHhxSZ6Hwx65iIKRSzoWHGr66iw2ZYzqq326iMn2kACdm+Yw4CQcUE/XHqJyQVBfLxO2YQFYHqBOD3RCdsEGeKwo54eeM/9c1SizNEM3W8vPGmP/xrojbFIRli2T022j3rNrNYt5kfOeXly8Y9ZhyKdu1TxCSmft73BpxYJqN+c+7xAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAABJUlEQVRYR9XYuxHCMAwGYGkFWARmoGcUlmEd2IFJaCmdU87OJY7jVxRJpAbfZxn/CkJgepxzJ1oKEb8cSyLHIh71IhcA3Dhwu2Ez1NVv8sOB2wVLoMIBPBHxsec0umEZFB3pHRF/4rCjUeMlat2VBKoZJoVqgkmiqmHSqCqYBqoI86g3AFyiS8ISCbmLt3krNVGbFdNGJWEWUCuYFdQCZgk1wTKo1o7F8nmkxxrKvwWPsDMAUC7FWcWy+55FxorRF63hJlgBd3jKp6q6SP5M5cRxq5ZkJTaSvdIC7r+aePgxalau+GdEC1eE+SihuYToC2MVTANXDZPGNcEkcc0wKVwXbIajVhXGTyFlWNpXN6yA0xtDRSE8r5z+4C6BszPqjHBsw+EBlZLUJzmdgLwAAAAASUVORK5CYII=\"","<template>\r\n  <div class=\"container\" id=\"indexPage\">\r\n    <div class=\"header-box flex-center\">\r\n      <div class=\"side-left flex-center\">\r\n        <img src=\"~@/assets/images/back@2x.png\" alt=\"\">\r\n      </div>\r\n      <van-tabs v-model:active=\"tabsActive\" @click=\"tabClick\" type=\"card\" class=\"flex-item middle\">\r\n        <!-- 期权 -->\r\n        <van-tab title=\"期权\" name=\"1\"></van-tab>\r\n        <!-- 矿池 -->\r\n        <van-tab title=\"矿池\" name=\"2\"></van-tab>\r\n      </van-tabs>\r\n      <div class=\"side-right flex-center\" @click=\"$router.push({name: 'Share'})\">\r\n        <img src=\"~@/assets/images/share.png\" alt=\"\">\r\n      </div>\r\n    </div>\r\n    <div class=\"top-tip flex-middle\">\r\n      <van-swipe style=\"height: 30px;\" :autoplay=\"3000\" vertical :show-indicators=\"false\">\r\n        <van-swipe-item class=\"row\">\r\n          15:00恭喜0xsd...dddd获得150.00wind token和123412341234\r\n        </van-swipe-item>\r\n        <van-swipe-item class=\"row\">\r\n          16:00恭喜0xsd...dddd获得160.00wind token和1234123421354\r\n        </van-swipe-item>\r\n        <van-swipe-item class=\"row\">\r\n          17:00恭喜0xsd...dddd获得170.00wind token和634563463456\r\n        </van-swipe-item>\r\n        <van-swipe-item class=\"row\">\r\n          18:00恭喜0xsd...dddd获得180.00wind token和45234523452345\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n    </div>\r\n    <!-- 期权 -->\r\n    <template v-if=\"tabsActive === '1'\">\r\n      <index-option></index-option>\r\n    </template>\r\n    <!-- 矿池 -->\r\n    <template v-if=\"tabsActive === '2'\">\r\n      <index-pool></index-pool>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport IndexOption from \"./IndexOption\";\r\nimport IndexPool from \"./IndexPool\";\r\nexport default {\r\n  components: {\r\n    IndexOption,\r\n    IndexPool\r\n  },\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const data = reactive({\r\n      tabsActive: route.query.name,\r\n      tabClick: (name) => {\r\n        // console.log(name)\r\n        router.replace({\r\n          name: 'Index',\r\n          query: {\r\n            name: name\r\n          }\r\n        })\r\n      },\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n#indexPage {\r\n  .header-box .van-tabs__nav--card .van-tab {\r\n    font-size: 15px;\r\n  }\r\n  .van-cell {\r\n    height: 44px;\r\n    background: rgba(13, 14, 17, .8);\r\n    border-radius: 22px;\r\n    font-size: 16px;\r\n    .van-field__control {\r\n      color: #fff;\r\n    }\r\n    &::after {\r\n      border: 0;\r\n    }\r\n  }\r\n  .input-right {\r\n    font-size: 16px;\r\n    color: #FBC509;\r\n  }\r\n  .qq-block--tab>.van-tabs__wrap {\r\n    padding: 0 48px;\r\n  }\r\n  .qq-block--tab {\r\n    margin: 15px 15px;\r\n    background: rgba(27, 28, 35, 0.7);\r\n    border-radius: 25px;\r\n    padding: 20px 15px;\r\n    .qq-block--cont {\r\n      margin: 0;\r\n      padding: 4px 0;\r\n    }\r\n  }\r\n  .qq-block--cont {\r\n    margin: 20px 15px;\r\n    background: rgba(27, 28, 35, .7);\r\n    border-radius: 25px;\r\n    padding: 15px;\r\n    color: #fff;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n    .cell-tit {\r\n      font-size: 15px;\r\n      line-height: 42px;\r\n      .cell-tit--right {\r\n        font-size: 14px;\r\n        color: #FBC509;\r\n      }\r\n    }\r\n    .cell-sellect {\r\n      height: 44px;\r\n      background: rgba(13, 14, 17, .8);\r\n      border-radius: 22px;\r\n      padding: 0 16px;\r\n      color: #fff;\r\n      font-size: 16px;\r\n      margin-bottom: 12px;\r\n    }\r\n    .cell-type {\r\n      margin-bottom: 12px;\r\n      .btn + .btn {\r\n        margin-left: 14px;\r\n      }\r\n      .btn {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        border-radius: 40px;\r\n        text-align: center;\r\n        color: #787988;\r\n        font-size: 16px;\r\n        background: #373946;\r\n        border: 1px solid #5C5D68;\r\n        &.active-D4566C {\r\n          color: #fff;\r\n          background: #D4566C;\r\n          border-color: #D4566C;\r\n        }\r\n        &.active-2FBBA1 {\r\n          color: #fff;\r\n          background: #2FBBA1;\r\n          border-color: #2FBBA1;\r\n        }\r\n      }\r\n    }\r\n    .cell-msg {\r\n      font-size: 12px;\r\n      margin: 14px 0 0;\r\n      font-weight: normal;\r\n    }\r\n    .cell-button {\r\n      margin: 30px 0 9px;\r\n    }\r\n    .cell-number {\r\n      margin: 0 -7px;\r\n      margin-bottom: 5px;\r\n      .item {\r\n        width: 33.33%;\r\n        padding: 0 7px 7px;\r\n        span {\r\n          display: block;\r\n          text-align: center;\r\n          line-height: 34px;\r\n          background: #373946;\r\n          border: 1px solid #5C5D68;\r\n          border-radius: 22px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          color: #787988;\r\n        }\r\n        &.active {\r\n          span {\r\n            background: #FBC509;\r\n            border-color: #FBC509;\r\n            color: #0D0E11;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .cell-balance {\r\n      margin: -5px 0 7px;\r\n      .num {\r\n        font-size: 25px;\r\n        color: #452A7A;\r\n        margin: 0 0 5px;\r\n      }\r\n      .info-item + .info-item {\r\n        margin: 0 0 0 15px;\r\n      }\r\n      .info-item:nth-child(even) {\r\n        text-align: right;\r\n      }\r\n      .info-item {\r\n        .tit {\r\n          font-size: 13px;\r\n        }\r\n        .num {\r\n          font-size: 20px;\r\n          margin: 2px 0 0;\r\n        }\r\n      }\r\n    }\r\n    .cell-tip {\r\n      margin: 10px 0 0;\r\n      font-size: 13px;\r\n      .cell-tip--link {\r\n        background: rgba(31, 199, 212, .2);\r\n        color: #1FC7D4;\r\n        padding: 0 13px;\r\n        height: 23px;\r\n        line-height: 23px;\r\n        border-radius: 12px;\r\n      }\r\n    }\r\n  }\r\n  .modal-box {\r\n    width: 315px;\r\n    background: rgba(37, 38, 43, 1);\r\n    border-radius: 25px;\r\n    overflow: hidden;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    .modal-close {\r\n      position: absolute;\r\n      top:0;\r\n      right: 0;\r\n      width: 52px;\r\n      height: 52px;\r\n    }\r\n    .modal-title {\r\n      line-height: 52px;\r\n      text-align: center;\r\n      font-size: 18px;\r\n      color: rgba(255, 255, 255, 1);\r\n    }\r\n    .modal-cont {\r\n      padding: 4px 17px 0;\r\n      .row + .row {\r\n        margin-top: 8px;\r\n      }\r\n      .label {\r\n        color: rgba(153, 153, 153, 1);\r\n      }\r\n      .cont {\r\n        word-break: break-all;\r\n      }\r\n    }\r\n    .modal-btn {\r\n      background: rgba(251, 197, 9, 1);\r\n      color: rgba(20, 21, 26, 1);\r\n      margin-top: 24px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  padding-top: 49px !important;\r\n}\r\n.header-box {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 100%;\r\n  max-width: 640px;\r\n  background: #14151a;\r\n  z-index: 100;\r\n  .side-left,\r\n  .side-right {\r\n    width: 49px;\r\n    height: 49px;\r\n    img {\r\n      width: 19px;\r\n    }\r\n  }\r\n  .side-left {\r\n    margin-right: 29px;\r\n  }\r\n  .side-right {\r\n    margin-left: 29px;\r\n  }\r\n}\r\n.top-tip {\r\n  margin: 10px 15px 12px;\r\n  background: rgba(251, 197, 9, .2);\r\n  height: 39px;\r\n  border-radius: 39px;\r\n  color: #fff;\r\n  font-size: 12px;\r\n  padding: 0 16px;\r\n  .row {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    line-height: 30px;\r\n    padding-right: 18px;\r\n    background: url('~@/assets/images/arrow_b@2x.png') no-repeat right center;\r\n    background-size: 12px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"indexOption\">\r\n    <div class=\"qq-chart\">\r\n      <div class=\"flex-middle coin-title\">BETH<img src=\"~@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n      <div class=\"coin-num\">\r\n        <div class=\"flex-middle\">\r\n          <span class=\"price\">{{price}}BUSDT</span>\r\n          <!-- <span class=\"rate\">+1.23%</span> -->\r\n        </div>\r\n        <!-- <div class=\"s-price\">$2900.00</div> -->\r\n      </div>\r\n      <div class=\"chart-box border-1px-t\">\r\n        <div class=\"flex-between\">\r\n          <div class=\"name\">价格($)</div>\r\n          <div class=\"flex-item flex-middle cont\">\r\n            <span class=\"c-FBC509\">已结算</span><img src=\"~@/assets/images/arr_y.png\" alt=\"\">\r\n            <span class=\"c-5AF10B\">已结算</span><img src=\"~@/assets/images/arr_g.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"chart\">\r\n          <canvas id=\"boxCanvas\"></canvas>\r\n        </div>\r\n        <div class=\"tip c-FBC509\">温馨提示：您有未领取的收益请及时领取</div>\r\n      </div>\r\n      <!-- <div class=\"chart-box border-1px-t\">\r\n        <div class=\"chart-btns flex\">\r\n          <span class=\"btn-item active\">24H</span>\r\n          <span class=\"btn-item\">近一周</span>\r\n          <span class=\"btn-item\">近一月</span>\r\n          <span class=\"btn-item\">近一年</span>\r\n          <span class=\"btn-item\">全部</span>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <van-tabs v-model:active=\"blockName\" type=\"card\" class=\"qq-block--tab\">\r\n      <van-tab title=\"期权板块\" name=\"qq\">\r\n        <div class=\"qq-block--cont\">\r\n          <div class=\"cell-tit flex-between\">\r\n            请选择委托周期\r\n            <router-link class=\"cell-tit--right\" :to=\"{name: 'List'}\">历史记录</router-link>\r\n          </div>\r\n          <div class=\"cell-sellect flex-between\" @click=\"showColumnsPicker = true\">\r\n            {{columnsValue}}\r\n            <img src=\"@/assets/images/arrow_b@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/arrow_b@3x.png')} 3x`\" class=\"icon_arrow\">\r\n          </div>\r\n          <div class=\"cell-tit\">请输入委托数量</div>\r\n          <div class=\"cell-number flex-wrap\">\r\n            <div class=\"item\" :class=\"{'active': amount == '100'}\" @click=\"changeAmount('100')\"><span>100BUSD</span></div>\r\n            <div class=\"item\" :class=\"{'active': amount == '200'}\" @click=\"changeAmount('200')\"><span>200BUSD</span></div>\r\n            <div class=\"item\" :class=\"{'active': amount == '1000'}\" @click=\"changeAmount('1000')\"><span>1000BUSD</span></div>\r\n          </div>\r\n          <van-field\r\n            class=\"mb15\"\r\n            type=\"number\"\r\n            v-model=\"amount\"\r\n            placeholder=\"请输入您的委托数量\">\r\n            <template #extra><span class=\"input-right\">BUSD</span></template>\r\n          </van-field>\r\n          <div class=\"cell-tit\" v-if=\"curMarketType\">委托限制：{{curMarketType.minAmount / Math.pow(10,6)}}BUSD-{{curMarketType.maxAmount / Math.pow(10,6)}}BUSD</div>\r\n          <div class=\"cell-type flex\" v-if=\"address\">\r\n            <div class=\"btn flex-item\" :class=\"{'active-2FBBA1': wtType === 1}\" @click=\"changeWtType(1)\">看涨</div>\r\n            <div class=\"btn flex-item\" :class=\"{'active-D4566C': wtType === 0}\" @click=\"changeWtType(0)\">看跌</div>\r\n          </div>\r\n          <div class=\"cell-type flex\" v-else>\r\n            <div class=\"btn flex-item active-D4566C\"  @click=\"initWallet\">连接钱包</div>\r\n          </div>\r\n          <div class=\"cell-msg\">注：一个地址在一个区块内仅接受<span class=\"c-FBC509\">一次转账</span>，且单笔转账不能超过<span class=\"c-FBC509\">100000BUSD</span>，超出将按照上限记录下单金额，多余部分在下一区块退回。</div>\r\n          <div class=\"coin-address\">\r\n            <div class=\"tit\">钱包地址</div>\r\n            <div class=\"cont\">地址 {{address}}</div>\r\n          </div>\r\n          <!-- <div class=\"cell-button\">\r\n            <van-button type=\"primary\" size=\"large\" @click=\"showModal = true\">确定</van-button>\r\n          </div> -->\r\n        </div>\r\n      </van-tab>\r\n      <van-tab title=\"流水记录\" class=\"ls\">\r\n        <div class=\"qq-block--record\">\r\n          <van-tabs v-model:active=\"recordType\" @click=\"changeTab\" class=\"qq-block--recordtab\" line-width=\"25px\">\r\n            <van-tab title=\"我的委托\" name=\"1\"></van-tab>\r\n            <van-tab title=\"未开奖\" name=\"2\"></van-tab>\r\n            <van-tab title=\"已开奖\" name=\"3\"></van-tab>\r\n          </van-tabs>\r\n          <div>\r\n            <div v-if=\"recordType === '1'\" class=\"list\">\r\n              <div class=\"item\" v-for=\"item in wtRecords\">\r\n                <div class=\"title flex\">\r\n                  <div class=\"flex-item\">BETH {{Number(item.busdPerBeth/Math.pow(10, 10)).toFixed(8)}}-{{item.isOpen ? Number(item.openPrice/Math.pow(10, 10)).toFixed(8) : '*****'}}BUSD</div>\r\n                  <div class=\"status\" v-if=\"item.isOpen && item.openPrice != item.busdPerBeth\" >\r\n                    <span class=\"c-2FBBA1\" v-if=\"item.openPrice - item.busdPerBeth > 0\">涨</span><span v-else class=\"c-D4566C\">跌</span>\r\n                  </div>\r\n                  <div class=\"status c-D4566C\" v-if=\"item.isOpen && item.openPrice == item.busdPerBeth\">返回本金</div>\r\n                </div>\r\n                <div class=\"flex row\">\r\n                  <div class=\"label\">委托周期：</div>\r\n                  <div class=\"flex-item cont\">{{item.openBlock - item.investBlock}}个区块({{item.minute}}分钟)</div>\r\n                </div>\r\n                <div class=\"flex row\">\r\n                  <div class=\"label\">委托金额：</div>\r\n                  <div class=\"flex-item cont\">{{item.investAmount}}BUSD <span class=\"c-D4566C\" v-if=\"item.investType == 0\">看跌</span><span v-else class=\"c-2FBBA1\">看涨</span></div>\r\n                </div>\r\n                <div class=\"flex row\">\r\n                  <div class=\"label\">资金变化：</div>\r\n                  <template v-if=\"item.isOpen\">\r\n                  <div class=\"flex-item cont\" v-if=\"item.income\"><span class=\"c-2FBBA1\">+{{item.income}}BUSD</span></div>\r\n                  <div class=\"flex-item cont\" v-else-if=\"item.busdPerBeth == item.openPrice\"><span class=\"c-2FBBA1\">+{{item.investAmount}}BUSD</span></div>\r\n                  <div class=\"flex-item cont\" v-if=\"item.windIncome\"><span class=\"c-2FBBA1\">+{{item.windIncome}}WIND</span></div>\r\n                  </template>\r\n                  <div class=\"flex-item cont\" v-else><span class=\"c-2FBBA1\">*******</span></div>\r\n                  <div class=\"btn\" v-if=\"item.canOpen\" @click=\"openOrder(item.id)\">点击开奖</div>\r\n                  <div class=\"flex-item\" style=\"text-align: right\" v-if=\"!item.canOpen && !item.isOpen\"><span class=\"c-2FBBA1\">等待开奖</span></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <template v-else>\r\n            <div class=\"record-item\" v-for=\"item in records\" v-show=\"item.isOpen == (recordType === '3')\">\r\n              <div class=\"flex-between title\">\r\n                <div class=\"flex-item\">{{item.investor}}</div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.openPrice != item.busdPerBeth\" >\r\n                  <span class=\"c-2FBBA1\" v-if=\"item.openPrice - item.busdPerBeth > 0\">涨</span><span v-else class=\"c-D4566C\">跌</span>\r\n                </div>\r\n                <div class=\"status\" v-if=\"item.isOpen && item.openPrice == item.busdPerBeth\">返回本金</div>\r\n                <!-- <div class=\"status c-D4566C\">错误</div> -->\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\">委托方向：<span class=\"c-D4566C\" v-if=\"item.investType == 0\">看跌</span><span v-else class=\"c-2FBBA1\">看涨</span></div>\r\n                <div class=\"flex-item text-r\">委托数量：{{item.investAmount}}BUSD</div>\r\n              </div>\r\n              <div class=\"flex\">\r\n                <div class=\"flex-item\" v-if=\"!item.isWin && item.isOpen\">委托本金：扣除</div>\r\n                <div class=\"flex-item\" v-else-if=\"item.isWin && item.isOpen\">委托本金：+{{item.income}}BUSD</div>\r\n                <div class=\"flex-item\" v-else>委托本金：暂未开奖</div>\r\n                <div class=\"flex-item text-r\">区块：{{item.investBlock}}-{{item.openBlock}}</div>\r\n              </div>\r\n              <div class=\"flex\" v-if=\"item.isOpen\">\r\n                <div class=\"flex-item\">额外获得：<span class=\"c-2FBBA1\" v-if=\"Number(item.income)\">{{Number(item.income - item.investAmount).toFixed(2)}}BUSD</span> <span class=\"c-2FBBA1\" v-if=\"Number(item.windIncome)\">{{item.windIncome}}WIND</span></div>\r\n              </div>\r\n            </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n  <!-- 选择委托周期 -->\r\n  <van-popup v-model:show=\"showColumnsPicker\" position=\"bottom\">\r\n    <van-picker\r\n      :columns=\"columns\"\r\n      @confirm=\"onColumnsConfirm\"\r\n      @cancel=\"showColumnsPicker = false\"\r\n    />\r\n  </van-popup>\r\n  <!-- 确认委托 -->\r\n  <van-popup v-model:show=\"showModal\" :style=\"{ background: 'transparent' }\">\r\n    <div class=\"modal-box\">\r\n      <div class=\"modal-title\">确认委托</div>\r\n      <div class=\"modal-close flex-center\" @click=\"showModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n      <div class=\"modal-cont\">\r\n        <!-- <div class=\"row flex\">\r\n          <div class=\"label\">当前BETH起始价格：</div>\r\n          <div class=\"cont text-r flex-item\">{{price}}BUSD</div>\r\n        </div> -->\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托周期：</div>\r\n          <div class=\"cont text-r flex-item\">{{curMarketType.duration}}个块({{curMarketType.minute}}分钟)</div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托方向：</div>\r\n          <div class=\"cont text-r flex-item\">\r\n            <span class=\"c-2FBBA1\" v-if=\"wtType === 1\">看涨</span>\r\n            <span class=\"c-D4566C\" v-if=\"wtType === 0\">看跌</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"row flex\">\r\n          <div class=\"label\">委托金额：</div>\r\n          <div class=\"cont text-r flex-item\">{{amount}}BUSD</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-btn\" v-if=\"Number(tokenAllowance)\">\r\n        <van-button type=\"primary\" @click=\"invest\" size=\"large\">确定</van-button>\r\n      </div>\r\n      <div class=\"modal-btn\" v-else>\r\n        <van-button type=\"primary\" @click=\"approve\" size=\"large\">授权BUSD</van-button>\r\n      </div>\r\n    </div>\r\n  </van-popup>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs, computed, watch, onMounted} from \"vue\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport { MaxUint256, AddressZero } from \"@ethersproject/constants\";\r\nimport config from \"@/utils/config\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport {useStore} from \"vuex\";\r\nimport Web3 from \"web3\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nimport F2 from '@antv/f2';\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      showModal: false,\r\n      price: '',\r\n      amount: '',\r\n      blockName: 'qq',\r\n      columns: [],\r\n      marketType: [],\r\n      curMarketType: null,\r\n      showColumnsPicker: false,\r\n      columnsValue: '请选择',\r\n      wtType: 1,\r\n      recordType: '1',\r\n      isOpen: false,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      BsnContract: null,\r\n      BusdContract: null,\r\n      tokenAllowance: 0,\r\n      records: [],\r\n      wtRecords: [],\r\n      windTokenContract: null,\r\n      BsnDataContract: null,\r\n      changeTab: (name) => {\r\n        console.log(data.recordType)\r\n        console.log(name)\r\n        data.isOpen = !!(name === '2')\r\n        console.log(data.isOpen)\r\n      },\r\n      changeWtType: async (type) => {\r\n        data.wtType = type\r\n        if (!data.curMarketType) {\r\n          Toast('请选择委托周期')\r\n          return\r\n        }\r\n        if (!data.amount) {\r\n          Toast('请输入投资金额')\r\n          return\r\n        }\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        if (data.amount < data.curMarketType.minAmount/Math.pow(10, decimals) || data.amount > data.curMarketType.maxAmount/Math.pow(10, decimals)) {\r\n          Toast('超出投资区间')\r\n          return\r\n        };\r\n        let balance = await data.BusdContract.methods.balanceOf(data.address).call();\r\n        if (data.amount > balance/Math.pow(10, decimals)) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        data.showModal = true\r\n      },\r\n      changeAmount: (val) => {\r\n        data.amount = val;\r\n      },\r\n      onColumnsConfirm: (value, index) => {\r\n        data.columnsValue = value;\r\n        data.showColumnsPicker = false;\r\n        data.curMarketType = data.marketType[index]\r\n      },\r\n       initWallet: () => {\r\n         web3Data.initWeb3()\r\n       },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.windTokenContract = new data.web3.eth.Contract(tokenAbi, config.windToken)\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getMarketTypeIds()\r\n        data.getEthUsdt()\r\n        data.getTokenAllowance()\r\n        data.getWtList()\r\n        data.getList()\r\n      },\r\n      getTokenAllowance: async () => {\r\n        let result = await data.BusdContract.methods.allowance(data.address, config.BsnAddress).call();\r\n        data.tokenAllowance = result\r\n      },\r\n      getMarketTypeIds: async() => {\r\n        console.log(data.BsnContract)\r\n        let arr = []\r\n        let comlArr = []\r\n        let ids = await data.BsnContract.methods.getMarketTypeIds().call()\r\n        ids.forEach(async item => {\r\n          let result = await data.BsnContract.methods.marketTypes(item).call()\r\n          let params = {\r\n            minute: result.minute,\r\n            duration: result.duration,\r\n            maxAmount: result.maxAmount,\r\n            minAmount: result.minAmount,\r\n          }\r\n          arr.push(params)\r\n          comlArr.push(`${result.duration}个块(${result.minute}分钟)`)\r\n        });\r\n        data.marketType = arr\r\n        data.columns = comlArr\r\n      },\r\n      getEthUsdt: async () => {\r\n        let result = await data.BsnContract.methods.getEthUsd().call();\r\n        let price = result / Math.pow(10, 10);\r\n        data.price = Number(price).toFixed(4);\r\n      },\r\n      getWtList: async () => {\r\n        data.wtRecords = []\r\n        let userInfo = await data.BsnDataContract.methods.getUserInfo(data.address).call();\r\n        let block = await data.web3.eth.getBlockNumber()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let windeciams = await data.windTokenContract.methods.decimals().call();\r\n        userInfo._recordIds.forEach(async (item) => {\r\n          let order = await data.BsnDataContract.methods.getOrderById(item).call();\r\n          let price = await data.BsnContract.methods.getBlockPrice(order.openBlock).call()\r\n          let result = await data.BsnContract.methods.getWin(item).call()\r\n          console.log(result)\r\n          if (price > 0 &&  block >= order.openBlock && !order.isOpen) {\r\n            order.canOpen = true;\r\n          }\r\n          if (price > 0 &&  block >= order.openBlock) {\r\n            if (result.back > 0) {\r\n              order.income = Number(result.back/Math.pow(10, decimals)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = true;\r\n            } else {\r\n              order.income = Number(result.back/Math.pow(10, windeciams)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = false;\r\n            }\r\n          }\r\n          if (price <=0) {\r\n            order.canOpen = false;\r\n          }\r\n          console.log(order)\r\n          order.id = item;\r\n          order.openPrice = price;\r\n          order.investAmount =Number(order.investAmount / Math.pow(10, decimals)).toFixed(2)\r\n          data.wtRecords.unshift(order)\r\n          data.wtRecords = data.wtRecords.sort((a, b) => b.investTime - a.investTime);\r\n        })\r\n      },\r\n      openOrder:async (id) => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.BsnContract.methods.openAward(id).send({from: data.address, gasPrice: gasPrice});\r\n         Toast('开奖成功')\r\n        data.getWtList()\r\n      },\r\n      getList: async () => {\r\n        let recordIds = await data.BsnDataContract.methods.getAllrecord().call();\r\n        let block = await data.web3.eth.getBlockNumber()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let windeciams = await data.windTokenContract.methods.decimals().call();\r\n        recordIds.forEach(async (item) => {\r\n          let order = await data.BsnDataContract.methods.getOrderById(item).call();\r\n          let price = await data.BsnContract.methods.getBlockPrice(order.openBlock).call()\r\n          let result = await data.BsnContract.methods.getWin(item).call()\r\n          if (price > 0 &&  block >= order.openBlock && !order.isOpen) {\r\n            order.canOpen = true;\r\n          }\r\n          if (price > 0 &&  block >= order.openBlock) {\r\n            if (result.back > 0) {\r\n              order.income = Number(result.back/Math.pow(10, decimals)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = true;\r\n            } else {\r\n              order.income = Number(result.back/Math.pow(10, windeciams)).toFixed(2)\r\n              order.windIncome = Number(result.winTokenAmount * 8/Math.pow(10, windeciams)/9).toFixed(2)\r\n              order.isWin = false;\r\n            }\r\n          }\r\n          if (price <=0) {\r\n            order.canOpen = false;\r\n          }\r\n          order.id = item;\r\n          order.openPrice = price;\r\n          order.investAmount =Number(order.investAmount / Math.pow(10, decimals)).toFixed(2)\r\n          data.records.unshift(order)\r\n        })\r\n      },\r\n      approve: async () => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.BusdContract.methods.approve(config.BsnAddress, MaxUint256).send({from: data.address, gasPrice: gasPrice});\r\n        Toast('授权成功')\r\n        data.getTokenAllowance()\r\n      },\r\n      invest: async () => {\r\n        data.showModal = false;\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let BN = Web3.utils.BN;\r\n        let amount = new BN(data.amount * Math.pow(10, decimals)).toString();\r\n        let result = await data.BsnContract.methods.invest(data.wtType, data.curMarketType.minute, amount, AddressZero).send({from: data.address, gasPrice: gasPrice});\r\n        if (result) {\r\n          Toast('下单成功')\r\n        }\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    onMounted(() => {\r\n      var data = [{\r\n        date: \"515123305\",\r\n        value: 11.6,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123306\",\r\n        value: 12.9,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123307\",\r\n        value: 13.5,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123308\",\r\n        value: 8.6,\r\n        tag: 2\r\n      }, {\r\n        date: \"515123309\",\r\n        value: 7.3,\r\n        tag: 2\r\n      }, {\r\n        date: \"515123310\",\r\n        value: 8.5,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123311\",\r\n        value: 7.3,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123320\",\r\n        value: 20.6,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123321\",\r\n        value: 13.7,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123322\",\r\n        value: 12.8,\r\n        tag: 1\r\n      }, {\r\n        date: \"515123323\",\r\n        value: 8.5,\r\n        tag: 1\r\n      }];\r\n      var chart = new F2.Chart({\r\n        id: 'boxCanvas',\r\n        pixelRatio: window.devicePixelRatio,\r\n        padding: [0, 'auto', 'auto']\r\n      });\r\n      chart.source(data, {\r\n        value: {\r\n          tickCount: 5,\r\n          min: 0,\r\n          formatter: function formatter(val) {\r\n            return '$' + val;\r\n          }\r\n        },\r\n        date: {\r\n          tickCount: 3\r\n        }\r\n      });\r\n      chart.tooltip({\r\n        showCrosshairs: true,\r\n        showItemMarker: false,\r\n        onShow: function onShow(ev) {\r\n          const items = ev.items;\r\n          items[0].date = null;\r\n          items[0].value = items[0].value;\r\n        }\r\n      });\r\n      chart.axis('date', {\r\n        label: function label(text, index, total) {\r\n          var textCfg = {};\r\n          if (index === 0) {\r\n            textCfg.textAlign = 'left';\r\n          } else if (index === total - 1) {\r\n            textCfg.textAlign = 'right';\r\n          }\r\n          return textCfg;\r\n        }\r\n      });\r\n      chart.axis('value', {\r\n        label: function label(text, index, total) {\r\n          var textCfg = {};\r\n          if (index === 0) {\r\n            textCfg.textBaseline = 'bottom';\r\n          } else if (index === total - 1) {\r\n            textCfg.textBaseline = 'top';\r\n          }\r\n          return textCfg;\r\n        }\r\n      });\r\n      chart.line().position('date*value').color('rgba(47, 187, 161, 0.8)');\r\n      chart.point().position('date*value').size('tag', function(val) {\r\n        return val ? 4 : 0;\r\n      }).style('tag', {\r\n        fill: function fill(val) {\r\n          if (val === 2) {\r\n            return '#FBC509';\r\n          } else {\r\n            return '#5AF10B';\r\n          }\r\n        },\r\n        lineWidth: 1\r\n      });\r\n      chart.render();\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n#indexOption {\r\n  .qq-block--recordtab {\r\n    margin-bottom: 10px;\r\n    border-radius: 13px;\r\n    overflow: hidden;\r\n    .van-tabs__nav {\r\n      background: #22242B;\r\n      .van-tab {\r\n        color: #999999;\r\n      }\r\n      .van-tab--active {\r\n        color: #FBC509;\r\n      }\r\n      .van-tabs__line {\r\n        bottom: 18px;\r\n        background: #FBC509;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  padding-top: 107px !important;\r\n}\r\n.mb15 {\r\n  margin-bottom: 15px;\r\n}\r\n.qq-chart {\r\n  margin: 20px 15px;\r\n  background: rgba(27, 28, 35, .7);\r\n  border-radius: 25px;\r\n  padding: 20px 0 10px;\r\n  color: rgba(255, 255, 255, .25);\r\n  .coin-title {\r\n    font-size: 25px;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    padding: 0 20px;\r\n    .icon_arrow {\r\n      width: 12px;\r\n      height: 12px;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n  .coin-num {\r\n    padding: 0 20px 8px;\r\n    .price {\r\n      font-size: 25px;\r\n      color:#FBC509;\r\n      font-weight: bold;\r\n    }\r\n    .rate {\r\n      margin-left: 19px;\r\n      height: 23px;\r\n      line-height: 23px;\r\n      background: rgba(31, 199, 212, .2);\r\n      border-radius: 12px;\r\n      padding: 0 12px;\r\n      font-size: 14px;\r\n      color: #2FBBA1;\r\n      font-weight: bold;\r\n    }\r\n    .s-price {\r\n      font-size: 14px;\r\n      color: rgba(255, 255, 255, 0.25);\r\n    }\r\n  }\r\n  .chart-box {\r\n    padding: 15px 15px 0;\r\n    .chart {\r\n      margin-top: 12px;\r\n      width: 100%;\r\n      canvas {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .name {\r\n      font-size: 12px;\r\n      color: rgba(255, 255, 255, 1);\r\n      margin: 0 0 0 10px;\r\n    }\r\n    .cont {\r\n      font-size: 12px;\r\n      justify-content: flex-end;\r\n      img {\r\n        width: 8px;\r\n        height: 7px;\r\n        margin-left: 6px;\r\n      }\r\n      img + span {\r\n        margin: 0 0 0 20px;\r\n      }\r\n    }\r\n    .tip {\r\n      margin-left: 19px;\r\n      font-size: 12px;\r\n    }\r\n    .chart-btns {\r\n      overflow: auto;\r\n      .btn-item {\r\n        font-size: 12px;\r\n        font-weight: bold;\r\n        color: #1FC7D4;\r\n        line-height: 20px;\r\n        padding: 0 13px;\r\n        margin: 0 7px 10px 0;\r\n        white-space: nowrap;\r\n        &:last-child {\r\n          margin: 0;\r\n        }\r\n        &.active {\r\n          color: #fff;\r\n          background: #1FC7D4;\r\n          border-radius: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.coin-address {\r\n  margin: 15px 0 0;\r\n  font-weight: bold;\r\n  .tit {\r\n    font-size: 15px;\r\n  }\r\n  .cont {\r\n    margin-top: 8px;\r\n    word-break: break-all;\r\n    background: #0D0E11;\r\n    border-radius: 17px;\r\n    color: #FBC509;\r\n    font-size: 13px;\r\n    padding: 8px 13px;\r\n  }\r\n}\r\n.qq-block--tab {\r\n  margin: 15px 15px;\r\n  background: rgba(27, 28, 35, 0.7);\r\n  border-radius: 25px;\r\n  padding: 20px 15px;\r\n  .qq-block--cont {\r\n    margin: 0;\r\n  }\r\n}\r\n.qq-block--record {\r\n  padding: 15px 0 5px;\r\n  .record-item + .record-item {\r\n    margin-top: 15px;\r\n  }\r\n  .record-item {\r\n    background: #22242B;\r\n    border-radius: 13px;\r\n    padding: 0 12px 8px;\r\n    font-size: 12px;\r\n    color: #999;\r\n    line-height: 20px;\r\n    word-break: break-all;\r\n    .title {\r\n      color: #fff;\r\n      font-size: 15px;\r\n      font-weight: bold;\r\n      padding: 15px 0 7px;\r\n      word-break: break-all;\r\n      .status {\r\n        white-space: nowrap;\r\n        color: #FBC509;\r\n        font-size: 13px;\r\n        margin-left: 15px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.list {\r\n  .item {\r\n    background: #22242B;\r\n    border-radius: 13px;\r\n    padding: 12px;\r\n    color: #999999;\r\n    .row + .row {\r\n      margin: 6px 0 0;\r\n    }\r\n    .title {\r\n      font-weight: 800;\r\n      font-size: 15px;\r\n      color: #FFFFFF;\r\n      margin: 2px 0 6px;\r\n      .status {\r\n        font-size: 14px;\r\n        margin: 0 0 0 15px;\r\n      }\r\n    }\r\n    .cont {\r\n      word-break: break-all;\r\n    }\r\n    .btn {\r\n      padding: 0 22px;\r\n      height: 25px;\r\n      line-height: 25px;\r\n      color: #0D0E11;\r\n      background: #FBC509;\r\n      border-radius: 13px;\r\n      font-size: 12px;\r\n      margin: -9px 0 0 15px;\r\n    }\r\n  }\r\n  .item + .item {\r\n    margin-top: 15px;\r\n  }\r\n}\r\n</style>\r\n","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","import { render } from \"./IndexOption.vue?vue&type=template&id=10d4dd2b&scoped=true\"\nimport script from \"./IndexOption.vue?vue&type=script&lang=js\"\nexport * from \"./IndexOption.vue?vue&type=script&lang=js\"\n\nimport \"./IndexOption.vue?vue&type=style&index=0&id=10d4dd2b&lang=less\"\nimport \"./IndexOption.vue?vue&type=style&index=1&id=10d4dd2b&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-10d4dd2b\"\n\nexport default script","<template>\r\n  <div id=\"indexPool\">\r\n    \r\n    <div class=\"pool-block qq-block--cont pool-block--bg\">\r\n      <div class=\"pool-block--title\">\r\n        流动性挖矿\r\n      </div>\r\n      <div class=\"flex-between cell-balance\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">流动性挖矿总量(wind token)</p>\r\n          <p class=\"num big-num c-FBC509\">{{totalMarketWind}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-between cell-balance mt12\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">流动性挖矿余额(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{marketToTalMoney}}</p>\r\n        </div>\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">流动性挖矿损益(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{Number(curCycleIncome - marketToTalMoney).toFixed(2)}}</p>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"cell-tit\">委托数量</div>\r\n      <van-field\r\n        type=\"number\"\r\n        v-model=\"amount\"\r\n        placeholder=\"请输入您的委托数量\">\r\n        <template #extra><span class=\"input-right\">BUSD</span></template>\r\n      </van-field> -->\r\n      <!-- <div class=\"cell-button\">\r\n      </div> -->\r\n      <div class=\"cell-button flex\">\r\n        <van-button type=\"primary\" size=\"large\" @click=\"showCyModal = true\">冻结</van-button>\r\n        <van-button type=\"primary\" size=\"large\" color=\"#2FBBA1\" @click=\"showModal = true\">赎回</van-button>\r\n      </div>\r\n      <!-- 做市商累计分红 -->\r\n      <div class=\"flex-between cell-balance border-1px-t\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">我的冻结：</p>\r\n          <p class=\"num big-num\">{{userMarket}} BUSD</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-middle pool-block--link mt12\">\r\n        <div class=\"flex-item\">\r\n          <router-link class=\"c-FBC509\" :to=\"{name: 'ListPool'}\">\r\n            待领取金额记录>>\r\n          </router-link>\r\n        </div>\r\n        <div class=\"btn\" v-if=\"Number(marketIncome) > 0 && !isGet\" @click=\"receiveMarketIncome\">领取</div>\r\n        <div class=\"btn\" v-else-if=\"Number(userMarket) > 0 && isGet\">已领取</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"pool-block qq-block--cont\">\r\n      <div class=\"pool-block--title\">\r\n        锁仓分红\r\n      </div>\r\n      <div class=\"flex-between cell-balance\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit\">总冻结(wind token)</p>\r\n          <p class=\"num c-FBC509\">{{freezeTokenNum}}</p>\r\n        </div>\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit flex-middle icon-box\">我的冻结(wind token) <router-link class=\"icon-right\" :to=\"{name: 'ListFreeze'}\">\r\n          <img src=\"@/assets/images/record@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/record@3x.png')} 3x`\" class=\"icon-record\">\r\n        </router-link></p>\r\n          <p class=\"num c-FBC509\">{{userBlance}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"cell-button flex\">\r\n        <van-button type=\"primary\" size=\"large\" @click=\"showDjModal = true\">冻结</van-button>\r\n        <van-button type=\"primary\" size=\"large\" color=\"#2FBBA1\" @click=\"showShModal = true\">解冻</van-button>\r\n      </div>\r\n      <div class=\"flex-between cell-balance border-1px-t\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit fs12\">锁仓累积分红(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{totalPool}}</p>\r\n        </div>\r\n        <!-- <div class=\"info-item flex-item\">\r\n          <p class=\"tit fs12\">挖矿(已挖出wind token)</p>\r\n          <p class=\"num c-FBC509\">{{totalMarketWind}}</p>\r\n        </div> -->\r\n      </div>\r\n      <div class=\"flex-between cell-balance mt12\">\r\n        <div class=\"info-item flex-item\">\r\n          <p class=\"tit fs12\">上轮分红总额(BUSD)</p>\r\n          <p class=\"num c-FBC509\">{{yesPool}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"pool-block--tip\">我的待领取收益：{{freezeIncome}} BUSD</div>\r\n      <div class=\"flex-middle pool-block--link\">\r\n        <div class=\"flex-item\">\r\n          <router-link class=\"c-FBC509\" :to=\"{name: 'FrozenPool'}\">\r\n            领取记录>>\r\n          </router-link>\r\n        </div>\r\n        <div class=\"btn\" v-if=\"Number(freezeIncome)\" @click=\"getReward\">领取</div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 冻结天数 -->\r\n    <van-popup v-model:show=\"showDayPicker\" position=\"bottom\">\r\n      <van-picker\r\n        :columns=\"day\"\r\n        @confirm=\"onDayConfirm\"\r\n        @cancel=\"showDayPicker = false\"\r\n      />\r\n    </van-popup>\r\n    <!-- 流动性挖矿的冻结 -->\r\n    <van-popup v-model:show=\"showCyModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">冻结</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showCyModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"amount\"\r\n            placeholder=\"请输入您的委托数量\">\r\n            <template #extra><span class=\"input-right\">BUSD</span></template>\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else-if=\"!Number(tokenAllowance)\" @click=\"approve\">授权BUSD</van-button>\r\n          <van-button type=\"primary\" :block=\"true\" size=\"large\" v-else @click=\"addpoolMoney\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n    <!-- 赎回 -->\r\n    <van-popup v-model:show=\"showModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">赎回</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>赎回数量</div>\r\n            <div class=\"c-1FC7D4\">上限：{{userMarket}}</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"wAmount\"\r\n            placeholder=\"请输入赎回BUSD token\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"markerRedeem\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n    <!-- 冻结 -->\r\n    <van-popup v-model:show=\"showDjModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">冻结wind token</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showDjModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>余额</div>\r\n            <div class=\"c-1FC7D4\">{{userWindBlance}}wind token</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"windAmount\"\r\n            placeholder=\"请输入冻结wind token的数量\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else-if=\"!Number(windAllowance)\" @click=\"approveWind\">授权Wind Token</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"freezeToken\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n     <van-popup v-model:show=\"showShModal\" :style=\"{ background: 'transparent' }\">\r\n      <div class=\"modal-box\">\r\n        <div class=\"modal-title\">解冻</div>\r\n        <div class=\"modal-close flex-center\" @click=\"showShModal = false\"><img src=\"@/assets/images/close@2x.png\" alt=\"\" :srcset=\"`${require('@/assets/images/close@3x.png')} 3x`\" class=\"icon_arrow\"></div>\r\n        <div class=\"modal-cont\">\r\n          <div class=\"modal-tip flex-between\">\r\n            <div>解冻数量</div>\r\n            <div class=\"c-1FC7D4\">上限：{{userBlance}}</div>\r\n          </div>\r\n          <van-field\r\n            type=\"number\"\r\n            v-model=\"shAmount\"\r\n            placeholder=\"请输入解冻wind token\">\r\n          </van-field>\r\n        </div>\r\n        <div class=\"modal-btn\">\r\n          <van-button type=\"primary\" size=\"large\" v-if=\"!address\" @click=\"initWallet\">连接钱包</van-button>\r\n          <van-button type=\"primary\" size=\"large\" v-else @click=\"withdrawFreezeToken\">确定</van-button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport BSNAbi from \"@/utils/BSNAbi\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport BSNDataAbi from \"@/utils/BSNDataAbi\";\r\nimport freezeAbi from \"@/utils/freezeAbi\";\r\nimport { MaxUint256, AddressZero } from \"@ethersproject/constants\";\r\nimport config from \"@/utils/config\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport {useStore} from \"vuex\";\r\nimport Bignumber from \"bignumber.js\";\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n    const data = reactive({\r\n      day: [\r\n        '3天',\r\n        '4天'\r\n      ],\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      BsnContract: null,\r\n      amount: '',\r\n      windAmount: '',\r\n      BusdContract: null,\r\n      freezeContract: null,\r\n      windTokenContract: null,\r\n      BsnDataContract: null,\r\n      freezeTokenNum: 0,\r\n      windAllowance: 0,\r\n      tokenAllowance: 0,\r\n      marketToTalMoney: 0,\r\n      userMarket: 0,\r\n      wAmount: '',\r\n      curCycleIncome: 0,\r\n      showDjModal: false,\r\n      showCyModal: false,\r\n      showModal: false,\r\n      showDayPicker: false,\r\n      showShModal: false,\r\n      shAmount: '',\r\n      marketIncome: 0,\r\n      isGet: false,\r\n      freezeIncome: 0,\r\n      totalPool: 0,\r\n      userBlance: 0,\r\n      totalMarketWind: 0,\r\n      userWindBlance: 0,\r\n      yesPool: 0,\r\n      dayValue: '3天',\r\n      onDayConfirm: (value) => {\r\n        data.dayValue = value;\r\n        data.showDayPicker = false;\r\n      },\r\n      initWallet: () => {\r\n         web3Data.initWeb3()\r\n      },\r\n      initContract: () => {\r\n        data.BsnContract = new data.web3.eth.Contract(BSNAbi, config.BsnAddress)\r\n        data.BusdContract = new data.web3.eth.Contract(tokenAbi, config.BusdAddress)\r\n        data.BsnDataContract = new data.web3.eth.Contract(BSNDataAbi, config.BsnDataAddress)\r\n        data.freezeContract = new data.web3.eth.Contract(freezeAbi, config.frozen)\r\n        data.windTokenContract = new data.web3.eth.Contract(tokenAbi, config.windToken)\r\n        data.initData()\r\n      },\r\n       initData: () => {\r\n         data.getCurCycleIncome()\r\n         data.getUserInfo()\r\n         data.getTokenAllowance()\r\n         data.getFreezeToken()\r\n         data.getMarketIncome()\r\n         data.getTotalData()\r\n         data.getFreezeIncome()\r\n      },\r\n      getTotalData: async () => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let decimalsWind = await data.windTokenContract.methods.decimals().call();\r\n        let result = await Promise.all([data.BsnDataContract.methods.totalPool().call(),\r\n           data.BsnDataContract.methods.totalMarketWind().call(),\r\n           data.windTokenContract.methods.balanceOf(data.address).call()\r\n         ]);\r\n        data.totalPool = new Bignumber(result[0]).dividedToIntegerBy(Math.pow(10, decimals)).toFixed(3)\r\n        data.totalMarketWind =  new Bignumber(result[1]).dividedToIntegerBy(Math.pow(10, decimalsWind)).toFixed(3)\r\n        data.userWindBlance = new Bignumber(result[2]).dividedToIntegerBy(Math.pow(10, decimalsWind)).toFixed(3)\r\n      },\r\n      getCurCycleIncome: async () => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let cur =  await data.BsnContract.methods.getCurCycleIncome().call();\r\n        let dayNum = await data.BsnDataContract.methods.getCurDayNum().call()\r\n        let yesMarketToTalMoney = await data.BsnDataContract.methods.getCurCycleData(dayNum - 1).call();\r\n        data.curCycleIncome = Number(cur.curAmount / Math.pow(10, decimals)).toFixed(2)\r\n        data.marketToTalMoney = Number(cur.curDayMarketTotal / Math.pow(10, decimals)).toFixed(2);\r\n        data.yesPool = Number(yesMarketToTalMoney.poolAmount / Math.pow(10, decimals)).toFixed(2)\r\n        console.log('yesMarketToTalMoney', yesMarketToTalMoney)\r\n      },\r\n      getUserInfo: async () => {\r\n        let  userInfo = await data.BsnDataContract.methods.getUserInfo(data.address).call();\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let proportion = await data.BsnDataContract.methods.getProportion().call();\r\n        data.userMarket = Number(userInfo.marketProvide * proportion[0]/proportion[1]/ Math.pow(10, decimals)).toFixed(2);\r\n      },\r\n      addpoolMoney: async () => {\r\n        if (data.amount < 1000) {\r\n          Toast('数量必须大于等于1000')\r\n          return\r\n        }\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let amount = new Bignumber(data.amount).multipliedBy(Math.pow(10, decimals)).toString();\r\n        let balance = await data.BusdContract.methods.balanceOf(data.address).call();\r\n        if (amount > balance) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n         await data.BsnContract.methods.addMarketPool(amount, AddressZero).send({from: data.address, gasPrice: gasPrice});\r\n         Toast('参与成功')\r\n         data.initData()\r\n      },\r\n      approveWind: async () => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.windTokenContract.methods.approve(config.frozen, MaxUint256).send({from: data.address, gasPrice: gasPrice});\r\n        data.getTokenAllowance() \r\n      },\r\n      approve: async () => {\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n         await data.BusdContract.methods.approve(config.BsnAddress, MaxUint256).send({from: data.address, gasPrice: gasPrice});\r\n        data.getTokenAllowance()\r\n      },\r\n      getTokenAllowance: async () => {\r\n        let result = await data.BusdContract.methods.allowance(data.address, config.BsnAddress).call();\r\n        let wResult = await data.windTokenContract.methods.allowance(data.address, config.frozen).call();\r\n        data.tokenAllowance = result;\r\n        data.windAllowance = wResult;\r\n      },\r\n      markerRedeem: async () => {\r\n        if (data.wAmount <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        data.showModal = false;\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let amount = new Bignumber(data.wAmount).multipliedBy(Math.pow(10, decimals)).toString();\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.BsnContract.methods.markerRedeem(amount).send({from: data.address, gasPrice: gasPrice});\r\n        Toast('赎回成功')\r\n        data.initData()\r\n      },\r\n      freezeToken: async () => {\r\n        if (data.windAmount <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        data.showDjModal = false\r\n        let decimals = await data.windTokenContract.methods.decimals().call();\r\n        let amount = new Bignumber(data.windAmount).multipliedBy(Math.pow(10, decimals)).toFixed();\r\n         let balance = await data.windTokenContract.methods.decimals().call();\r\n        if (amount > balance) {\r\n          Toast('余额不足')\r\n          return\r\n        }\r\n        let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.freezeContract.methods.stake(amount).send({from: data.address, gasPrice: gasPrice});\r\n         Toast('冻结成功')\r\n        data.initData()\r\n      },\r\n      withdrawFreezeToken: async () => {\r\n        if (Number(data.shAmount) <= 0) {\r\n          Toast('数量必须大于0')\r\n          return\r\n        }\r\n        if (Number(data.shAmount) <= Number(data.userBlance)) {\r\n          data.showShModal = false;\r\n          let decimals = await data.windTokenContract.methods.decimals().call();\r\n          let amount = new Bignumber(data.shAmount).multipliedBy(Math.pow(10, decimals)).toFixed();\r\n          let gasPrice = await data.web3.eth.getGasPrice()\r\n          await data.freezeContract.methods.withdraw(amount).send({from: data.address, gasPrice: gasPrice});\r\n           Toast('领取成功')\r\n          data.initData()\r\n        } else {\r\n          Toast('数量不足')\r\n        }\r\n      },\r\n      getFreezeIncome: async() => {\r\n        let decimals = await data.BusdContract.methods.decimals().call();\r\n        let income = await data.freezeContract.methods.earned(data.address).call();\r\n        let decimalsWind = await data.windTokenContract.methods.decimals().call();\r\n        let userBlance  = await data.freezeContract.methods.balanceOf(data.address).call();\r\n        data.userBlance = new Bignumber(userBlance).dividedBy(Math.pow(10, decimalsWind)).toFixed(3);\r\n        data.freezeIncome = new Bignumber(income).dividedBy(Math.pow(10, decimals)).toFixed(3);\r\n      },\r\n      getFreezeToken: async () => {\r\n        let blance = await data.freezeContract.methods.totalSupply().call();\r\n        let decimals = await data.windTokenContract.methods.decimals().call();\r\n        console.log(blance)\r\n        data.freezeTokenNum = Number(blance / Math.pow(10, decimals)).toFixed(2);\r\n      },\r\n      getMarketIncome: async () => {\r\n        let curNum = await data.BsnDataContract.methods.dayNum().call()\r\n        let decimals = await data.windTokenContract.methods.decimals().call();\r\n        let result = await data.BsnDataContract.methods.getCurCycleData(curNum - 1).call()\r\n        let userNum = await data.BsnDataContract.methods.getUserDayMarket(data.address, curNum -1).call();\r\n        let isGet = await data.BsnDataContract.methods.isDividend(data.address, curNum -1).call();\r\n        data.isGet = isGet\r\n        if (!isGet) {\r\n           data.marketIncome = new Bignumber(userNum).multipliedBy(result._windToken).dividedBy(result._marketToTalMoney).dividedBy(Math.pow(10, decimals)).toFixed(4)\r\n        } else {\r\n          data.marketIncome = 0.000\r\n        }\r\n        \r\n      },\r\n      getReward: async () => {\r\n         let gasPrice = await data.web3.eth.getGasPrice()\r\n        await data.freezeContract.methods.getReward().send({from: data.address, gasPrice: gasPrice});\r\n        data.getFreezeIncome()\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.pool-block {\r\n  position: relative;\r\n  overflow: hidden;\r\n  color: rgba(153, 153, 153, 1) !important;\r\n  &.pool-block--bg {\r\n    background: rgba(26, 28, 37, .7) url('~@/assets/images/img2@2x.png') no-repeat right 0 !important;\r\n    background-size: 87px auto !important;\r\n  }\r\n  .pool-block--title {\r\n    font-size: 20px;\r\n    line-height: 30px;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 15px;\r\n  }\r\n  .cell-balance {\r\n    margin: 0 !important;\r\n    .big-num {\r\n      font-size: 25px !important;\r\n      color: rgba(251, 197, 9, 1) !important;\r\n    }\r\n  }\r\n  .fs12 {\r\n    font-size: 12px !important;\r\n  }\r\n  .mt12 {\r\n    margin-top: 12px !important;\r\n  }\r\n  .cell-button {\r\n    margin-top: 14px !important;\r\n    .van-button + .van-button {\r\n      margin-left: 15px;\r\n    }\r\n  }\r\n  .border-1px-t {\r\n    margin-top: 20px !important;\r\n    padding-top: 20px;\r\n  }\r\n  .pool-block--tip {\r\n    margin-top: 12px;\r\n    font-size: 12px;\r\n  }\r\n  .pool-block--link {\r\n    font-size: 12px;\r\n    line-height: 23px;\r\n    .btn {\r\n      padding: 0 17px;\r\n      color: rgba(13, 14, 17, 1);\r\n      line-height: 23px;\r\n      border-radius: 12px;\r\n      font-size: 13px;\r\n      background: rgba(251, 197, 9, 1);\r\n      margin-top: -12px;\r\n    }\r\n  }\r\n  .icon-box {\r\n    justify-content: flex-end;\r\n    white-space: nowrap;\r\n    .icon-right {\r\n      height: 20px;\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n  .cell-sellect {\r\n    margin-bottom: 8px !important;\r\n  }\r\n}\r\n.modal-tip {\r\n  font-size: 14px;\r\n  color: #8F80BA;\r\n  margin-bottom: 10px;\r\n}\r\n.modal-box .modal-btn {\r\n  margin-top: 30px !important;\r\n}\r\n</style>","import { render } from \"./IndexPool.vue?vue&type=template&id=f706e27e&scoped=true\"\nimport script from \"./IndexPool.vue?vue&type=script&lang=js\"\nexport * from \"./IndexPool.vue?vue&type=script&lang=js\"\n\nimport \"./IndexPool.vue?vue&type=style&index=0&id=f706e27e&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f706e27e\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=5c7b8e25&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5c7b8e25&lang=less\"\nimport \"./index.vue?vue&type=style&index=1&id=5c7b8e25&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5c7b8e25\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexOption.vue?vue&type=style&index=1&id=10d4dd2b&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexPool.vue?vue&type=style&index=0&id=f706e27e&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexOption.vue?vue&type=style&index=0&id=10d4dd2b&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=5c7b8e25&lang=less\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB30lEQVRYR+2WMUsdQRRGzxdQAomNiIH8lWARtLUQwUaQEEwIgj6bgIq2MWKl6VKmyS9IitQxpEggnVVALBQrsbIwcsPFWdi3z30z+3aLV+y2s7P38J25d0cM2aMh46EFihlpE2oTiiUQW2/PUJtQLIHYuszsKfAReAZ8Ad5KOo9trLNuZg+AKeADMAnsA4eSbhzIYV6FArcBqiPppE7Rsr1mNgosAXvAeHjvCliQ9M2Bvod0sm/8A46AOUmXTUKFZF4Cu8BE7tvXwBtJnxzoNXAAPCwU/wnMSzprAirAzACfc8lkn/4LzEo6diAH2QE6wKNccdf3FVirq69EU1bqD7AqyU3dXT/MbAzYAjYKadTW10eTl3KYZUm/s7pdk9rM3oekGtEX0XQKLGbJlAE1pq+KpryVnn9ZE/qqauoLlC2ambfmetXuG0RTKpDr2w5QSd03qKYkoNB9j0P3bca6r46mZKBUfcAFMF0y9O7tprJhm3RBC8Ozn74f/lO+ZwJ3Db2UiZ8ElKDPB2hxdvUMvUaBEvTl61XSVPkM5Tfk9Pm/zw998amsqRZQRN9AmmoD5fS9A1YAv3T5NeVF8d+Ucm6aBBoBngNPgF9+n6kKUHw/ucvqFkrd3wLFkhq6hP4DEQ/PJdJHpB4AAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=5c7b8e25&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAABGElEQVQ4T42SQU7CQBiF3yuFBBqchJ0HcNGFeAWX4t6Q4hnAs4hnEGLci0uvABsW7nVjSEbSmujIb9oKQpm2znLmvS//zDdEwbrUjY4AHKnoIS/GvINTgXu49GYU8OUgPH4ijC2bC+jp+gBwrtPS6mqkPob/BlxotFx4zwRacUmAhUF4dK+wyEKsEwS6MSTY3w4L5GasokEpoLus+RVxpxBWMwCzckz7rvk5397fmyDQ3oTAme2+AjyOVdjJBaTamKssLhJyfquiyRqymSDR9u7NCPhFf0OI+WszbK+1bgCBrvcJx6pqH/inNQFktRVNkNWaAGzayiGpVnbfan6l6k6BXW1lAFC+vmlO2NNe/Oo7akrLv4FY6w8tG2OUfMk4GQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAFDUlEQVRYR62YXYhUZRzGn+fMOTPn+IGVqeiFn0ilVkIaqzOu2ScKXoWGQYpKRdonFrhdhDcZRVBk2IUmWzeGQZikkcqK7sysX1mhFJVgVGtpeBPtnrPn64kz7tbu7Mzunl3PzcC8z//3Puf//t/3/c8QQ3z8k6PuMUKtF3UfgJkATIKXBZyOhU+yeXc/iXiIuLoyDgbQCUwIM85OAI8CqKsXdMGCsYH5zjODMQcaH9CQdzw32zCNIwSmDW0SdZF8wlzsfjo0fX9V/Tduxc2RYZ8ROCsVnPIR40Gr4LWmiusW1zXkF+3dJDcOByrhkhW4c7gMXtr4moZ0yp4RhvwpKdy0wB69EG/K5rs+SBtf01BQtF8F+XpaWJW+bOXdfFpGTUNhyT4ocEVaWF+9ArPdG8PV8NNwahryS/Z5gvPSgGppzVjTuMT7NQ2ntqGifYHk3DSgmoZCTOVS97c0nHo1dAjk8jSg/lr5pu+N5jKEaTj1DDWB3J4GVMPQcSvvJddMqqf2tm+1p4YGLgK0UtF6iRVrY3aJtydtfN2DMSzZOwU+kxaY6AX9aLV7d6XdYUls/aujiLEh7dMAb09lSvIUc2m20T2dKq5bPODl6h6zp5s5HIY4e2hwuYRWmfmug0PT91cN3n5cv2R3CHx84PYD31hxuJ5Lgu+Ga2bAJauG+q3W3TDMDYTuB5B0AKbEP0C0CdHe7GL/AAmNxEwqQ8OdSKcwPgzsp0GuJDRPoA3gioSSgbjZLHR92Zs96JIN10gSF5adNYqxE8RN9Tk6bGa8tWzAlSFlSKUxE0OGdxKcGEs5ENkkMANZgMEI8o0YHYKumh1dZT6CjmQ8Ko/aHEs7+tadfpBwhsBjIHM9JgVdtODlmcfV2gfjWViRZ6+TwSchLByomHugBNoz49yZnAc/KDmLACQdY6Z3ZkzLncx78WdX0d5ukE19siYdsQrew/0M+UWnAVQzwdvSLZfetPLe1iQmKDnHATRWx1t5tzKfX3ZepPBO9TgVr+hjqKvVWWMYagZYWZZ0jx6w8l6LSrlZIYyfa2V1MEMi9v1nKGzLLVfMAwCH1bZ6kTtxbCP+8lvttTT4UffLfGsY+Bgxokrd5d33kk+VrPkxzEoGY2gShC3dNdVeMdRxApOzGec8gPHpsvK/2jziZrgNcVB0XgHxVjJiZsIFbAi+HowZlu1miesgRBVDYcneI3D9YIEDjZv/uGOSHeYXc8+SRrK7AOo183dvO1dfz1CtR0cxKRxlt0CcQ+hvdhQxJUv7l5G0GtezEc1lg/99ULSXgWypNflgNQTgJKOy80IsvDuS7FTqAnoqm/d26Sys0HMug7g17S5DrCYGZecAhJUjNQTpqFXwHko4QdneCvGNaqbpu1bS0gYlZwuAt6vGr5mxO5t+yb5EcPqIDQFSFC7INgbntA/ZcIrTAqLqd5m2KY6+oGHuBjC/15wxFa0yC/5nDEp2J0DnBhhKEG2m7zYmWVAZtwSx8zmJwsBs+RI2ZQveh5V9EBSdEOx7xI/EHIX3zYL7XKWujsEMs87zBF4WMLmKG4P6SlHUlO3VQzEoOcn/OQtGYqI6lsCOTLv7Us927za2kNQdlOwQxpVQbBtd6LzcLzZpvIyMuV/Cjaij3vyTMsLN2UXBuTQvWzkYdQi5aJyzUqis9wwAEySNN8ixAmxIWRBGP7CYfJ8BlPx+jyB2AXBJdUjsBHWN5C5zsbt3qKb+BU+dBpG/i17KAAAAAElFTkSuQmCC\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAABEklEQVQ4T42SPW7CQBCF31st/mm5QwqKkJqYJl3IXYCzxLkL0EWR7FCHhiJ3oDW2N57IVmzF1tpm23nv02i+JQaeObor/IB6me76YuwbyDu0cb2TCDjJrvd8grFlewFZ7G4I9VqWBNg6QRLeDJBPTI343wCmf6WLZnLHR1y6EOsGJvZDAdb/wwTedJBsRgFydGamUF8AJ+2wGK2KORfZuQNux/LI24N8th5X5DBZXle9ABO5K6HqVVYWqYoXvUj3NaS5Qaktd7wTwdnQ3wDlrNPrvNbaALLYXRPKqqoLFBRbJ0irbAWwaBtcAkCjtQJkkR+SbW1jhFor0w9nprRN2xhCcq2KB+aRtwPZUjNWbeYih1/pG2KCuOKpDQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAh1BMVEUAAAAexdMit8cfx9QeyNUfx9Qfx9Qhx88fx9Qex9Qfx9QfyNUex9UfyNQeyNQfx9QfxNAivdMfx9QfyNQgxtIextUex9Qex9Qex9Qfx9Udx9Mex9Ufx9Uex9Uex9Mfx9Qex9QeyNUfy9cdxtMfydMex9QfyNQex9Qcxtcbv9Eeydsgv98fx9TtjM00AAAALHRSTlMAgAP6h/F6D/zayuB+6MQmFAX39DMMn5dzX1hSjGdD67qwKSI40ms/LRwVCCtVfaAAAAGmSURBVEjH7ZfZkoIwEEVlgIQAsm+CbOJu/v/7ZtrSRGBi4GmcKu4bSR/odN+iOquR/J1GVDqQSrSdv5IKI4v+KgthGeujgAoUINm3z2sq1PosxL7cPLOVFqIcTRlIc2C9VdAxd7/GrJda+qNODt/nb3YeldOt1Btunghl0jjLA7SX0lX9gIpQriQew3FCuUjVy7nXHj2LR2ym99rmveSU3osJPshVKpSa/zhoe29HyhN3LWALWLg2Yrjx4EMF0JbL4FznZYqIiCURL52eMziDXJ/vurTrYEwG6/byzBNOkDHYhm12Cn9f2spAqNz7rEIQbTNYgcfVZEG0ssB/DUemQQUyzEgCm/SNHAmsv4N1CbwNxWyoSWC8sRWB7A3+2FYtJllM8sHwyCThFnNstknCDcdmm8TIODbXJAbZc2yuSdDpP7RqgafACPwcT2UxwIg9ljB4FVPhAsayks+8NfwavWmsB5N3XfGZ1oShLulucvTWJTAumvFLJrBAD6kiVXqASLUYzPFyie4COAmmo2qCB2VAZCpL0HV0A+nKpjZkoFE3x47l/A32Zsn694VFeQAAAABJRU5ErkJggg==\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABWklEQVRIS6WWvy4FURCHvxOJRKOQeAoatDqER1Bp9QqJUryKRqtREAoFGt5DIbmNdmTunStzz55/e+52m939vnPmNzu7QUQugGvgDTgNIfywxCEim8AdsAdcBhH5BdaM+Qkc9UoM/gxsG+9bBU/AgVt0lyQBV+S9CjYAlez0SjLwD+A4KHQZSREewmQq6JXU4Mr9F4yVtMAHglZJKzwpqEmAFcC3oj4yCzSESfwKLZTIXywEv+r6vAjP7qASvF9HduXzm7I7aJBU4dUdWB46W+Ka66WmN764g0y3+BJVJaWQUyvXsmjIfqx8AYe5AZkUlPrc2jSeXVnJQGDwF2DL1WIh0EwLJyXxqNCyFOGV7hpI/LBrho+RzMf1aHirRD843fBI8gjsutxm5RKRV2A/F2g8vHLnFnwseVCBTsB1e/AdOElNxRZRQjL96J8DN/bbctYLj8p1a+W6+gNxI+wjtHGjaQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACeklEQVRYR7WYP4sVMRRHz8VC/AgiCtaCKIK4WogWNhaKIPgJtNFWttRWrEWtBMU/lWAhWoiVheIuwu4HEFYstBcrr9w188xkJzM3ybxXLTuPyXk5uTe/RFR1H3APOAd8BG4AmyKiLPGjqgIcBe4Cp4CXwE1RVfvjYhjbIL4YlIh8WCIPqnoSeAAcAgzOPi8M6BewJxrcoL4Cl0VkbRlQqnrCBgf2RzA21A8Deg+cTh7Yw+/ABWBtLn1B0wrwDDiQ/FibiLcGdBh4BBxJoGbXl9FkXDbWJ+CaAZk/8/kYODhAPYu+EU025BZwCVjvFpMtsmPAK2DvnPocmr4B50Vkw8gWQNvz9g/qYSjH+Fm1Poem6yLyuTOTAs2qz61J5M8gUPfPVn2lmuJ125uh+EGLvlJNXqAqfTWaXECl+sL3x5per5pyO0BWWam+0NzSvSluer1qagXy6Ns1sDf1m15UTU1ATn3pGNa7XJqK1tCOUfLNs2c57E0uTa1AY/q6d//fmxya5gDKVVP37uro4qqypOKGkt7Q+qlKnkVAE01vCKo4uriAosz0NJP0rJqs7JujixfITgX3k0Dea3qhMTZHl0kgVbUF/Hyq6QWg5uQ5ttt35T2maZH0nM1zsvrGgCY1xUmvdO/LnfsGgbyaJNP0Wg4OuQhbpCm3UdYkzxSoWtMElLv64mOQq5pymkaAPNFlcWyPD4qzaGrWFzzbUTq+hShOejmQwuq7ajP0DjgzcFqtjhAN+t4Y0G9gd/SSqqTnmSFH8/xpQHY1ciV8ubuFKE56JUDb62Fn8rSxnxiQ3dPcAc7aXRCwCmyUVlMFkFWf3SXcBo4Dr4FbfwFA8aU/chve7AAAAABJRU5ErkJggg==\"","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.F2 = {}));\n}(this, (function (exports) { 'use strict';\n\n    var isArrayLike = function (value) {\n      /**\n       * isArrayLike([1, 2, 3]) => true\n       * isArrayLike(document.body.children) => true\n       * isArrayLike('abc') => true\n       * isArrayLike(Function) => false\n       */\n      return value !== null && typeof value !== 'function' && isFinite(value.length);\n    };\n\n    var contains = function (arr, value) {\n      if (!isArrayLike(arr)) {\n        return false;\n      }\n\n      return arr.indexOf(value) > -1;\n    };\n\n    var filter = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n\n        if (func(value, index)) {\n          result.push(value);\n        }\n      }\n\n      return result;\n    };\n\n    var toString = {}.toString;\n\n    var isType = function (value, type) {\n      return toString.call(value) === '[object ' + type + ']';\n    };\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n    var isFunction = (function (value) {\n      return isType(value, 'Function');\n    });\n\n    // isFinite,\n    var isNil = function (value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isArray = (function (value) {\n      return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n    });\n\n    var isObject = (function (value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value;\n      return value !== null && type === 'object' || type === 'function';\n    });\n\n    function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst;\n\n      if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    var keys = Object.keys ? function (obj) {\n      return Object.keys(obj);\n    } : function (obj) {\n      var result = [];\n      each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n          result.push(key);\n        }\n      });\n      return result;\n    };\n\n    function isMatch(obj, attrs) {\n      var _keys = keys(attrs);\n\n      var length = _keys.length;\n      if (isNil(obj)) return !length;\n\n      for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isObjectLike = function (value) {\n      /**\n       * isObjectLike({}) => true\n       * isObjectLike([1, 2, 3]) => true\n       * isObjectLike(Function) => false\n       * isObjectLike(null) => false\n       */\n      return typeof value === 'object' && value !== null;\n    };\n\n    var isPlainObject = function (value) {\n      /**\n       * isObjectLike(new Foo) => false\n       * isObjectLike([1, 2, 3]) => false\n       * isObjectLike({ x: 0, y: 0 }) => true\n       * isObjectLike(Object.create(null)) => true\n       */\n      if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n      }\n\n      if (Object.getPrototypeOf(value) === null) {\n        return true;\n      }\n\n      var proto = value;\n\n      while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n      }\n\n      return Object.getPrototypeOf(value) === proto;\n    };\n\n    function find(arr, predicate) {\n      if (!isArray(arr)) return null;\n\n      var _predicate;\n\n      if (isFunction(predicate)) {\n        _predicate = predicate;\n      }\n\n      if (isPlainObject(predicate)) {\n        _predicate = function (a) {\n          return isMatch(a, predicate);\n        };\n      }\n\n      if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n          if (_predicate(arr[i])) {\n            return arr[i];\n          }\n        }\n      }\n\n      return null;\n    }\n\n    var getRange = function (values) {\n      // 存在 NaN 时，min,max 判定会出问题\n      var filterValues = values.filter(function (v) {\n        return !isNaN(v);\n      });\n\n      if (!filterValues.length) {\n        // 如果没有数值则直接返回0\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      if (isArray(values[0])) {\n        var tmp = [];\n\n        for (var i = 0; i < values.length; i++) {\n          tmp = tmp.concat(values[i]);\n        }\n\n        filterValues = tmp;\n      }\n\n      var max = Math.max.apply(null, filterValues);\n      var min = Math.min.apply(null, filterValues);\n      return {\n        min: min,\n        max: max\n      };\n    };\n\n    var isString = (function (str) {\n      return isType(str, 'String');\n    });\n\n    var uniq = function (arr) {\n      var resultArr = [];\n      each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n          resultArr.push(item);\n        }\n      });\n      return resultArr;\n    };\n\n    function head(o) {\n      if (isArrayLike(o)) {\n        return o[0];\n      }\n\n      return undefined;\n    }\n\n    function last(o) {\n      if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n      }\n\n      return undefined;\n    }\n\n    var fixedBase = function (v, base) {\n      var str = base.toString();\n      var index = str.indexOf('.');\n\n      if (index === -1) {\n        return Math.round(v);\n      }\n\n      var length = str.substr(index + 1).length;\n\n      if (length > 20) {\n        length = 20;\n      }\n\n      return parseFloat(v.toFixed(length));\n    };\n\n    /**\n     * 判断是否数字\n     * @return {Boolean} 是否数字\n     */\n\n    var isNumber = function (value) {\n      return isType(value, 'Number');\n    };\n\n    var toString$1 = (function (value) {\n      if (isNil(value)) return '';\n      return value.toString();\n    });\n\n    var lowerFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toLowerCase() + str.substring(1);\n    };\n\n    function substitute(str, o) {\n      if (!str || !o) {\n        return str;\n      }\n\n      return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n          return match.slice(1);\n        }\n\n        return o[name] === undefined ? '' : o[name];\n      });\n    }\n\n    var upperFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    };\n\n    var toString$2 = {}.toString;\n\n    var getType = function (value) {\n      return toString$2.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n    };\n\n    /**\n     * 是否是布尔类型\n     *\n     * @param {Object} value 测试的值\n     * @return {Boolean}\n     */\n\n    var isBoolean = function (value) {\n      return isType(value, 'Boolean');\n    };\n\n    var isDate = function (value) {\n      return isType(value, 'Date');\n    };\n\n    var objectProto = Object.prototype;\n\n    var isPrototype = function (value) {\n      var Ctor = value && value.constructor;\n      var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n      return value === proto;\n    };\n\n    // FIXME: Mutable param should be forbidden in static lang.\n    function _mix(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    function mix(dist, src1, src2, src3) {\n      if (src1) _mix(dist, src1);\n      if (src2) _mix(dist, src2);\n      if (src3) _mix(dist, src3);\n      return dist;\n    }\n\n    var MAX_MIX_LEVEL = 5;\n\n    function _deepMix(dist, src, level, maxLevel) {\n      level = level || 0;\n      maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          var value = src[key];\n\n          if (value !== null && isPlainObject(value)) {\n            if (!isPlainObject(dist[key])) {\n              dist[key] = {};\n            }\n\n            if (level < maxLevel) {\n              _deepMix(dist[key], value, level + 1, maxLevel);\n            } else {\n              dist[key] = src[key];\n            }\n          } else if (isArray(value)) {\n            dist[key] = [];\n            dist[key] = dist[key].concat(value);\n          } else if (value !== undefined) {\n            dist[key] = value;\n          }\n        }\n      }\n    } // todo 重写\n\n\n    var deepMix = function (rst) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n      }\n\n      return rst;\n    };\n\n    var indexOf = function (arr, obj) {\n      if (!isArrayLike(arr)) {\n        return -1;\n      }\n\n      var m = Array.prototype.indexOf;\n\n      if (m) {\n        return m.call(arr, obj);\n      }\n\n      var index = -1;\n\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n          index = i;\n          break;\n        }\n      }\n\n      return index;\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    function isEmpty(value) {\n      /**\n       * isEmpty(null) => true\n       * isEmpty() => true\n       * isEmpty(true) => true\n       * isEmpty(1) => true\n       * isEmpty([1, 2, 3]) => false\n       * isEmpty('abc') => false\n       * isEmpty({ a: 1 }) => false\n       */\n      if (isNil(value)) {\n        return true;\n      }\n\n      if (isArrayLike(value)) {\n        return !value.length;\n      }\n\n      var type = getType(value);\n\n      if (type === 'Map' || type === 'Set') {\n        return !value.size;\n      }\n\n      if (isPrototype(value)) {\n        return !Object.keys(value).length;\n      }\n\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isEqual = function (value, other) {\n      if (value === other) {\n        return true;\n      }\n\n      if (!value || !other) {\n        return false;\n      }\n\n      if (isString(value) || isString(other)) {\n        return false;\n      }\n\n      if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < value.length; i++) {\n          rst = isEqual(value[i], other[i]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n\n        if (valueKeys.length !== otherKeys.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < valueKeys.length; i++) {\n          rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      return false;\n    };\n\n    var map = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n      }\n\n      return result;\n    };\n\n    function size(o) {\n      if (isNil(o)) {\n        return 0;\n      }\n\n      if (isArrayLike(o)) {\n        return o.length;\n      }\n\n      return Object.keys(o).length;\n    }\n\n    function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0, len = dataArray.length; i < len; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    }\n\n    function values(data, name) {\n      var rst = [];\n      var tmpMap = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (!isArray(value)) {\n            if (!tmpMap[value]) {\n              rst.push(value);\n              tmpMap[value] = true;\n            }\n          } else {\n            each(value, function (val) {\n              if (!tmpMap[val]) {\n                rst.push(val);\n                tmpMap[val] = true;\n              }\n            });\n          }\n        }\n      }\n\n      return rst;\n    }\n\n    function firstValue(data, name) {\n      var rst = null;\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (isArray(value)) {\n            rst = value[0];\n          } else {\n            rst = value;\n          }\n\n          break;\n        }\n      }\n\n      return rst;\n    }\n\n    function groupToMap(data, fields) {\n      if (!fields) {\n        return {\n          0: data\n        };\n      }\n\n      var callback = function callback(row) {\n        var unique = '_';\n\n        for (var i = 0, l = fields.length; i < l; i++) {\n          unique += row[fields[i]] && row[fields[i]].toString();\n        }\n\n        return unique;\n      };\n\n      var groups = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var row = data[i];\n        var key = callback(row);\n\n        if (groups[key]) {\n          groups[key].push(row);\n        } else {\n          groups[key] = [row];\n        }\n      }\n\n      return groups;\n    }\n\n    function group(data, fields, appendConditions) {\n      if (appendConditions === void 0) {\n        appendConditions = {};\n      }\n\n      if (!fields) {\n        return [data];\n      }\n\n      var groups = groupToMap(data, fields);\n      var array = [];\n\n      if (fields.length === 1 && appendConditions[fields[0]]) {\n        var _values = appendConditions[fields[0]];\n        each(_values, function (value) {\n          value = '_' + value;\n          array.push(groups[value]);\n        });\n      } else {\n        for (var i in groups) {\n          array.push(groups[i]);\n        }\n      }\n\n      return array;\n    }\n\n    function remove(arr, obj) {\n      if (!arr) {\n        return;\n      }\n\n      var index = arr.indexOf(obj);\n\n      if (index !== -1) {\n        arr.splice(index, 1);\n      }\n    }\n\n    function getRange$1(values) {\n      if (!values.length) {\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      var max = Math.max.apply(null, values);\n      var min = Math.min.apply(null, values);\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var array = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        merge: merge,\n        values: values,\n        firstValue: firstValue,\n        group: group,\n        groupToMap: groupToMap,\n        remove: remove,\n        getRange: getRange$1\n    });\n\n    /**\n     * Detects support for options object argument in addEventListener.\n     * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n     * @private\n     */\n\n    var supportsEventListenerOptions = function () {\n      var supports = false;\n\n      try {\n        var options = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            supports = true;\n          }\n        });\n        window.addEventListener('e', null, options);\n      } catch (e) {// continue regardless of error\n      }\n\n      return supports;\n    }(); // Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n    // https://github.com/chartjs/Chart.js/issues/4287\n\n\n    var eventListenerOptions = supportsEventListenerOptions ? {\n      passive: true\n    } : false;\n    /* global wx, my */\n    // weixin miniprogram\n\n    var isWx = typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function'; // ant miniprogram\n\n    var isMy = typeof my === 'object' && typeof my.getSystemInfoSync === 'function'; // in node\n\n    var isNode = typeof global && !typeof window; // in browser\n\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n\n    function isCanvasElement(el) {\n      if (!el || typeof el !== 'object') return false;\n\n      if (el.nodeType === 1 && el.nodeName) {\n        // HTMLCanvasElement\n        return true;\n      } // CanvasElement\n\n\n      return !!el.isCanvasElement;\n    }\n\n    function getPixelRatio() {\n      return window && window.devicePixelRatio || 1;\n    }\n\n    function getStyle(el, property) {\n      return el.currentStyle ? el.currentStyle[property] : document.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n    }\n\n    function getWidth(el) {\n      var width = getStyle(el, 'width');\n\n      if (width === 'auto') {\n        width = el.offsetWidth;\n      }\n\n      return parseFloat(width);\n    }\n\n    function getHeight(el) {\n      var height = getStyle(el, 'height');\n\n      if (height === 'auto') {\n        height = el.offsetHeight;\n      }\n\n      return parseFloat(height);\n    }\n\n    function getDomById(id) {\n      if (!id) {\n        return null;\n      }\n\n      return document.getElementById(id);\n    }\n\n    function getRelativePosition(point, canvas) {\n      var canvasDom = canvas.get('el');\n      if (!canvasDom) return point;\n\n      var _canvasDom$getBoundin = canvasDom.getBoundingClientRect(),\n          top = _canvasDom$getBoundin.top,\n          left = _canvasDom$getBoundin.left;\n\n      var paddingLeft = parseFloat(getStyle(canvasDom, 'padding-left'));\n      var paddingTop = parseFloat(getStyle(canvasDom, 'padding-top'));\n      var mouseX = point.x - left - paddingLeft;\n      var mouseY = point.y - top - paddingTop;\n      return {\n        x: mouseX,\n        y: mouseY\n      };\n    }\n\n    function addEventListener(source, type, listener) {\n      source.addEventListener(type, listener, eventListenerOptions);\n    }\n\n    function removeEventListener(source, type, listener) {\n      source.removeEventListener(type, listener, eventListenerOptions);\n    }\n\n    function landscapePoint(point, canvas) {\n      var landscape = canvas.get('landscape');\n\n      if (!landscape) {\n        return point;\n      }\n\n      if (isFunction(landscape)) {\n        return landscape(point, canvas);\n      } // 默认顺时针旋转90度\n\n\n      var height = canvas.get('height');\n      var x = point.y;\n      var y = height - point.x;\n      return {\n        x: x,\n        y: y\n      };\n    }\n\n    function convertPoints(ev, canvas) {\n      var touches = ev.touches; // 认为是mouse事件\n\n      if (!touches) {\n        var point = getRelativePosition({\n          x: ev.clientX,\n          y: ev.clientY\n        }, canvas);\n        return [landscapePoint(point, canvas)];\n      } // 单指 touchend 后，touchs 会变空，最后的触点要从changedTouches里拿\n\n\n      if (!touches.length) {\n        // 为了防止万一，加个空逻辑\n        touches = ev.changedTouches || [];\n      }\n\n      var points = [];\n\n      for (var i = 0, len = touches.length; i < len; i++) {\n        var touch = touches[i]; // x, y: 相对canvas原点的位置，clientX, clientY 相对于可视窗口的位置\n\n        var x = touch.x,\n            y = touch.y,\n            clientX = touch.clientX,\n            clientY = touch.clientY;\n\n        var _point = void 0; // 小程序环境会有x,y\n\n\n        if (isNumber(x) || isNumber(y)) {\n          _point = {\n            x: x,\n            y: y\n          };\n        } else {\n          // 浏览器环境再计算下canvas的相对位置\n          _point = getRelativePosition({\n            x: clientX,\n            y: clientY\n          }, canvas);\n        }\n\n        points.push(landscapePoint(_point, canvas));\n      }\n\n      return points;\n    }\n\n    function createEvent(event, chart) {\n      var canvas = chart.get('canvas');\n      var points = convertPoints(event, canvas); // touchend会没有points\n\n      var point = points[0] || {};\n      return {\n        type: event.type,\n        chart: chart,\n        \"native\": event,\n        x: point.x,\n        y: point.y\n      };\n    }\n\n    function measureText(text, font, ctx) {\n      if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n      }\n\n      ctx.font = font || '12px sans-serif';\n      return ctx.measureText(text);\n    }\n\n    /**\n     * @fileOverview Utility for F2\n     * @author dxq613 @gmail.com\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function isObjectValueEqual(a, b) {\n      // for vue.js\n      a = Object.assign({}, a);\n      b = Object.assign({}, b);\n      var aProps = Object.getOwnPropertyNames(a);\n      var bProps = Object.getOwnPropertyNames(b);\n\n      if (aProps.length !== bProps.length) {\n        return false;\n      }\n\n      for (var i = 0, len = aProps.length; i < len; i++) {\n        var propName = aProps[i];\n\n        if (a[propName] !== b[propName]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function parsePadding(padding) {\n      var top;\n      var right;\n      var bottom;\n      var left;\n\n      if (isNumber(padding) || isString(padding)) {\n        top = bottom = left = right = padding;\n      } else if (isArray(padding)) {\n        top = padding[0];\n        right = !isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n        left = !isNil(padding[3]) ? padding[3] : right;\n      }\n\n      return [top, right, bottom, left];\n    }\n\n    function directionEnabled(mode, dir) {\n      if (mode === undefined) {\n        return true;\n      } else if (typeof mode === 'string') {\n        return mode.indexOf(dir) !== -1;\n      }\n\n      return false;\n    }\n\n    function toTimeStamp(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n\n    var Util = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Array: array,\n        upperFirst: upperFirst,\n        lowerFirst: lowerFirst,\n        isString: isString,\n        isNumber: isNumber,\n        isBoolean: isBoolean,\n        isFunction: isFunction,\n        isDate: isDate,\n        isArray: isArray,\n        isNil: isNil,\n        isObject: isObject,\n        isPlainObject: isPlainObject,\n        isEqual: isEqual,\n        deepMix: deepMix,\n        mix: mix,\n        each: each,\n        uniq: uniq,\n        find: find,\n        isObjectValueEqual: isObjectValueEqual,\n        parsePadding: parsePadding,\n        directionEnabled: directionEnabled,\n        toTimeStamp: toTimeStamp,\n        substitute: substitute,\n        isWx: isWx,\n        isMy: isMy,\n        isNode: isNode,\n        isBrowser: isBrowser,\n        isCanvasElement: isCanvasElement,\n        getPixelRatio: getPixelRatio,\n        getStyle: getStyle,\n        getWidth: getWidth,\n        getHeight: getHeight,\n        getDomById: getDomById,\n        getRelativePosition: getRelativePosition,\n        addEventListener: addEventListener,\n        removeEventListener: removeEventListener,\n        createEvent: createEvent,\n        convertPoints: convertPoints,\n        measureText: measureText\n    });\n\n    /**\n     * @fileOverview default theme\n     * @author dxq613@gail.com\n     */\n    var color1 = '#E8E8E8'; // color of axis-line and axis-grid\n\n    var color2 = '#808080'; // color of axis label\n\n    var defaultAxis = {\n      label: {\n        fill: color2,\n        fontSize: 10\n      },\n      line: {\n        stroke: color1,\n        lineWidth: 1\n      },\n      grid: {\n        type: 'line',\n        stroke: color1,\n        lineWidth: 1,\n        lineDash: [2]\n      },\n      tickLine: null,\n      labelOffset: 7.5\n    };\n    var Theme = {\n      fontFamily: '\"Helvetica Neue\", \"San Francisco\", Helvetica, Tahoma, Arial, \"PingFang SC\", \"Hiragino Sans GB\", \"Heiti SC\", \"Microsoft YaHei\", sans-serif',\n      defaultColor: '#1890FF',\n      pixelRatio: 1,\n      padding: 'auto',\n      appendPadding: 15,\n      colors: ['#1890FF', '#2FC25B', '#FACC14', '#223273', '#8543E0', '#13C2C2', '#3436C7', '#F04864'],\n      shapes: {\n        line: ['line', 'dash'],\n        point: ['circle', 'hollowCircle']\n      },\n      sizes: [4, 10],\n      axis: {\n        common: defaultAxis,\n        // common axis configuration\n        bottom: mix({}, defaultAxis, {\n          grid: null\n        }),\n        left: mix({}, defaultAxis, {\n          line: null\n        }),\n        right: mix({}, defaultAxis, {\n          line: null\n        }),\n        circle: mix({}, defaultAxis, {\n          line: null\n        }),\n        radius: mix({}, defaultAxis, {\n          labelOffset: 4\n        })\n      },\n      shape: {\n        line: {\n          lineWidth: 2,\n          lineJoin: 'round',\n          lineCap: 'round'\n        },\n        point: {\n          lineWidth: 0,\n          size: 3\n        },\n        area: {\n          fillOpacity: 0.1\n        }\n      },\n      _defaultAxis: defaultAxis\n    };\n\n    var lang = {\n      general: {\n        title: '这是一个图表，',\n        withTitle: '这是一个关于“{title}”的图表。'\n      },\n      coord: {\n        cartesian: 'X轴是{xLabel}Y轴是{yLabel}' // polar: '弧度是{xLabel}半径是{yLabel}'\n\n      },\n      scale: {\n        linear: '数值型，数据最小值为{min}，最大值为{max}；',\n        cat: '分类型, 分类类型有：{values}；',\n        timeCat: '时间型，时间范围从{start}到{end}；'\n      },\n      geometry: {\n        prefix: '共有{count}种分类组成，',\n        oneData: '第{index}类是{name}，数据是{values};',\n        partData: '第{index}类是{name}，共有{count}项数据，前{part}项是{values};',\n        allData: '第{index}类是{name}，有{count}项数据，分别是{values};'\n      },\n      legend: {\n        prefix: '图例分类有：'\n      }\n    };\n\n    var Global = {\n      version: '3.8.2',\n      scales: {},\n      widthRatio: {\n        column: 1 / 2,\n        rose: 0.999999,\n        multiplePie: 3 / 4\n      },\n      lineDash: [4, 4],\n      lang: lang\n    };\n\n    Global.setTheme = function (theme) {\n      deepMix(Global, theme);\n    };\n\n    Global.setTheme(Theme);\n\n    function _defineProperty(obj, key, value) {\n      if (key in obj) {\n        Object.defineProperty(obj, key, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        obj[key] = value;\n      }\n\n      return obj;\n    }\n\n    function _extends() {\n      _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      return _extends.apply(this, arguments);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    function _assertThisInitialized(self) {\n      if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return self;\n    }\n\n    var EVENT_AFTER_INIT = 'afterinit';\n    var EVENT_BEFORE_RENDER = 'beforerender';\n    var EVENT_AFTER_RENDER = 'afterrender';\n    var EVENT_BEFORE_DATA_CHANGE = 'beforedatachange';\n    var EVENT_AFTER_DATA_CHANGE = 'afterdatachange';\n    var EVENT_AFTER_SIZE_CHANGE = '_aftersizechange';\n    var EVENT_AFTER_GEOM_INIT = '_aftergeominit';\n    var EVENT_BEFORE_GEOM_DRAW = 'beforegeomdraw';\n    var EVENT_AFTER_GEOM_DRAW = 'aftergeomdraw';\n    var EVENT_CLEAR = 'clear';\n    var EVENT_CLEAR_INNER = 'clearinner';\n    var EVENT_REPAINT = 'repaint';\n\n    // 实现简单的事件机制\n\n    var EventEmit = /*#__PURE__*/function () {\n      function EventEmit() {\n        this.__events = {};\n      }\n\n      var _proto = EventEmit.prototype;\n\n      _proto.on = function on(type, listener) {\n        if (!type || !listener) {\n          return;\n        }\n\n        var events = this.__events[type] || [];\n        events.push(listener);\n        this.__events[type] = events;\n      };\n\n      _proto.emit = function emit(type, e) {\n        var _this = this;\n\n        if (isObject(type)) {\n          e = type;\n          type = e && e.type;\n        }\n\n        if (!type) {\n          return;\n        }\n\n        var events = this.__events[type];\n\n        if (!events || !events.length) {\n          return;\n        }\n\n        events.forEach(function (listener) {\n          listener.call(_this, e);\n        });\n      };\n\n      _proto.off = function off(type, listener) {\n        var __events = this.__events;\n        var events = __events[type];\n\n        if (!events || !events.length) {\n          return;\n        } // 如果没有指定方法，则删除所有项\n\n\n        if (!listener) {\n          delete __events[type];\n          return;\n        } // 删除指定的 listener\n\n\n        for (var i = 0, len = events.length; i < len; i++) {\n          if (events[i] === listener) {\n            events.splice(i, 1);\n            i--;\n          }\n        }\n      };\n\n      return EventEmit;\n    }();\n\n    var Base = /*#__PURE__*/function (_Emit) {\n      _inheritsLoose(Base, _Emit);\n\n      var _proto = Base.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      function Base(cfg) {\n        var _this;\n\n        _this = _Emit.call(this) || this;\n        var attrs = {};\n\n        var defaultCfg = _this.getDefaultCfg();\n\n        _this._attrs = attrs;\n        mix(attrs, defaultCfg, cfg);\n        return _this;\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.destroy = function destroy() {\n        this._attrs = {};\n        this.destroyed = true;\n      };\n\n      return Base;\n    }(EventEmit);\n\n    var Plot = /*#__PURE__*/function () {\n      function Plot(cfg) {\n        mix(this, cfg);\n\n        this._init();\n      }\n\n      var _proto = Plot.prototype;\n\n      _proto._init = function _init() {\n        var self = this;\n        var start = self.start;\n        var end = self.end;\n        var xMin = Math.min(start.x, end.x);\n        var xMax = Math.max(start.x, end.x);\n        var yMin = Math.min(start.y, end.y);\n        var yMax = Math.max(start.y, end.y);\n        this.tl = {\n          x: xMin,\n          y: yMin\n        };\n        this.tr = {\n          x: xMax,\n          y: yMin\n        };\n        this.bl = {\n          x: xMin,\n          y: yMax\n        };\n        this.br = {\n          x: xMax,\n          y: yMax\n        };\n        this.width = xMax - xMin;\n        this.height = yMax - yMin;\n      }\n      /**\n       * reset\n       * @param  {Object} start start point\n       * @param  {Object} end end point\n       */\n      ;\n\n      _proto.reset = function reset(start, end) {\n        this.start = start;\n        this.end = end;\n\n        this._init();\n      }\n      /**\n       * check the point is in the range of plot\n       * @param  {Number}  x x value\n       * @param  {[type]}  y y value\n       * @return {Boolean} return the result\n       */\n      ;\n\n      _proto.isInRange = function isInRange(x, y) {\n        if (isObject(x)) {\n          y = x.y;\n          x = x.x;\n        }\n\n        var tl = this.tl;\n        var br = this.br;\n        return tl.x <= x && x <= br.x && tl.y <= y && y <= br.y;\n      };\n\n      return Plot;\n    }();\n\n    var Matrix = {\n      generateDefault: function generateDefault() {\n        return [1, 0, 0, 1, 0, 0];\n      },\n      isChanged: function isChanged(m) {\n        return m[0] !== 1 || m[1] !== 0 || m[2] !== 0 || m[3] !== 1 || m[4] !== 0 || m[5] !== 0;\n      },\n      multiply: function multiply(m1, m2) {\n        var m11 = m1[0] * m2[0] + m1[2] * m2[1];\n        var m12 = m1[1] * m2[0] + m1[3] * m2[1];\n        var m21 = m1[0] * m2[2] + m1[2] * m2[3];\n        var m22 = m1[1] * m2[2] + m1[3] * m2[3];\n        var dx = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var dy = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        return [m11, m12, m21, m22, dx, dy];\n      },\n      scale: function scale(out, m, v) {\n        out[0] = m[0] * v[0];\n        out[1] = m[1] * v[0];\n        out[2] = m[2] * v[1];\n        out[3] = m[3] * v[1];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      rotate: function rotate(out, m, radian) {\n        var c = Math.cos(radian);\n        var s = Math.sin(radian);\n        var m11 = m[0] * c + m[2] * s;\n        var m12 = m[1] * c + m[3] * s;\n        var m21 = m[0] * -s + m[2] * c;\n        var m22 = m[1] * -s + m[3] * c;\n        out[0] = m11;\n        out[1] = m12;\n        out[2] = m21;\n        out[3] = m22;\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      translate: function translate(out, m, v) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4] + m[0] * v[0] + m[2] * v[1];\n        out[5] = m[5] + m[1] * v[0] + m[3] * v[1];\n        return out;\n      },\n      transform: function transform(m, actions) {\n        var out = [].concat(m);\n\n        for (var i = 0, len = actions.length; i < len; i++) {\n          var action = actions[i];\n\n          switch (action[0]) {\n            case 't':\n              Matrix.translate(out, out, [action[1], action[2]]);\n              break;\n\n            case 's':\n              Matrix.scale(out, out, [action[1], action[2]]);\n              break;\n\n            case 'r':\n              Matrix.rotate(out, out, action[1]);\n              break;\n          }\n        }\n\n        return out;\n      }\n    };\n\n    /**\n     * 2 Dimensional Vector\n     * @module vector2\n     */\n    var Vector2 = {\n      /**\n       * Creates a new, empty vector2\n       *\n       * @return {vector2} a new 2D vector\n       */\n      create: function create() {\n        return [0, 0];\n      },\n\n      /**\n       * Calculates the length of a vector2\n       *\n       * @param {vector2} v vector to calculate length of\n       * @return {Number} length of v\n       */\n      length: function length(v) {\n        var x = v[0];\n        var y = v[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Normalize a vector2\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v vector to normalize\n       * @return {vector2} out\n       */\n      normalize: function normalize(out, v) {\n        var len = this.length(v);\n\n        if (len === 0) {\n          out[0] = 0;\n          out[1] = 0;\n        } else {\n          out[0] = v[0] / len;\n          out[1] = v[1] / len;\n        }\n\n        return out;\n      },\n\n      /**\n       * Adds two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      add: function add(out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n      },\n\n      /**\n       * Subtracts vector v2 from vector v1\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      sub: function sub(out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n      },\n\n      /**\n       * Scales a vector2 by a scalar number\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to scale\n       * @param {Number} s amount to scale the vector by\n       * @return {vector2} out\n       */\n      scale: function scale(out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n      },\n\n      /**\n       * Calculates the dot product of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} dot product of v1 and v2\n       */\n      dot: function dot(v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n      },\n\n      /**\n       * Calculates the direction of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Boolean} the direction of v1 and v2\n       */\n      direction: function direction(v1, v2) {\n        return v1[0] * v2[1] - v2[0] * v1[1];\n      },\n\n      /**\n       * Calculates the angle of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} angle of v1 and v2\n       */\n      angle: function angle(v1, v2) {\n        var theta = this.dot(v1, v2) / (this.length(v1) * this.length(v2));\n        return Math.acos(theta);\n      },\n\n      /**\n       * Calculates the angle of two vector2's with direction\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @param {Boolean} direction the direction of two vector2's\n       * @return {Number} angle of v1 and v2\n       */\n      angleTo: function angleTo(v1, v2, direction) {\n        var angle = this.angle(v1, v2);\n        var angleLargeThanPI = this.direction(v1, v2) >= 0;\n\n        if (direction) {\n          if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n          }\n\n          return angle;\n        }\n\n        if (angleLargeThanPI) {\n          return angle;\n        }\n\n        return Math.PI * 2 - angle;\n      },\n\n      /**\n       * whether a vector2 is zero vector\n       *\n       * @param  {vector2} v vector to calculate\n       * @return {Boolean}   is or not a zero vector\n       */\n      zero: function zero(v) {\n        return v[0] === 0 && v[1] === 0;\n      },\n\n      /**\n       * Calculates the euclidian distance between two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} distance between a and b\n       */\n      distance: function distance(v1, v2) {\n        var x = v2[0] - v1[0];\n        var y = v2[1] - v1[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Creates a new vector2 initialized with values from an existing vector\n       *\n       * @param {vector2} v vector to clone\n       * @return {Array} a new 2D vector\n       */\n      clone: function clone(v) {\n        return [v[0], v[1]];\n      },\n\n      /**\n       * Return the minimum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      min: function min(out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Return the maximum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      max: function max(out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Transforms the vector2 with a mat2d\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to transform\n       * @param {mat2d} m matrix to transform with\n       * @return {vector2} out\n       */\n      transformMat2d: function transformMat2d(out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n      }\n    };\n\n    var defaultMatrix = [1, 0, 0, 1, 0, 0];\n\n    var Base$1 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function Base(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        var start;\n        var end;\n\n        if (this.plot) {\n          start = this.plot.bl;\n          end = this.plot.tr;\n          this.start = start;\n          this.end = end;\n        } else {\n          start = this.start;\n          end = this.end;\n        }\n\n        this.init(start, end);\n      }\n\n      _proto._scale = function _scale(s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        Matrix.translate(matrix, matrix, [center.x, center.y]);\n        Matrix.scale(matrix, matrix, [s1, s2]);\n        Matrix.translate(matrix, matrix, [-center.x, -center.y]);\n      };\n\n      _proto.init = function init(start, end) {\n        this.matrix = [].concat(defaultMatrix); // 设置中心点\n\n        this.center = {\n          x: (end.x - start.x) / 2 + start.x,\n          y: (end.y - start.y) / 2 + start.y\n        };\n\n        if (this.scale) {\n          this._scale(this.scale[0], this.scale[1]);\n        }\n      };\n\n      _proto.convertPoint = function convertPoint(point) {\n        var _this$_convertPoint = this._convertPoint(point),\n            x = _this$_convertPoint.x,\n            y = _this$_convertPoint.y;\n\n        if (!Matrix.isChanged(this.matrix)) {\n          return {\n            x: x,\n            y: y\n          };\n        }\n\n        var vector = [x, y];\n        Vector2.transformMat2d(vector, vector, this.matrix);\n        return {\n          x: vector[0],\n          y: vector[1]\n        };\n      };\n\n      _proto.invertPoint = function invertPoint(point) {\n        return this._invertPoint(point);\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        return point;\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        return point;\n      };\n\n      _proto.reset = function reset(plot) {\n        this.plot = plot;\n        var bl = plot.bl,\n            tr = plot.tr;\n        this.start = bl;\n        this.end = tr;\n        this.init(bl, tr);\n      };\n\n      return Base;\n    }();\n\n    var Cartesian = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Cartesian, _Base);\n\n      function Cartesian() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Cartesian.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'cartesian';\n        this.transposed = false;\n        this.isRect = true;\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        this.x = {\n          start: start.x,\n          end: end.x\n        };\n        this.y = {\n          start: start.y,\n          end: end.y\n        };\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        return {\n          x: x.start + (x.end - x.start) * point[xDim],\n          y: y.start + (y.end - y.start) * point[yDim]\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var rst = {};\n        rst[xDim] = (point.x - x.start) / (x.end - x.start);\n        rst[yDim] = (point.y - y.start) / (y.end - y.start);\n        return rst;\n      };\n\n      return Cartesian;\n    }(Base$1);\n\n    Base$1.Cartesian = Cartesian;\n    Base$1.Rect = Cartesian;\n\n    /**\n     * @fileOverview the Attribute base class\n     */\n\n    function toScaleString(scale, value) {\n      if (isString(value)) {\n        return value;\n      }\n\n      return scale.invert(scale.scale(value));\n    }\n    /**\n     * 所有视觉通道属性的基类\n     * @class Attr\n     */\n\n\n    var AttributeBase = /*#__PURE__*/function () {\n      function AttributeBase(cfg) {\n        var _this = this;\n\n        /**\n         * 属性的类型\n         * @type {String}\n         */\n        this.type = 'base';\n        /**\n         * 属性的名称\n         * @type {String}\n         */\n\n        this.name = null;\n        /**\n         * 回调函数\n         * @type {Function}\n         */\n\n        this.method = null;\n        /**\n         * 备选的值数组\n         * @type {Array}\n         */\n\n        this.values = [];\n        /**\n         * 属性内部的度量\n         * @type {Array}\n         */\n\n        this.scales = [];\n        /**\n         * 是否通过线性取值, 如果未指定，则根据数值的类型判定\n         * @type {Boolean}\n         */\n\n        this.linear = null;\n        /**\n         * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n         */\n\n        var mixedCallback = null;\n        var defaultCallback = this.callback;\n\n        if (cfg.callback) {\n          var userCallback = cfg.callback;\n\n          mixedCallback = function mixedCallback() {\n            for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n              params[_key] = arguments[_key];\n            }\n\n            var ret = userCallback.apply(void 0, params);\n\n            if (isNil(ret)) {\n              ret = defaultCallback.apply(_this, params);\n            }\n\n            return ret;\n          };\n        }\n\n        mix(this, cfg);\n\n        if (mixedCallback) {\n          mix(this, {\n            callback: mixedCallback\n          });\n        }\n      } // 获取属性值，将值映射到视觉通道\n\n\n      var _proto = AttributeBase.prototype;\n\n      _proto._getAttrValue = function _getAttrValue(scale, value) {\n        var values = this.values;\n\n        if (scale.isCategory && !this.linear) {\n          var index = scale.translate(value);\n          return values[index % values.length];\n        }\n\n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n      }\n      /**\n       * 如果进行线性映射，返回对应的映射值\n       * @protected\n       * @param  {Number} percent 百分比\n       * @return {*}  颜色值、形状、大小等\n       */\n      ;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var steps = values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        var start = values[step];\n        var end = step === steps ? start : values[step + 1];\n        var rstValue = start + (end - start) * leftPercent;\n        return rstValue;\n      }\n      /**\n       * 默认的回调函数\n       * @param {*} value 回调函数的值\n       * @type {Function}\n       * @return {Array} 返回映射后的值\n       */\n      ;\n\n      _proto.callback = function callback(value) {\n        var self = this;\n        var scale = self.scales[0];\n        var rstValue = null;\n\n        if (scale.type === 'identity') {\n          rstValue = scale.value;\n        } else {\n          rstValue = self._getAttrValue(scale, value);\n        }\n\n        return rstValue;\n      }\n      /**\n       * 根据度量获取属性名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getNames = function getNames() {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n\n        for (var i = 0; i < length; i++) {\n          rst.push(names[i]);\n        }\n\n        return rst;\n      }\n      /**\n       * 根据度量获取维度名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getFields = function getFields() {\n        var scales = this.scales;\n        var rst = [];\n        each(scales, function (scale) {\n          rst.push(scale.field);\n        });\n        return rst;\n      }\n      /**\n       * 根据名称获取度量\n       * @param  {String} name the name of scale\n       * @return {Scale} scale\n       */\n      ;\n\n      _proto.getScale = function getScale(name) {\n        var scales = this.scales;\n        var names = this.names;\n        var index = names.indexOf(name);\n        return scales[index];\n      }\n      /**\n       * 映射数据\n       * @param {*} param1...paramn 多个数值\n       * @return {Array} 映射的值组成的数组\n       */\n      ;\n\n      _proto.mapping = function mapping() {\n        var scales = this.scales;\n        var callback = this.callback;\n\n        for (var _len2 = arguments.length, params = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          params[_key2] = arguments[_key2];\n        }\n\n        var values = params;\n\n        if (callback) {\n          for (var i = 0, len = params.length; i < len; i++) {\n            params[i] = this._toOriginParam(params[i], scales[i]);\n          }\n\n          values = callback.apply(this, params);\n        }\n\n        values = [].concat(values);\n        return values;\n      } // 原始的参数\n      ;\n\n      _proto._toOriginParam = function _toOriginParam(param, scale) {\n        var rst = param;\n\n        if (!scale.isLinear) {\n          if (isArray(param)) {\n            rst = [];\n\n            for (var i = 0, len = param.length; i < len; i++) {\n              rst.push(toScaleString(scale, param[i]));\n            }\n          } else {\n            rst = toScaleString(scale, param);\n          }\n        }\n\n        return rst;\n      };\n\n      return AttributeBase;\n    }();\n\n    var Position = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Position, _Base);\n\n      function Position(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n      }\n\n      var _proto = Position.prototype;\n\n      _proto.mapping = function mapping(x, y) {\n        var scales = this.scales;\n        var coord = this.coord;\n        var scaleX = scales[0];\n        var scaleY = scales[1];\n        var rstX;\n        var rstY;\n        var obj;\n\n        if (isNil(x) || isNil(y)) {\n          return [];\n        }\n\n        if (isArray(y) && isArray(x)) {\n          rstX = [];\n          rstY = [];\n\n          for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i++, j++) {\n            obj = coord.convertPoint({\n              x: scaleX.scale(x[i]),\n              y: scaleY.scale(y[j])\n            });\n            rstX.push(obj.x);\n            rstY.push(obj.y);\n          }\n        } else if (isArray(y)) {\n          x = scaleX.scale(x);\n          rstY = [];\n          each(y, function (yVal) {\n            yVal = scaleY.scale(yVal);\n            obj = coord.convertPoint({\n              x: x,\n              y: yVal\n            });\n\n            if (rstX && rstX !== obj.x) {\n              if (!isArray(rstX)) {\n                rstX = [rstX];\n              }\n\n              rstX.push(obj.x);\n            } else {\n              rstX = obj.x;\n            }\n\n            rstY.push(obj.y);\n          });\n        } else if (isArray(x)) {\n          y = scaleY.scale(y);\n          rstX = [];\n          each(x, function (xVal) {\n            xVal = scaleX.scale(xVal);\n            obj = coord.convertPoint({\n              x: xVal,\n              y: y\n            });\n\n            if (rstY && rstY !== obj.y) {\n              if (!isArray(rstY)) {\n                rstY = [rstY];\n              }\n\n              rstY.push(obj.y);\n            } else {\n              rstY = obj.y;\n            }\n\n            rstX.push(obj.x);\n          });\n        } else {\n          x = scaleX.scale(x);\n          y = scaleY.scale(y);\n          var point = coord.convertPoint({\n            x: x,\n            y: y\n          });\n          rstX = point.x;\n          rstY = point.y;\n        }\n\n        return [rstX, rstY];\n      };\n\n      return Position;\n    }(AttributeBase);\n\n    var Shape = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Shape, _Base);\n\n      function Shape(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['shape'];\n        _this.type = 'shape';\n        _this.gradient = null;\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Shape.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var index = Math.round((values.length - 1) * percent);\n        return values[index];\n      };\n\n      return Shape;\n    }(AttributeBase);\n\n    var Size = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Size, _Base);\n\n      function Size(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['size'];\n        _this.type = 'size';\n        _this.gradient = null;\n        return _this;\n      }\n\n      return Size;\n    }(AttributeBase);\n\n    function getValue(start, end, percent, index) {\n      var value = start[index] + (end[index] - start[index]) * percent;\n      return value;\n    } // convert to hex\n\n\n    function arr2hex(arr) {\n      return '#' + toRGBValue(arr[0]) + toRGBValue(arr[1]) + toRGBValue(arr[2]);\n    }\n\n    function toRGBValue(value) {\n      value = Math.round(value);\n      value = value.toString(16);\n\n      if (value.length === 1) {\n        value = '0' + value;\n      }\n\n      return value;\n    }\n\n    function calColor(colors, percent) {\n      var steps = colors.length - 1;\n      var step = Math.floor(steps * percent);\n      var left = steps * percent - step;\n      var start = colors[step];\n      var end = step === steps ? start : colors[step + 1];\n      var rgb = arr2hex([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n      return rgb;\n    }\n\n    function hex2arr(str) {\n      var arr = [];\n      arr.push(parseInt(str.substr(1, 2), 16));\n      arr.push(parseInt(str.substr(3, 2), 16));\n      arr.push(parseInt(str.substr(5, 2), 16));\n      return arr;\n    }\n\n    var colorCache = {\n      black: '#000000',\n      blue: '#0000ff',\n      grey: '#808080',\n      green: '#008000',\n      orange: '#ffa500',\n      pink: '#ffc0cb',\n      purple: '#800080',\n      red: '#ff0000',\n      white: '#ffffff',\n      yellow: '#ffff00'\n    };\n    /**\n     * Returns a hexadecimal string representing this color in RGB space, such as #f7eaba.\n     * @param  {String} color color value\n     * @return {String} Returns a hexadecimal string\n     */\n\n    function toHex(color) {\n      if (colorCache[color]) {\n        return colorCache[color];\n      }\n\n      if (color[0] === '#') {\n        if (color.length === 7) {\n          return color;\n        }\n\n        var hex = color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (m, r, g, b) {\n          return '#' + r + r + g + g + b + b;\n        }); // hex3 to hex6\n\n        colorCache[color] = hex;\n        return hex;\n      } // rgb/rgba to hex\n\n\n      var rst = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      rst.shift();\n      rst = arr2hex(rst);\n      colorCache[color] = rst;\n      return rst;\n    }\n    /**\n     * handle the gradient color\n     * @param  {Array} colors the colors\n     * @return {String} return the color value\n     */\n\n\n    function gradient(colors) {\n      var points = [];\n\n      if (isString(colors)) {\n        colors = colors.split('-');\n      }\n\n      each(colors, function (color) {\n        if (color.indexOf('#') === -1) {\n          color = toHex(color);\n        }\n\n        points.push(hex2arr(color));\n      });\n      return function (percent) {\n        return calColor(points, percent);\n      };\n    }\n\n    var Color = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Color, _Base);\n\n      function Color(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['color'];\n        _this.type = 'color';\n        _this.gradient = null;\n\n        if (isString(_this.values)) {\n          _this.linear = true;\n        }\n\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Color.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var gradient$1 = this.gradient;\n\n        if (!gradient$1) {\n          var values = this.values;\n          gradient$1 = gradient(values);\n          this.gradient = gradient$1;\n        }\n\n        return gradient$1(percent);\n      };\n\n      return Color;\n    }(AttributeBase);\n\n    var Attr = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Position: Position,\n        Shape: Shape,\n        Size: Size,\n        Color: Color\n    });\n\n    var Shape$1 = {};\n    var ShapeBase = {\n      _coord: null,\n\n      /**\n       * draw the shape\n       * @param {Object} cfg options\n       * @param {Object} container container to store the shapes\n       */\n      draw: function draw(cfg, container) {\n        if (this.drawShape) {\n          this.drawShape(cfg, container);\n        }\n      },\n\n      /**\n       * set the coordinate instance\n       * @param {Coord} coord coordinate instance\n       */\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {point} point the point to convert\n       * @return {point} point return the result\n       */\n      parsePoint: function parsePoint(point) {\n        var coord = this._coord;\n\n        if (coord.isPolar) {\n          if (point.x === 1) point.x = 0.9999999;\n          if (point.y === 1) point.y = 0.9999999;\n        }\n\n        return coord.convertPoint(point);\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {points} points the array that store the points\n       * @return {points} points return the result\n       */\n      parsePoints: function parsePoints(points) {\n        if (!points) return false;\n        var self = this;\n        var rst = [];\n        points.forEach(function (point) {\n          rst.push(self.parsePoint(point));\n        });\n        return rst;\n      }\n    };\n    var ShapeFactoryBase = {\n      defaultShapeType: null,\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n      getShape: function getShape(type) {\n        var self = this;\n\n        if (isArray(type)) {\n          type = type[0];\n        }\n\n        var shape = self[type] || self[self.defaultShapeType];\n        shape._coord = self._coord;\n        return shape;\n      },\n      getShapePoints: function getShapePoints(type, cfg) {\n        var shape = this.getShape(type);\n        var fn = shape.getPoints || shape.getShapePoints || this.getDefaultPoints;\n        var points = fn(cfg);\n        return points;\n      },\n      getDefaultPoints: function getDefaultPoints()\n      /* cfg */\n      {\n        return [];\n      },\n      drawShape: function drawShape(type, cfg, container) {\n        var shape = this.getShape(type);\n\n        if (!cfg.color) {\n          cfg.color = Global.colors[0];\n        }\n\n        return shape.draw(cfg, container);\n      }\n    };\n\n    Shape$1.registerFactory = function (factoryName, cfg) {\n      var className = upperFirst(factoryName);\n      var geomObj = mix({}, ShapeFactoryBase, cfg);\n      Shape$1[className] = geomObj;\n      geomObj.name = factoryName;\n      return geomObj;\n    };\n\n    Shape$1.registerShape = function (factoryName, shapeType, cfg) {\n      var className = upperFirst(factoryName);\n      var factory = Shape$1[className];\n      var shapeObj = mix({}, ShapeBase, cfg);\n      factory[shapeType] = shapeObj;\n      return shapeObj;\n    };\n\n    Shape$1.registShape = Shape$1.registerShape;\n\n    Shape$1.getShapeFactory = function (factoryName) {\n      var self = this;\n      factoryName = factoryName || 'point';\n      var className = upperFirst(factoryName);\n      return self[className];\n    };\n\n    function _mix$1(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    var mix$1 = function mix(dist, src1, src2, src3) {\n      if (src1) _mix$1(dist, src1);\n      if (src2) _mix$1(dist, src2);\n      if (src3) _mix$1(dist, src3);\n      return dist;\n    };\n\n    var mix_1 = mix$1;\n\n    var Adjust = /*#__PURE__*/function () {\n      var _proto = Adjust.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      function Adjust(cfg) {\n        this._initDefaultCfg();\n\n        mix_1(this, cfg);\n      }\n      /**\n       * @override\n       */\n\n\n      _proto.processAdjust = function processAdjust()\n      /* dataArray */\n      {};\n\n      return Adjust;\n    }();\n\n    var base = Adjust;\n\n    function generateScaleAria(scale) {\n      var type = scale.type,\n          values = scale.values;\n\n      if (type === 'linear') {\n        return substitute(lang.scale.linear, scale);\n      }\n\n      if (type === 'cat') {\n        return substitute(lang.scale.cat, {\n          values: values.slice(0, 10).join(' ')\n        });\n      }\n\n      if (type === 'timeCat') {\n        var start = scale.getText(values[0]);\n        var end = scale.getText(values[values.length - 1]);\n        return substitute(lang.scale.timeCat, {\n          start: start,\n          end: end\n        });\n      }\n\n      return '';\n    }\n    function generateCoordAria(coord, xScale, yScale) {\n      var type = coord.type;\n\n      if (!lang.coord[type]) {\n        return '';\n      }\n\n      return substitute(lang.coord[type], {\n        xLabel: generateScaleAria(xScale),\n        yLabel: generateScaleAria(yScale)\n      });\n    }\n\n    var GROUP_ATTRS = ['color', 'size', 'shape'];\n    var FIELD_ORIGIN = '_origin';\n    var FIELD_ORIGIN_Y = '_originY';\n\n    function parseFields(field) {\n      if (isArray(field)) {\n        return field;\n      }\n\n      if (isString(field)) {\n        return field.split('*');\n      }\n\n      return [field];\n    }\n    /**\n     * The parent class for Geometry\n     * @class Geom\n     */\n\n\n    var Geom = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Geom, _Base);\n\n      function Geom() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Geom.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * geometry type\n           * @type {String}\n           */\n          type: null,\n\n          /**\n           * the data of geometry\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * the attrs of geo,etry\n           * @type {Object}\n           */\n          attrs: {},\n          scales: {},\n\n          /**\n           * group for storing the shapes\n           * @type {Canvas}\n           */\n          container: null,\n\n          /**\n           * style options\n           * @type {Object}\n           */\n          styleOptions: null,\n          chart: null,\n          shapeType: '',\n\n          /**\n           * wether to generate key points for each shape\n           * @protected\n           * @type {Boolean}\n           */\n          generatePoints: false,\n          attrOptions: {},\n          sortable: false,\n          startOnZero: true,\n          visible: true,\n          connectNulls: false,\n          // 是否丢弃没有值的分组。\n          ignoreEmptyGroup: false,\n          // 是否已经初始化\n          isInit: false\n        };\n      };\n\n      _proto.init = function init() {\n        var self = this;\n        var isInit = self.get('isInit');\n\n        if (isInit) {\n          return;\n        }\n\n        self._initAttrs();\n\n        self._processData();\n\n        self.set('isInit', true);\n      };\n\n      _proto._getGroupScales = function _getGroupScales() {\n        var self = this;\n        var scales = [];\n        each(GROUP_ATTRS, function (attrName) {\n          var attr = self.getAttr(attrName);\n\n          if (attr) {\n            var attrScales = attr.scales;\n            each(attrScales, function (scale) {\n              if (scale && scale.isCategory && scales.indexOf(scale) === -1) {\n                scales.push(scale);\n              }\n            });\n          }\n        });\n        return scales;\n      };\n\n      _proto._groupData = function _groupData(data) {\n        var self = this;\n        var colDefs = self.get('colDefs');\n\n        var groupScales = self._getGroupScales();\n\n        if (groupScales.length) {\n          var appendConditions = {};\n          var names = [];\n          each(groupScales, function (scale) {\n            var field = scale.field;\n            names.push(field);\n\n            if (colDefs && colDefs[field] && colDefs[field].values) {\n              // users have defined\n              appendConditions[scale.field] = colDefs[field].values;\n            }\n          });\n          return group(data, names, appendConditions);\n        }\n\n        return [data];\n      };\n\n      _proto._setAttrOptions = function _setAttrOptions(attrName, attrCfg) {\n        var options = this.get('attrOptions');\n        options[attrName] = attrCfg;\n        var attrs = this.get('attrs'); // 说明已经初始化过了\n\n        if (Object.keys(attrs).length) {\n          this._createAttr(attrName, attrCfg);\n        }\n      };\n\n      _proto._createAttrOption = function _createAttrOption(attrName, field, cfg, defaultValues) {\n        var attrCfg = {};\n        attrCfg.field = field;\n\n        if (cfg) {\n          if (isFunction(cfg)) {\n            attrCfg.callback = cfg;\n          } else {\n            attrCfg.values = cfg;\n          }\n        } else {\n          attrCfg.values = defaultValues;\n        }\n\n        this._setAttrOptions(attrName, attrCfg);\n      };\n\n      _proto._createAttr = function _createAttr(type, option) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var coord = self.get('coord');\n        var className = upperFirst(type);\n        var fields = parseFields(option.field);\n\n        if (type === 'position') {\n          option.coord = coord;\n        }\n\n        var scales = [];\n\n        for (var i = 0, len = fields.length; i < len; i++) {\n          var field = fields[i];\n\n          var scale = self._createScale(field);\n\n          scales.push(scale);\n        }\n\n        if (type === 'position') {\n          var yScale = scales[1]; // 饼图的处理，但是还不知道为啥\n\n          if (coord.type === 'polar' && coord.transposed && self.hasAdjust('stack')) {\n            if (yScale.values.length) {\n              yScale.change({\n                nice: false,\n                min: 0,\n                max: Math.max.apply(null, yScale.values)\n              });\n            }\n          }\n        }\n\n        option.scales = scales;\n        var attr = new Attr[className](option);\n        attrs[type] = attr;\n        return attr;\n      };\n\n      _proto._initAttrs = function _initAttrs() {\n        var self = this;\n        var attrOptions = self.get('attrOptions');\n\n        for (var type in attrOptions) {\n          if (attrOptions.hasOwnProperty(type)) {\n            this._createAttr(type, attrOptions[type]);\n          }\n        }\n      };\n\n      _proto._createScale = function _createScale(field) {\n        var scales = this.get('scales');\n        var scale = scales[field];\n\n        if (!scale) {\n          scale = this.get('chart').createScale(field);\n          scales[field] = scale;\n        }\n\n        return scale;\n      };\n\n      _proto._processData = function _processData() {\n        var self = this;\n        var data = this.get('data');\n        var dataArray = [];\n\n        var groupedArray = this._groupData(data);\n\n        if (this.get('ignoreEmptyGroup')) {\n          var yScale = this.getYScale();\n          groupedArray = groupedArray.filter(function (group) {\n            return group.some(function (item) {\n              return typeof item[yScale.field] !== 'undefined';\n            });\n          });\n        }\n\n        for (var i = 0, len = groupedArray.length; i < len; i++) {\n          var subData = groupedArray[i];\n\n          var tempData = self._saveOrigin(subData);\n\n          if (this.hasAdjust('dodge')) {\n            self._numberic(tempData);\n          }\n\n          dataArray.push(tempData);\n        }\n\n        if (self.get('adjust')) {\n          self._adjustData(dataArray);\n        }\n\n        if (self.get('sortable')) {\n          self._sort(dataArray);\n        }\n\n        self.emit('afterprocessdata', {\n          dataArray: dataArray\n        });\n        self.set('mappingData', dataArray);\n        self.set('dataArray', dataArray);\n        return dataArray;\n      };\n\n      _proto._saveOrigin = function _saveOrigin(data) {\n        var rst = [];\n\n        for (var i = 0, len = data.length; i < len; i++) {\n          var origin = data[i];\n          var obj = {};\n\n          for (var k in origin) {\n            obj[k] = origin[k];\n          }\n\n          obj[FIELD_ORIGIN] = origin;\n          rst.push(obj);\n        }\n\n        return rst;\n      };\n\n      _proto._numberic = function _numberic(data) {\n        var positionAttr = this.getAttr('position');\n        var scales = positionAttr.scales;\n\n        for (var j = 0, len = data.length; j < len; j++) {\n          var obj = data[j];\n          var count = Math.min(2, scales.length);\n\n          for (var i = 0; i < count; i++) {\n            var scale = scales[i];\n\n            if (scale.isCategory) {\n              var field = scale.field;\n              obj[field] = scale.translate(obj[field]);\n            }\n          }\n        }\n      };\n\n      _proto._adjustData = function _adjustData(dataArray) {\n        var self = this;\n        var adjust = self.get('adjust');\n\n        if (adjust) {\n          var adjustType = upperFirst(adjust.type);\n\n          if (!base[adjustType]) {\n            throw new Error('not support such adjust : ' + adjust);\n          }\n\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var cfg = mix({\n            xField: xScale.field,\n            yField: yScale.field\n          }, adjust);\n          var adjustObject = new base[adjustType](cfg);\n          adjustObject.processAdjust(dataArray);\n\n          if (adjustType === 'Stack') {\n            self._updateStackRange(yScale.field, yScale, dataArray);\n          }\n        }\n      };\n\n      _proto._updateStackRange = function _updateStackRange(field, scale, dataArray) {\n        var mergeArray = merge(dataArray);\n        var min = scale.min;\n        var max = scale.max;\n\n        for (var i = 0, len = mergeArray.length; i < len; i++) {\n          var obj = mergeArray[i];\n          var tmpMin = Math.min.apply(null, obj[field]);\n          var tmpMax = Math.max.apply(null, obj[field]);\n\n          if (tmpMin < min) {\n            min = tmpMin;\n          }\n\n          if (tmpMax > max) {\n            max = tmpMax;\n          }\n        }\n\n        if (min < scale.min || max > scale.max) {\n          scale.change({\n            min: min,\n            max: max\n          });\n        }\n      };\n\n      _proto._sort = function _sort(mappedArray) {\n        var self = this;\n        var xScale = self.getXScale();\n        var field = xScale.field,\n            type = xScale.type;\n\n        if (type !== 'identity' && xScale.values.length > 1) {\n          each(mappedArray, function (itemArr) {\n            itemArr.sort(function (obj1, obj2) {\n              if (type === 'timeCat') {\n                return toTimeStamp(obj1[FIELD_ORIGIN][field]) - toTimeStamp(obj2[FIELD_ORIGIN][field]);\n              }\n\n              return xScale.translate(obj1[FIELD_ORIGIN][field]) - xScale.translate(obj2[FIELD_ORIGIN][field]);\n            });\n          });\n        }\n\n        self.set('hasSorted', true);\n        self.set('dataArray', mappedArray);\n      };\n\n      _proto.paint = function paint() {\n        var self = this;\n        var dataArray = self.get('mappingData');\n        var mappedArray = [];\n        var shapeFactory = self.getShapeFactory();\n        shapeFactory.setCoord(self.get('coord'));\n\n        self._beforeMapping(dataArray);\n\n        for (var i = 0, len = dataArray.length; i < len; i++) {\n          var data = dataArray[i];\n\n          if (data.length) {\n            var mappedData = self._mapping(data);\n\n            mappedArray.push(mappedData);\n            self.draw(mappedData, shapeFactory);\n          }\n        }\n\n        self.set('dataArray', mappedArray);\n        this.generateAria();\n      };\n\n      _proto.getShapeFactory = function getShapeFactory() {\n        var shapeFactory = this.get('shapeFactory');\n\n        if (!shapeFactory) {\n          var shapeType = this.get('shapeType');\n          shapeFactory = Shape$1.getShapeFactory(shapeType);\n          this.set('shapeFactory', shapeFactory);\n        }\n\n        return shapeFactory;\n      };\n\n      _proto._mapping = function _mapping(data) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var yField = self.getYScale().field; // 用来缓存转换的值，减少mapping耗时\n\n        var mappedCache = {};\n        var mappedData = new Array(data.length);\n\n        for (var k in attrs) {\n          if (attrs.hasOwnProperty(k)) {\n            var attr = attrs[k];\n            var names = attr.names;\n            var scales = attr.scales;\n\n            for (var i = 0, len = data.length; i < len; i++) {\n              var record = data[i];\n\n              var mappedRecord = _extends({}, record, mappedData[i]);\n\n              mappedRecord[FIELD_ORIGIN_Y] = record[yField]; // 获取视觉属性对应的value值\n              // 位置的缓存命中率低，还是每次单独计算\n\n              if (attr.type === 'position') {\n                var values = self._getAttrValues(attr, record);\n\n                for (var j = 0, _len = values.length; j < _len; j++) {\n                  var val = values[j];\n                  var name = names[j];\n                  mappedRecord[name] = isArray(val) && val.length === 1 ? val[0] : val;\n                }\n              } else {\n                // 除了position其他都只有一项\n                var _name = names[0];\n                var field = scales[0].field;\n                var value = record[field];\n                var key = \"\" + _name + value;\n                var _values = mappedCache[key];\n\n                if (!_values) {\n                  _values = self._getAttrValues(attr, record);\n                  mappedCache[key] = _values;\n                }\n\n                mappedRecord[_name] = _values[0];\n              } // 设置新数组\n\n\n              mappedData[i] = mappedRecord;\n            }\n          }\n        }\n\n        return mappedData;\n      };\n\n      _proto._getAttrValues = function _getAttrValues(attr, record) {\n        var scales = attr.scales;\n        var params = [];\n\n        for (var i = 0, len = scales.length; i < len; i++) {\n          var scale = scales[i];\n          var field = scale.field;\n\n          if (scale.type === 'identity') {\n            params.push(scale.value);\n          } else {\n            params.push(record[field]);\n          }\n        }\n\n        var values = attr.mapping.apply(attr, params);\n        return values;\n      };\n\n      _proto.getAttrValue = function getAttrValue(attrName, record) {\n        var attr = this.getAttr(attrName);\n        var rst = null;\n\n        if (attr) {\n          var values = this._getAttrValues(attr, record);\n\n          rst = values[0];\n        }\n\n        return rst;\n      };\n\n      _proto._beforeMapping = function _beforeMapping(dataArray) {\n        var self = this;\n\n        if (self.get('generatePoints')) {\n          self._generatePoints(dataArray);\n        }\n      };\n\n      _proto.isInCircle = function isInCircle() {\n        var coord = this.get('coord');\n        return coord && coord.isPolar;\n      };\n\n      _proto.getCallbackCfg = function getCallbackCfg(fields, cfg, origin) {\n        if (!fields) {\n          return cfg;\n        }\n\n        var tmpCfg = {};\n        var params = fields.map(function (field) {\n          return origin[field];\n        });\n        each(cfg, function (v, k) {\n          if (isFunction(v)) {\n            tmpCfg[k] = v.apply(null, params);\n          } else {\n            tmpCfg[k] = v;\n          }\n        });\n        return tmpCfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var self = this;\n        var isInCircle = self.isInCircle();\n        var cfg = {\n          origin: obj,\n          x: obj.x,\n          y: obj.y,\n          color: obj.color,\n          size: obj.size,\n          shape: obj.shape,\n          isInCircle: isInCircle,\n          opacity: obj.opacity\n        };\n        var styleOptions = self.get('styleOptions');\n\n        if (styleOptions && styleOptions.style) {\n          cfg.style = self.getCallbackCfg(styleOptions.fields, styleOptions.style, obj[FIELD_ORIGIN]);\n        }\n\n        if (self.get('generatePoints')) {\n          cfg.points = obj.points;\n          cfg.nextPoints = obj.nextPoints;\n        }\n\n        if (isInCircle) {\n          cfg.center = self.get('coord').center;\n        }\n\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        each(data, function (obj, index) {\n          if (yScale && isNil(obj._origin[yScale.field])) {\n            return;\n          }\n\n          obj.index = index;\n          var cfg = self.getDrawCfg(obj);\n          var shape = obj.shape;\n          self.drawShape(shape, obj, cfg, container, shapeFactory);\n        });\n      };\n\n      _proto.drawShape = function drawShape(shape, shapeData, cfg, container, shapeFactory) {\n        var gShape = shapeFactory.drawShape(shape, cfg, container);\n\n        if (gShape) {\n          each([].concat(gShape), function (s) {\n            s.set('origin', shapeData);\n          });\n        }\n      };\n\n      _proto._generatePoints = function _generatePoints(dataArray) {\n        var self = this;\n        var shapeFactory = self.getShapeFactory();\n        var shapeAttr = self.getAttr('shape');\n        each(dataArray, function (data) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var cfg = self.createShapePointsCfg(obj);\n            var shape = shapeAttr ? self._getAttrValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n          }\n        }); // 添加nextPoints\n\n        each(dataArray, function (data, index) {\n          var nextData = dataArray[index + 1];\n\n          if (nextData) {\n            data[0].nextPoints = nextData[0].points;\n          }\n        });\n      } // 生成无障碍文本\n      ;\n\n      _proto.generateAria = function generateAria() {\n        var container = this.get('container');\n        var aria = container.get('aria');\n\n        if (!aria) {\n          return;\n        }\n\n        var ariaLables = [];\n        var coord = this.get('coord');\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var coordAriaLabel = generateCoordAria(coord, xScale, yScale);\n        ariaLables.push(coordAriaLabel);\n        var _lang$geometry = lang.geometry,\n            prefix = _lang$geometry.prefix,\n            oneData = _lang$geometry.oneData,\n            partData = _lang$geometry.partData,\n            allData = _lang$geometry.allData;\n        var dataArray = this.get('dataArray');\n        var count = dataArray.length; // 只处理一个，不然太复杂\n\n        var groupScale = this._getGroupScales()[0];\n\n        if (groupScale) {\n          var prefixLabel = substitute(prefix, {\n            count: count\n          });\n          ariaLables.push(prefixLabel);\n          each(dataArray, function (data, index) {\n            var len = data.length;\n            if (!len) return;\n            var firstObj = data[0]._origin;\n\n            if (len === 1) {\n              ariaLables.push(substitute(oneData, {\n                index: index + 1,\n                count: len,\n                name: firstObj[groupScale.field],\n                values: firstObj[yScale.field]\n              }));\n            } else {\n              var template = len > 5 ? partData : allData;\n              var values = data.slice(0, 5).map(function (record) {\n                var _origin = record._origin;\n                var xValue = xScale.getText(_origin[xScale.field]);\n                var yValue = yScale.getText(_origin[yScale.field]);\n                return xValue + \":\" + yValue;\n              });\n              ariaLables.push(substitute(template, {\n                index: index + 1,\n                count: len,\n                part: 3,\n                name: firstObj[groupScale.field],\n                values: values.join(' ')\n              }));\n            }\n          });\n        }\n\n        container.set('ariaLabel', ariaLables.join(''));\n      }\n      /**\n       * get the info of each shape\n       * @protected\n       * @param  {Object} obj the data item\n       * @return {Object} cfg return the result\n       */\n      ;\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n\n        var x = this._normalizeValues(obj[xScale.field], xScale);\n\n        var y;\n\n        if (yScale) {\n          y = this._normalizeValues(obj[yScale.field], yScale);\n        } else {\n          y = obj.y ? obj.y : 0.1;\n        }\n\n        return {\n          x: x,\n          y: y,\n          y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n        };\n      };\n\n      _proto.getYMinValue = function getYMinValue() {\n        var yScale = this.getYScale();\n        var min = yScale.min,\n            max = yScale.max;\n        var value;\n\n        if (this.get('startOnZero')) {\n          if (max <= 0 && min <= 0) {\n            value = max;\n          } else {\n            value = min >= 0 ? min : 0;\n          }\n        } else {\n          value = min;\n        }\n\n        return value;\n      };\n\n      _proto._normalizeValues = function _normalizeValues(values, scale) {\n        var rst = [];\n\n        if (isArray(values)) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            var v = values[i];\n            rst.push(scale.scale(v));\n          }\n        } else {\n          rst = scale.scale(values);\n        }\n\n        return rst;\n      };\n\n      _proto.getAttr = function getAttr(name) {\n        return this.get('attrs')[name];\n      };\n\n      _proto.getXScale = function getXScale() {\n        return this.getAttr('position').scales[0];\n      };\n\n      _proto.getYScale = function getYScale() {\n        return this.getAttr('position').scales[1];\n      };\n\n      _proto.hasAdjust = function hasAdjust(adjust) {\n        return this.get('adjust') && this.get('adjust').type === adjust;\n      };\n\n      _proto._getSnap = function _getSnap(scale, item, arr) {\n        var i = 0;\n        var values;\n        var yField = this.getYScale().field; // 叠加的维度\n\n        if (this.hasAdjust('stack') && scale.field === yField) {\n          values = [];\n          arr.forEach(function (obj) {\n            values.push(obj[FIELD_ORIGIN_Y]);\n          });\n\n          for (var len = values.length; i < len; i++) {\n            if (values[0][0] > item) {\n              break;\n            }\n\n            if (values[values.length - 1][1] <= item) {\n              i = values.length - 1;\n              break;\n            }\n\n            if (values[i][0] <= item && values[i][1] > item) {\n              break;\n            }\n          }\n        } else {\n          values = scale.values;\n          values.sort(function (a, b) {\n            return a - b;\n          });\n\n          for (var _len2 = values.length; i < _len2; i++) {\n            // 如果只有1个点直接返回第1个点\n            if (_len2 <= 1) {\n              break;\n            } // 第1个点和第2个点之间\n\n\n            if ((values[0] + values[1]) / 2 > item) {\n              break;\n            } // 中间的点\n\n\n            if ((values[i - 1] + values[i]) / 2 <= item && (values[i + 1] + values[i]) / 2 > item) {\n              break;\n            } // 最后2个点\n\n\n            if ((values[values.length - 2] + values[values.length - 1]) / 2 <= item) {\n              i = values.length - 1;\n              break;\n            }\n          }\n        }\n\n        var result = values[i];\n        return result;\n      };\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScale();\n        var xfield = xScale.field;\n        var dataArray = self.get('dataArray');\n\n        if (!this.get('hasSorted')) {\n          this._sort(dataArray);\n        }\n\n        var rst = [];\n        var invertPoint = coord.invertPoint(point);\n        var invertPointX = invertPoint.x;\n\n        if (self.isInCircle() && !coord.transposed && invertPointX > (1 + xScale.rangeMax()) / 2) {\n          invertPointX = xScale.rangeMin();\n        }\n\n        var xValue = xScale.invert(invertPointX);\n\n        if (!xScale.isCategory) {\n          xValue = self._getSnap(xScale, xValue);\n        }\n\n        var tmp = [];\n        dataArray.forEach(function (data) {\n          data.forEach(function (obj) {\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (self._isEqual(originValue, xValue, xScale)) {\n              tmp.push(obj);\n            }\n          });\n        }); // special for pie chart\n\n        if (this.hasAdjust('stack') && coord.isPolar && coord.transposed) {\n          if (invertPointX >= 0 && invertPointX <= 1) {\n            var yValue = yScale.invert(invertPoint.y);\n            yValue = self._getSnap(yScale, yValue, tmp);\n            tmp.forEach(function (obj) {\n              if (isArray(yValue) ? obj[FIELD_ORIGIN_Y].toString() === yValue.toString() : obj[FIELD_ORIGIN_Y] === yValue) {\n                rst.push(obj);\n              }\n            });\n          }\n        } else {\n          rst = tmp;\n        }\n\n        return rst;\n      };\n\n      _proto.getRecords = function getRecords(value) {\n        var _this = this;\n\n        var xScale = this.getXScale();\n        var dataArray = this.get('dataArray');\n        var xfield = xScale.field;\n        return dataArray.map(function (data) {\n          for (var len = data.length, i = len - 1; i >= 0; i--) {\n            var obj = data[i];\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (_this._isEqual(originValue, value, xScale)) {\n              return obj;\n            }\n          }\n\n          return null;\n        });\n      };\n\n      _proto._isEqual = function _isEqual(originValue, value, scale) {\n        if (scale.type === 'timeCat') {\n          return toTimeStamp(originValue) === value;\n        }\n\n        return value === originValue;\n      };\n\n      _proto.position = function position(field) {\n        this._setAttrOptions('position', {\n          field: field\n        });\n\n        return this;\n      };\n\n      _proto.color = function color(field, values) {\n        this._createAttrOption('color', field, values, Global.colors);\n\n        return this;\n      };\n\n      _proto.size = function size(field, values) {\n        this._createAttrOption('size', field, values, Global.sizes);\n\n        return this;\n      };\n\n      _proto.shape = function shape(field, values) {\n        var type = this.get('type');\n        var shapes = Global.shapes[type] || [];\n\n        this._createAttrOption('shape', field, values, shapes);\n\n        return this;\n      };\n\n      _proto.style = function style(field, cfg) {\n        var styleOptions = this.get('styleOptions');\n\n        if (!styleOptions) {\n          styleOptions = {};\n          this.set('styleOptions', styleOptions);\n        }\n\n        if (isObject(field)) {\n          cfg = field;\n          field = null;\n        }\n\n        var fields;\n\n        if (field) {\n          fields = parseFields(field);\n        }\n\n        styleOptions.fields = fields;\n        styleOptions.style = cfg;\n        return this;\n      };\n\n      _proto.adjust = function adjust(type) {\n        if (isString(type)) {\n          type = {\n            type: type\n          };\n        }\n\n        this.set('adjust', type);\n        return this;\n      };\n\n      _proto.animate = function animate(cfg) {\n        this.set('animateCfg', cfg);\n        return this;\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.set('data', data); // 改变数据后，情况度量，因为需要重新实例化\n\n        this.set('scales', {});\n        if (!this.get('isInit')) return;\n        this.set('isInit', false);\n        this.init();\n      };\n\n      _proto.clearInner = function clearInner() {\n        var container = this.get('container');\n\n        if (container) {\n          container.clear(); // container.setMatrix([ 1, 0, 0, 1, 0, 0 ]);\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.set('isInit', false);\n        this.set('attrs', {});\n        this.set('attrOptions', {});\n        this.set('adjust', null);\n        this.clearInner();\n      };\n\n      _proto.clear = function clear() {\n        this.clearInner();\n      };\n\n      _proto.destroy = function destroy() {\n        this.set('isInit', false);\n        this.clear();\n\n        _Base.prototype.destroy.call(this);\n      };\n\n      _proto._display = function _display(visible) {\n        this.set('visible', visible);\n        var container = this.get('container');\n        var canvas = container.get('canvas');\n        container.set('visible', visible);\n        canvas.draw();\n      };\n\n      _proto.show = function show() {\n        this._display(true);\n      };\n\n      _proto.hide = function hide() {\n        this._display(false);\n      };\n\n      return Geom;\n    }(Base);\n\n    var methodCache = {};\n    /**\n     * 获取计算 ticks 的方法\n     * @param key 键值\n     * @returns 计算 ticks 的方法\n     */\n\n    function getTickMethod(key) {\n      return methodCache[key];\n    }\n    /**\n     * 注册计算 ticks 的方法\n     * @param key 键值\n     * @param method 方法\n     */\n\n    function registerTickMethod(key, method) {\n      methodCache[key] = method;\n    }\n\n    var Scale =\n    /** @class */\n    function () {\n      function Scale(cfg) {\n        /**\n         * 度量的类型\n         */\n        this.type = 'base';\n        /**\n         * 是否分类类型的度量\n         */\n\n        this.isCategory = false;\n        /**\n         * 是否线性度量，有linear, time 度量\n         */\n\n        this.isLinear = false;\n        /**\n         * 是否连续类型的度量，linear,time,log, pow, quantile, quantize 都支持\n         */\n\n        this.isContinuous = false;\n        /**\n         * 是否是常量的度量，传入和传出一致\n         */\n\n        this.isIdentity = false;\n        this.values = [];\n        this.range = [0, 1];\n        this.ticks = [];\n        this.__cfg__ = cfg;\n        this.initCfg();\n        this.init();\n      } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n      Scale.prototype.translate = function (v) {\n        return v;\n      };\n      /** 重新初始化 */\n\n\n      Scale.prototype.change = function (cfg) {\n        // 覆盖配置项，而不替代\n        mix(this.__cfg__, cfg);\n        this.init();\n      };\n\n      Scale.prototype.clone = function () {\n        return this.constructor(this.__cfg__);\n      };\n      /** 获取坐标轴需要的ticks */\n\n\n      Scale.prototype.getTicks = function () {\n        var _this = this;\n\n        return map(this.ticks, function (tick, idx) {\n          if (isObject(tick)) {\n            // 仅当符合Tick类型时才有意义\n            return tick;\n          }\n\n          return {\n            text: _this.getText(tick, idx),\n            tickValue: tick,\n            value: _this.scale(tick)\n          };\n        });\n      };\n      /** 获取Tick的格式化结果 */\n\n\n      Scale.prototype.getText = function (value, key) {\n        var formatter = this.formatter;\n        var res = formatter ? formatter(value, key) : value;\n\n        if (isNil(res) || !isFunction(res.toString)) {\n          return '';\n        }\n\n        return res.toString();\n      }; // 获取配置项中的值，当前 scale 上的值可能会被修改\n\n\n      Scale.prototype.getConfig = function (key) {\n        return this.__cfg__[key];\n      }; // scale初始化\n\n\n      Scale.prototype.init = function () {\n        mix(this, this.__cfg__);\n        this.setDomain();\n\n        if (isEmpty(this.getConfig('ticks'))) {\n          this.ticks = this.calculateTicks();\n        }\n      }; // 子类上覆盖某些属性，不能直接在类上声明，否则会被覆盖\n\n\n      Scale.prototype.initCfg = function () {};\n\n      Scale.prototype.setDomain = function () {};\n\n      Scale.prototype.calculateTicks = function () {\n        var tickMethod = this.tickMethod;\n        var ticks = [];\n\n        if (isString(tickMethod)) {\n          var method = getTickMethod(tickMethod);\n\n          if (!method) {\n            throw new Error('There is no method to to calculate ticks!');\n          }\n\n          ticks = method(this);\n        } else if (isFunction(tickMethod)) {\n          ticks = tickMethod(this);\n        }\n\n        return ticks;\n      }; // range 的最小值\n\n\n      Scale.prototype.rangeMin = function () {\n        return head(this.range);\n      }; // range 的最大值\n\n\n      Scale.prototype.rangeMax = function () {\n        return last(this.range);\n      };\n      /** 定义域转 0~1 */\n\n\n      Scale.prototype.calcPercent = function (value, min, max) {\n        if (isNumber(value)) {\n          return (value - min) / (max - min);\n        }\n\n        return NaN;\n      };\n      /** 0~1转定义域 */\n\n\n      Scale.prototype.calcValue = function (percent, min, max) {\n        return min + percent * (max - min);\n      };\n\n      return Scale;\n    }();\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\n\n    /* global Reflect, Promise */\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      };\n\n      return extendStatics(d, b);\n    };\n\n    function __extends(d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n      return r;\n    }\n\n    /**\n     * 分类度量\n     * @class\n     */\n\n    var Category =\n    /** @class */\n    function (_super) {\n      __extends(Category, _super);\n\n      function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n      }\n\n      Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n\n        if (index === -1) {\n          return isNumber(value) ? value : NaN;\n        }\n\n        return index;\n      };\n\n      Category.prototype.scale = function (value) {\n        var order = this.translate(value); // 分类数据允许 0.5 范围内调整\n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n      };\n\n      Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n\n        if (idx < this.min || idx > this.max) {\n          return NaN;\n        }\n\n        return this.values[idx];\n      };\n\n      Category.prototype.getText = function (value) {\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments[_i];\n        }\n\n        var v = value; // value为index\n\n        if (isNumber(value) && !this.values.includes(value)) {\n          v = this.values[v];\n        }\n\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n      }; // 复写属性\n\n\n      Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n      }; // 设置 min, max\n\n\n      Category.prototype.setDomain = function () {\n        // 用户有可能设置 min\n        if (isNil(this.getConfig('min'))) {\n          this.min = 0;\n        }\n\n        if (isNil(this.getConfig('max'))) {\n          var size = this.values.length;\n          this.max = size > 1 ? size - 1 : size;\n        }\n      };\n\n      return Category;\n    }(Scale);\n\n    var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\n    var twoDigitsOptional = \"[1-9]\\\\d?\";\n    var twoDigits = \"\\\\d\\\\d\";\n    var threeDigits = \"\\\\d{3}\";\n    var fourDigits = \"\\\\d{4}\";\n    var word = \"[^\\\\s]+\";\n    var literal = /\\[([^]*?)\\]/gm;\n\n    function shorten(arr, sLen) {\n      var newArr = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n      }\n\n      return newArr;\n    }\n\n    var monthUpdate = function (arrName) {\n      return function (v, i18n) {\n        var lowerCaseArr = i18n[arrName].map(function (v) {\n          return v.toLowerCase();\n        });\n        var index = lowerCaseArr.indexOf(v.toLowerCase());\n\n        if (index > -1) {\n          return index;\n        }\n\n        return null;\n      };\n    };\n\n    function assign(origObj) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n\n        for (var key in obj) {\n          // @ts-ignore ex\n          origObj[key] = obj[key];\n        }\n      }\n\n      return origObj;\n    }\n\n    var dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var monthNamesShort = shorten(monthNames, 3);\n    var dayNamesShort = shorten(dayNames, 3);\n    var defaultI18n = {\n      dayNamesShort: dayNamesShort,\n      dayNames: dayNames,\n      monthNamesShort: monthNamesShort,\n      monthNames: monthNames,\n      amPm: [\"am\", \"pm\"],\n      DoFn: function (dayOfMonth) {\n        return dayOfMonth + [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];\n      }\n    };\n    var globalI18n = assign({}, defaultI18n);\n\n    var setGlobalDateI18n = function (i18n) {\n      return globalI18n = assign(globalI18n, i18n);\n    };\n\n    var regexEscape = function (str) {\n      return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n    };\n\n    var pad = function (val, len) {\n      if (len === void 0) {\n        len = 2;\n      }\n\n      val = String(val);\n\n      while (val.length < len) {\n        val = \"0\" + val;\n      }\n\n      return val;\n    };\n\n    var formatFlags = {\n      D: function (dateObj) {\n        return String(dateObj.getDate());\n      },\n      DD: function (dateObj) {\n        return pad(dateObj.getDate());\n      },\n      Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n      },\n      d: function (dateObj) {\n        return String(dateObj.getDay());\n      },\n      dd: function (dateObj) {\n        return pad(dateObj.getDay());\n      },\n      ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n      },\n      dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n      },\n      M: function (dateObj) {\n        return String(dateObj.getMonth() + 1);\n      },\n      MM: function (dateObj) {\n        return pad(dateObj.getMonth() + 1);\n      },\n      MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n      },\n      MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n      },\n      YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n      },\n      YYYY: function (dateObj) {\n        return pad(dateObj.getFullYear(), 4);\n      },\n      h: function (dateObj) {\n        return String(dateObj.getHours() % 12 || 12);\n      },\n      hh: function (dateObj) {\n        return pad(dateObj.getHours() % 12 || 12);\n      },\n      H: function (dateObj) {\n        return String(dateObj.getHours());\n      },\n      HH: function (dateObj) {\n        return pad(dateObj.getHours());\n      },\n      m: function (dateObj) {\n        return String(dateObj.getMinutes());\n      },\n      mm: function (dateObj) {\n        return pad(dateObj.getMinutes());\n      },\n      s: function (dateObj) {\n        return String(dateObj.getSeconds());\n      },\n      ss: function (dateObj) {\n        return pad(dateObj.getSeconds());\n      },\n      S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n      },\n      SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n      },\n      SSS: function (dateObj) {\n        return pad(dateObj.getMilliseconds(), 3);\n      },\n      a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n      },\n      A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n      },\n      ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);\n      },\n      Z: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60), 2) + \":\" + pad(Math.abs(offset) % 60, 2);\n      }\n    };\n\n    var monthParse = function (v) {\n      return +v - 1;\n    };\n\n    var emptyDigits = [null, twoDigitsOptional];\n    var emptyWord = [null, word];\n    var amPm = [\"isPm\", word, function (v, i18n) {\n      var val = v.toLowerCase();\n\n      if (val === i18n.amPm[0]) {\n        return 0;\n      } else if (val === i18n.amPm[1]) {\n        return 1;\n      }\n\n      return null;\n    }];\n    var timezoneOffset = [\"timezoneOffset\", \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\", function (v) {\n      var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n      if (parts) {\n        var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n        return parts[0] === \"+\" ? minutes : -minutes;\n      }\n\n      return 0;\n    }];\n    var parseFlags = {\n      D: [\"day\", twoDigitsOptional],\n      DD: [\"day\", twoDigits],\n      Do: [\"day\", twoDigitsOptional + word, function (v) {\n        return parseInt(v, 10);\n      }],\n      M: [\"month\", twoDigitsOptional, monthParse],\n      MM: [\"month\", twoDigits, monthParse],\n      YY: [\"year\", twoDigits, function (v) {\n        var now = new Date();\n        var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n        return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n      }],\n      h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n      hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n      H: [\"hour\", twoDigitsOptional],\n      HH: [\"hour\", twoDigits],\n      m: [\"minute\", twoDigitsOptional],\n      mm: [\"minute\", twoDigits],\n      s: [\"second\", twoDigitsOptional],\n      ss: [\"second\", twoDigits],\n      YYYY: [\"year\", fourDigits],\n      S: [\"millisecond\", \"\\\\d\", function (v) {\n        return +v * 100;\n      }],\n      SS: [\"millisecond\", twoDigits, function (v) {\n        return +v * 10;\n      }],\n      SSS: [\"millisecond\", threeDigits],\n      d: emptyDigits,\n      dd: emptyDigits,\n      ddd: emptyWord,\n      dddd: emptyWord,\n      MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n      MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n      a: amPm,\n      A: amPm,\n      ZZ: timezoneOffset,\n      Z: timezoneOffset\n    }; // Some common format strings\n\n    var globalMasks = {\n      default: \"ddd MMM DD YYYY HH:mm:ss\",\n      shortDate: \"M/D/YY\",\n      mediumDate: \"MMM D, YYYY\",\n      longDate: \"MMMM D, YYYY\",\n      fullDate: \"dddd, MMMM D, YYYY\",\n      isoDate: \"YYYY-MM-DD\",\n      isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n      shortTime: \"HH:mm\",\n      mediumTime: \"HH:mm:ss\",\n      longTime: \"HH:mm:ss.SSS\"\n    };\n\n    var setGlobalDateMasks = function (masks) {\n      return assign(globalMasks, masks);\n    };\n    /***\n     * Format a date\n     * @method format\n     * @param {Date|number} dateObj\n     * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n     * @returns {string} Formatted date string\n     */\n\n\n    var format = function (dateObj, mask, i18n) {\n      if (mask === void 0) {\n        mask = globalMasks[\"default\"];\n      }\n\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n      }\n\n      if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" || isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n      }\n\n      mask = globalMasks[mask] || mask;\n      var literals = []; // Make literals inactive by replacing them with @@@\n\n      mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n      });\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // Apply formatting rules\n\n      mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n      }); // Inline literal values back into the formatted value\n\n      return mask.replace(/@@@/g, function () {\n        return literals.shift();\n      });\n    };\n    /**\n     * Parse a date string into a Javascript Date object /\n     * @method parse\n     * @param {string} dateStr Date string\n     * @param {string} format Date parse format\n     * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n     * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n     */\n\n\n    function parse(dateStr, format, i18n) {\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n      } // Check to see if the format is actually a mask\n\n\n      format = globalMasks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n      // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n      if (dateStr.length > 1000) {\n        return null;\n      } // Default to the beginning of the year.\n\n\n      var today = new Date();\n      var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n      };\n      var parseInfo = [];\n      var literals = []; // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n\n      var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n      });\n      var specifiedFields = {};\n      var requiredFields = {}; // Change every token that we find into the correct regex\n\n      newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0],\n            regex = info[1],\n            requiredField = info[3]; // Check if the person has specified the same field twice. This will lead to confusing results.\n\n        if (specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n\n        specifiedFields[field] = true; // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n\n        if (requiredField) {\n          requiredFields[requiredField] = true;\n        }\n\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n      }); // Check all the required fields are present\n\n      Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n      }); // Add back all the literals after\n\n      newFormat = newFormat.replace(/@@@/g, function () {\n        return literals.shift();\n      }); // Check if the date string matches the format. If it doesn't return null\n\n      var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n\n      if (!matches) {\n        return null;\n      }\n\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // For each match, call the parser function for that date part\n\n      for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1],\n            field = _a[0],\n            parser = _a[2];\n        var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i]; // If the parser can't make sense of the value, return null\n\n        if (value == null) {\n          return null;\n        }\n\n        dateInfo[field] = value;\n      }\n\n      if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n      } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n      }\n\n      var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n      var validateFields = [[\"month\", \"getMonth\"], [\"day\", \"getDate\"], [\"hour\", \"getHours\"], [\"minute\", \"getMinutes\"], [\"second\", \"getSeconds\"]];\n\n      for (var i = 0, len = validateFields.length; i < len; i++) {\n        // Check to make sure the date field is within the allowed range. Javascript dates allows values\n        // outside the allowed range. If the values don't match the value was invalid\n        if (specifiedFields[validateFields[i][0]] && dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n          return null;\n        }\n      }\n\n      if (dateInfo.timezoneOffset == null) {\n        return dateWithoutTZ;\n      }\n\n      return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n    }\n\n    var fecha = {\n      format: format,\n      parse: parse,\n      defaultI18n: defaultI18n,\n      setGlobalDateI18n: setGlobalDateI18n,\n      setGlobalDateMasks: setGlobalDateMasks\n    };\n\n    var fecha1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        'default': fecha,\n        assign: assign,\n        format: format,\n        parse: parse,\n        defaultI18n: defaultI18n,\n        setGlobalDateI18n: setGlobalDateI18n,\n        setGlobalDateMasks: setGlobalDateMasks\n    });\n\n    /**\n     * 二分右侧查找\n     * https://github.com/d3/d3-array/blob/master/src/bisector.js\n     */\n\n    function bisector (getter) {\n      /**\n       * x: 目标值\n       * lo: 起始位置\n       * hi: 结束位置\n       */\n      return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n\n          if (getter(a[mid]) > x) {\n            hi = mid;\n          } else {\n            lo = mid + 1;\n          }\n        }\n\n        return lo;\n      };\n    }\n\n    var FORMAT_METHOD = 'format';\n    function timeFormat(time, mask) {\n      var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n      return method(time, mask);\n    }\n    /**\n     * 转换成时间戳\n     * @param value 时间值\n     */\n\n    function toTimeStamp$1(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n    var SECOND = 1000;\n    var MINUTE = 60 * SECOND;\n    var HOUR = 60 * MINUTE;\n    var DAY = 24 * HOUR;\n    var MONTH = DAY * 31;\n    var YEAR = DAY * 365;\n    var intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', MONTH], ['YYYY-MM', MONTH * 4], ['YYYY-MM', MONTH * 6], ['YYYY', DAY * 380]];\n    function getTickInterval(min, max, tickCount) {\n      var target = (max - min) / tickCount;\n      var idx = bisector(function (o) {\n        return o[1];\n      })(intervals, target) - 1;\n      var interval = intervals[idx];\n\n      if (idx < 0) {\n        interval = intervals[0];\n      } else if (idx >= intervals.length) {\n        interval = last(intervals);\n      }\n\n      return interval;\n    }\n\n    /**\n     * 时间分类度量\n     * @class\n     */\n\n    var TimeCat =\n    /** @class */\n    function (_super) {\n      __extends(TimeCat, _super);\n\n      function TimeCat() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'timeCat';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp$1(value);\n        var index = this.values.indexOf(value);\n\n        if (index === -1) {\n          if (isNumber(value) && value < this.values.length) {\n            index = value;\n          } else {\n            index = NaN;\n          }\n        }\n\n        return index;\n      };\n      /**\n       * 由于时间类型数据需要转换一下，所以复写 getText\n       * @override\n       */\n\n\n      TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n\n        if (index > -1) {\n          var result = this.values[index];\n          var formatter = this.formatter;\n          result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n          return result;\n        }\n\n        return value;\n      };\n\n      TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n      };\n\n      TimeCat.prototype.setDomain = function () {\n        var values = this.values; // 针对时间分类类型，会将时间统一转换为时间戳\n\n        each(values, function (v, i) {\n          values[i] = toTimeStamp$1(v);\n        });\n        values.sort(function (v1, v2) {\n          return v1 - v2;\n        });\n\n        _super.prototype.setDomain.call(this);\n      };\n\n      return TimeCat;\n    }(Category);\n\n    /**\n     * 连续度量的基类\n     * @class\n     */\n\n    var Continuous =\n    /** @class */\n    function (_super) {\n      __extends(Continuous, _super);\n\n      function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.isContinuous = true;\n        return _this;\n      }\n\n      Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n          return NaN;\n        }\n\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return rangeMin;\n        }\n\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n      };\n\n      Continuous.prototype.init = function () {\n        _super.prototype.init.call(this); // init 完成后保证 min, max 包含 ticks 的范围\n\n\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n\n        if (firstTick < this.min) {\n          this.min = firstTick;\n        }\n\n        if (lastTick > this.max) {\n          this.max = lastTick;\n        } // strict-limit 方式\n\n\n        if (!isNil(this.minLimit)) {\n          this.min = firstTick;\n        }\n\n        if (!isNil(this.maxLimit)) {\n          this.max = lastTick;\n        }\n      };\n\n      Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values),\n            min = _a.min,\n            max = _a.max;\n\n        if (isNil(this.min)) {\n          this.min = min;\n        }\n\n        if (isNil(this.max)) {\n          this.max = max;\n        }\n\n        if (this.min > this.max) {\n          this.min = min;\n          this.max = max;\n        }\n      };\n\n      Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          ticks = filter(ticks, function (tick) {\n            return tick >= _this.min && tick <= _this.max;\n          });\n        }\n\n        return ticks;\n      }; // 计算原始值值占的百分比\n\n\n      Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n      };\n\n      Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n      };\n\n      return Continuous;\n    }(Scale);\n\n    /**\n     * 线性度量\n     * @class\n     */\n\n    var Linear =\n    /** @class */\n    function (_super) {\n      __extends(Linear, _super);\n\n      function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n      }\n\n      Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n      };\n\n      Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n      };\n\n      return Linear;\n    }(Continuous);\n\n    // 虽然数学上 b 不支持负数，但是这里需要支持 负数\n\n    function calBase(a, b) {\n      var e = Math.E;\n      var value;\n\n      if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n      } else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n      }\n\n      return value;\n    }\n    function log(a, b) {\n      if (a === 1) {\n        return 1;\n      }\n\n      return Math.log(b) / Math.log(a);\n    }\n    function getLogPositiveMin(values, base, max) {\n      if (isNil(max)) {\n        max = Math.max.apply(null, values);\n      }\n\n      var positiveMin = max;\n      each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n          positiveMin = value;\n        }\n      });\n\n      if (positiveMin === max) {\n        positiveMin = max / base;\n      }\n\n      if (positiveMin > 1) {\n        positiveMin = 1;\n      }\n\n      return positiveMin;\n    }\n\n    /**\n     * Log 度量，处理非均匀分布\n     */\n\n    var Log =\n    /** @class */\n    function (_super) {\n      __extends(Log, _super);\n\n      function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'log';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n\n        if (positiveMin) {\n          if (value === 0) {\n            return 0;\n          }\n\n          min = log(base, positiveMin / base);\n          var appendPercent = 1 / (max - min) * range; // 0 到 positiveMin的占比\n\n          if (value < appendPercent) {\n            // 落到 0 - positiveMin 之间\n            return value / appendPercent * positiveMin;\n          }\n        } else {\n          min = log(base, this.min);\n        }\n\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n      };\n\n      Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n      }; // 设置\n\n\n      Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n\n        var min = this.min;\n\n        if (min < 0) {\n          throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n\n        if (min === 0) {\n          this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n      }; // 根据当前值获取占比\n\n\n      Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        } // 如果值小于等于0，则按照0处理\n\n\n        if (value <= 0) {\n          return 0;\n        }\n\n        var base = this.base;\n        var positiveMin = this.positiveMin; // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n\n        if (positiveMin) {\n          min = positiveMin * 1 / base;\n        }\n\n        var percent; // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n\n        if (value < positiveMin) {\n          percent = value / positiveMin / (log(base, max) - log(base, min));\n        } else {\n          percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n\n        return percent;\n      };\n\n      return Log;\n    }(Continuous);\n\n    /**\n     * Pow 度量，处理非均匀分布\n     */\n\n    var Pow =\n    /** @class */\n    function (_super) {\n      __extends(Pow, _super);\n\n      function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'pow';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n      };\n\n      Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n      }; // 获取度量计算时，value占的定义域百分比\n\n\n      Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        }\n\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n      };\n\n      return Pow;\n    }(Continuous);\n\n    /**\n     * 时间度量\n     * @class\n     */\n\n    var Time =\n    /** @class */\n    function (_super) {\n      __extends(Time, _super);\n\n      function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'time';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n      };\n      /**\n       * @override\n       */\n\n\n      Time.prototype.scale = function (value) {\n        var v = value;\n\n        if (isString(v) || isDate(v)) {\n          v = this.translate(v);\n        }\n\n        return _super.prototype.scale.call(this, v);\n      };\n      /**\n       * 将时间转换成数字\n       * @override\n       */\n\n\n      Time.prototype.translate = function (v) {\n        return toTimeStamp$1(v);\n      };\n\n      Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n      };\n\n      Time.prototype.setDomain = function () {\n        var values = this.values; // 是否设置了 min, max，而不是直接取 this.min, this.max\n\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max'); // 如果设置了 min,max 则转换成时间戳\n\n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n          this.min = this.translate(this.min);\n        }\n\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n          this.max = this.translate(this.max);\n        } // 没有设置 min, max 时\n\n\n        if (values && values.length) {\n          // 重新计算最大最小值\n          var timeStamps_1 = [];\n          var min_1 = Infinity; // 最小值\n\n          var secondMin_1 = min_1; // 次小值\n\n          var max_1 = 0; // 使用一个循环，计算min,max,secondMin\n\n          each(values, function (v) {\n            var timeStamp = toTimeStamp$1(v);\n\n            if (isNaN(timeStamp)) {\n              throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n            }\n\n            if (min_1 > timeStamp) {\n              secondMin_1 = min_1;\n              min_1 = timeStamp;\n            } else if (secondMin_1 > timeStamp) {\n              secondMin_1 = timeStamp;\n            }\n\n            if (max_1 < timeStamp) {\n              max_1 = timeStamp;\n            }\n\n            timeStamps_1.push(timeStamp);\n          }); // 存在多个值时，设置最小间距\n\n          if (values.length > 1) {\n            this.minTickInterval = secondMin_1 - min_1;\n          }\n\n          if (isNil(minConfig)) {\n            this.min = min_1;\n          }\n\n          if (isNil(maxConfig)) {\n            this.max = max_1;\n          }\n        }\n      };\n\n      return Time;\n    }(Linear);\n\n    /**\n     * 分段度量\n     */\n\n    var Quantize =\n    /** @class */\n    function (_super) {\n      __extends(Quantize, _super);\n\n      function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantize';\n        return _this;\n      }\n\n      Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1)); // 最后一个\n\n        if (minIndex >= length - 1) {\n          return last(ticks);\n        } // 超出左边界， 则取第一个\n\n\n        if (minIndex < 0) {\n          return head(ticks);\n        }\n\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1]; // 比当前值小的 tick 在度量上的占比\n\n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n      };\n\n      Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          // 如果 nice = false ,补充 min, max\n          if (last(ticks) !== this.max) {\n            ticks.push(this.max);\n          }\n\n          if (head(ticks) !== this.min) {\n            ticks.unshift(this.min);\n          }\n        }\n\n        return ticks;\n      }; // 计算当前值在刻度中的占比\n\n\n      Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks; // 超出左边界\n\n        if (value < head(ticks)) {\n          return 0;\n        } // 超出右边界\n\n\n        if (value > last(ticks)) {\n          return 1;\n        }\n\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n          if (value >= tick) {\n            minIndex = index;\n          } else {\n            return false;\n          }\n        });\n        return minIndex / (ticks.length - 1);\n      };\n\n      return Quantize;\n    }(Continuous);\n\n    var Quantile =\n    /** @class */\n    function (_super) {\n      __extends(Quantile, _super);\n\n      function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantile';\n        return _this;\n      }\n\n      Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      return Quantile;\n    }(Quantize);\n\n    var map$1 = {};\n\n    function getClass(key) {\n      return map$1[key];\n    }\n\n    function registerClass(key, cls) {\n      if (getClass(key)) {\n        throw new Error(\"type '\" + key + \"' existed.\");\n      }\n\n      map$1[key] = cls;\n    }\n\n    /**\n     * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n     * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n     * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n     */\n\n    var Identity =\n    /** @class */\n    function (_super) {\n      __extends(Identity, _super);\n\n      function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n      }\n\n      Identity.prototype.calculateTicks = function () {\n        return this.values;\n      };\n\n      Identity.prototype.scale = function (value) {\n        // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n        if (this.values[0] !== value && isNumber(value)) {\n          return value;\n        }\n\n        return this.range[0];\n      };\n\n      Identity.prototype.invert = function (value) {\n        var range = this.range;\n\n        if (value < range[0] || value > range[1]) {\n          return NaN;\n        }\n\n        return this.values[0];\n      };\n\n      return Identity;\n    }(Scale);\n\n    var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\n    var eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\n    function mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function simplicity(q, Q, j, lmin, lmax, lstep) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 0;\n      var m = mod(lmin, lstep);\n\n      if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n      }\n\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function simplicityMax(q, Q, j) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 1;\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function density(k, m, dmin, dmax, lmin, lmax) {\n      var r = (k - 1) / (lmax - lmin);\n      var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n      return 2 - Math.max(r / rt, rt / r);\n    }\n\n    function densityMax(k, m) {\n      if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n      }\n\n      return 1;\n    }\n\n    function coverage(dmin, dmax, lmin, lmax) {\n      var range = dmax - dmin;\n      return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n    }\n\n    function coverageMax(dmin, dmax, span) {\n      var range = dmax - dmin;\n\n      if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n      }\n\n      return 1;\n    }\n\n    function legibility() {\n      return 1;\n    }\n    /**\n     * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n     * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n     * @param dmin 最小值\n     * @param dmax 最大值\n     * @param m tick个数\n     * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n     * @param Q nice numbers集合\n     * @param w 四个优化组件的权重\n     */\n\n\n    function extended(dmin, dmax, m, onlyLoose, Q, w) {\n      if (m === void 0) {\n        m = 5;\n      }\n\n      if (onlyLoose === void 0) {\n        onlyLoose = true;\n      }\n\n      if (Q === void 0) {\n        Q = DEFAULT_Q;\n      }\n\n      if (w === void 0) {\n        w = [0.25, 0.2, 0.5, 0.05];\n      } // 异常数据情况下，直接返回，防止 oom\n\n\n      if (typeof dmin !== 'number' || typeof dmax !== 'number') {\n        return {\n          min: 0,\n          max: 0,\n          ticks: []\n        };\n      }\n\n      if (dmin === dmax || m === 1) {\n        return {\n          min: dmin,\n          max: dmax,\n          ticks: [dmin]\n        };\n      }\n\n      var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0\n      };\n      var j = 1;\n\n      while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n          var q = Q_1[_i];\n          var sm = simplicityMax(q, Q, j);\n\n          if (Number.isNaN(sm)) {\n            throw new Error('NaN');\n          }\n\n          if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n            j = Infinity;\n            break;\n          }\n\n          var k = 2;\n\n          while (k < Infinity) {\n            var dm = densityMax(k, m);\n\n            if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n              break;\n            }\n\n            var delta = (dmax - dmin) / (k + 1) / j / q;\n            var z = Math.ceil(Math.log10(delta));\n\n            while (z < Infinity) {\n              var step = j * q * Math.pow(10, z);\n              var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n              if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                break;\n              }\n\n              var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n              var maxStart = Math.ceil(dmin / step) * j;\n\n              if (minStart > maxStart) {\n                z = z + 1;\n                continue;\n              }\n\n              for (var start = minStart; start <= maxStart; start = start + 1) {\n                var lmin = start * (step / j);\n                var lmax = lmin + step * (k - 1);\n                var lstep = step;\n                var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                var c = coverage(dmin, dmax, lmin, lmax);\n                var g = density(k, m, dmin, dmax, lmin, lmax);\n                var l = legibility();\n                var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n                if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n                  best.lmin = lmin;\n                  best.lmax = lmax;\n                  best.lstep = lstep;\n                  best.score = score;\n                }\n              }\n\n              z = z + 1;\n            }\n\n            k = k + 1;\n          }\n        }\n\n        j = j + 1;\n      } // 步长为浮点数时处理精度\n\n\n      var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n      var range = [];\n\n      for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n      }\n\n      var ticks = toFixed ? map(range, function (x) {\n        return Number.parseFloat(x.toFixed(toFixed));\n      }) : range;\n      return {\n        min: Math.min(dmin, head(ticks)),\n        max: Math.max(dmax, last(ticks)),\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 计算分类 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateCatTicks(cfg) {\n      var values = cfg.values,\n          tickInterval = cfg.tickInterval,\n          tickCount = cfg.tickCount;\n      var ticks = values;\n\n      if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) {\n          return i % tickInterval === 0;\n        });\n      }\n\n      var min = cfg.min,\n          max = cfg.max;\n\n      if (isNil(min)) {\n        min = 0;\n      }\n\n      if (isNil(max)) {\n        max = values.length - 1;\n      }\n\n      if (isNumber(tickCount) && tickCount < max - min) {\n        // 简单过滤，部分情况下小数的倍数也可以是整数\n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) {\n          return tick >= min && tick <= max;\n        });\n        return valid.map(function (index) {\n          return values[index];\n        });\n      }\n\n      return values.slice(min, max + 1);\n    }\n\n    function d3Linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          nice = cfg.nice,\n          tickCount = cfg.tickCount;\n      var linear = new D3Linear();\n      linear.domain([min, max]);\n\n      if (nice) {\n        linear.nice(tickCount);\n      }\n\n      return linear.ticks(tickCount);\n    }\n    var DEFAULT_COUNT = 5;\n    var e10 = Math.sqrt(50);\n    var e5 = Math.sqrt(10);\n    var e2 = Math.sqrt(2); // https://github.com/d3/d3-scale\n\n    var D3Linear =\n    /** @class */\n    function () {\n      function D3Linear() {\n        this._domain = [0, 1];\n      }\n\n      D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n          this._domain = Array.from(domain, Number);\n          return this;\n        }\n\n        return this._domain.slice();\n      };\n\n      D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        var d = this._domain.slice();\n\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n\n        if (stop < start) {\n          _a = [stop, start], start = _a[0], stop = _a[1];\n          _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n\n        step = tickIncrement(start, stop, count);\n\n        if (step > 0) {\n          start = Math.floor(start / step) * step;\n          stop = Math.ceil(stop / step) * step;\n          step = tickIncrement(start, stop, count);\n        } else if (step < 0) {\n          start = Math.ceil(start * step) / step;\n          stop = Math.floor(stop * step) / step;\n          step = tickIncrement(start, stop, count);\n        }\n\n        if (step > 0) {\n          d[i0] = Math.floor(start / step) * step;\n          d[i1] = Math.ceil(stop / step) * step;\n          this.domain(d);\n        } else if (step < 0) {\n          d[i0] = Math.ceil(start * step) / step;\n          d[i1] = Math.floor(stop * step) / step;\n          this.domain(d);\n        }\n\n        return this;\n      };\n\n      D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n      };\n\n      return D3Linear;\n    }();\n\n    function d3ArrayTicks(start, stop, count) {\n      var reverse;\n      var i = -1;\n      var n;\n      var ticks;\n      var step;\n      stop = +stop, start = +start, count = +count;\n\n      if (start === stop && count > 0) {\n        return [start];\n      } // tslint:disable-next-line\n\n\n      if (reverse = stop < start) {\n        n = start, start = stop, stop = n;\n      } // tslint:disable-next-line\n\n\n      if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n      }\n\n      if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array(n = Math.ceil(stop - start + 1));\n\n        while (++i < n) {\n          ticks[i] = (start + i) * step;\n        }\n      } else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array(n = Math.ceil(start - stop + 1));\n\n        while (++i < n) {\n          ticks[i] = (start - i) / step;\n        }\n      }\n\n      if (reverse) {\n        ticks.reverse();\n      }\n\n      return ticks;\n    }\n\n    function tickIncrement(start, stop, count) {\n      var step = (stop - start) / Math.max(0, count);\n      var power = Math.floor(Math.log(step) / Math.LN10);\n      var error = step / Math.pow(10, power);\n      return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n    }\n\n    function snapMultiple(v, base, snapType) {\n      var div;\n\n      if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n      } else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n      } else {\n        div = Math.round(v / base);\n      }\n\n      return div * base;\n    }\n\n    function intervalTicks(min, max, interval) {\n      // 变成 interval 的倍数\n      var minTick = snapMultiple(min, interval, 'floor');\n      var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n      minTick = fixedBase(minTick, interval);\n      maxTick = fixedBase(maxTick, interval);\n      var ticks = [];\n\n      for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n\n        ticks.push(tickValue);\n      }\n\n      return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 按照给定的 minLimit/maxLimit/tickCount 均匀计算出刻度 ticks\n     *\n     * @param cfg Scale 配置项\n     * @return ticks\n     */\n\n    function strictLimit(cfg, defaultMin, defaultMax) {\n      var _a;\n\n      var minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit,\n          min = cfg.min,\n          max = cfg.max,\n          _b = cfg.tickCount,\n          tickCount = _b === void 0 ? 5 : _b;\n      var tickMin = isNil(minLimit) ? isNil(defaultMin) ? min : defaultMin : minLimit;\n      var tickMax = isNil(maxLimit) ? isNil(defaultMax) ? max : defaultMax : maxLimit;\n\n      if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n      }\n\n      if (tickCount <= 2) {\n        return [tickMin, tickMax];\n      }\n\n      var step = (tickMax - tickMin) / (tickCount - 1);\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n      }\n\n      return ticks;\n    }\n\n    function d3LinearTickMethod(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = d3Linear(cfg);\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 wilkinson extended 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          nice = cfg.nice,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = extended(min, max, tickCount, nice).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算 log 的 ticks，考虑 min = 0 的场景\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateLogTicks(cfg) {\n      var base = cfg.base,\n          tickCount = cfg.tickCount,\n          min = cfg.min,\n          max = cfg.max,\n          values = cfg.values;\n      var minTick;\n      var maxTick = log(base, max);\n\n      if (min > 0) {\n        minTick = Math.floor(log(base, min));\n      } else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n      }\n\n      var count = maxTick - minTick;\n      var avg = Math.ceil(count / tickCount);\n      var ticks = [];\n\n      for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n      }\n\n      if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n      }\n\n      return ticks;\n    }\n\n    function pretty(min, max, n) {\n      if (n === void 0) {\n        n = 5;\n      }\n\n      var res = {\n        max: 0,\n        min: 0,\n        ticks: []\n      };\n\n      if (min === max) {\n        return {\n          max: max,\n          min: min,\n          ticks: [min]\n        };\n      }\n      /*\n        R pretty:\n        https://svn.r-project.org/R/trunk/src/appl/pretty.c\n        https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n        */\n\n\n      var h = 1.5; // high.u.bias\n\n      var h5 = 0.5 + 1.5 * h; // u5.bias\n      // 反正我也不会调参，跳过所有判断步骤\n\n      var d = max - min;\n      var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n      // const min_n = Math.floor(n / 3);\n      // const shrink_sml = Math.pow(2, 5);\n      // if (Math.log10(d) < -2) {\n      //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n      // }\n\n      var base = Math.pow(10, Math.floor(Math.log10(c)));\n      var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n      var unit = base;\n\n      if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n\n        if (5 * base - c < h5 * (c - unit)) {\n          unit = 5 * base;\n\n          if (10 * base - c < h * (c - unit)) {\n            unit = 10 * base;\n          }\n        }\n      }\n\n      var nu = Math.ceil(max / unit);\n      var ns = Math.floor(min / unit);\n      res.max = Math.max(nu * unit, max);\n      res.min = Math.min(ns * unit, min);\n      var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n      while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n\n        if (toFixed) {\n          x = Number.parseFloat(x.toFixed(toFixed));\n        }\n      }\n\n      res.ticks.push(x);\n      return res;\n    }\n\n    /**\n     * 计算 Pow 的 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculatePowTicks(cfg) {\n      var exponent = cfg.exponent,\n          tickCount = cfg.tickCount;\n      var max = Math.ceil(calBase(exponent, cfg.max));\n      var min = Math.floor(calBase(exponent, cfg.min));\n      var ticks = pretty(min, max, tickCount).ticks;\n      return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n      });\n    }\n\n    /**\n     * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n     * @param x  数组\n     * @param p  百分比\n     */\n    function quantileSorted(x, p) {\n      var idx = x.length * p;\n      /*if (x.length === 0) { // 当前场景这些条件不可能命中\n        throw new Error('quantile requires at least one value.');\n      } else if (p < 0 || p > 1) {\n        throw new Error('quantiles must be between 0 and 1');\n      } else */\n\n      if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n      } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n      } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n      } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n      } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n      }\n    }\n\n    function calculateTicks(cfg) {\n      var tickCount = cfg.tickCount,\n          values = cfg.values;\n\n      if (!values || !values.length) {\n        return [];\n      }\n\n      var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 R's pretty 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linearPretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = pretty(min, max, tickCount).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    function calculateTimeTicks(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval;\n      var tickInterval = cfg.tickInterval;\n      var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n      } else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n\n        if (ratio > 1) {\n          tickInterval = tickInterval * Math.ceil(ratio);\n        } // 如果设置了最小间距，则使用最小间距\n\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var ticks = [];\n\n      for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算时间分类的 ticks, 保头，保尾\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateTimeCatTicks(cfg) {\n      var ticks = calculateCatTicks(cfg);\n      var lastValue = last(cfg.values);\n\n      if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n      }\n\n      return ticks;\n    }\n\n    function getYear(date) {\n      return new Date(date).getFullYear();\n    }\n\n    function createYear(year) {\n      return new Date(year, 0, 1).getTime();\n    }\n\n    function getMonth(date) {\n      return new Date(date).getMonth();\n    }\n\n    function diffMonth(min, max) {\n      var minYear = getYear(min);\n      var maxYear = getYear(max);\n      var minMonth = getMonth(min);\n      var maxMonth = getMonth(max);\n      return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n    }\n\n    function creatMonth(year, month) {\n      return new Date(year, month, 1).getTime();\n    }\n\n    function diffDay(min, max) {\n      return Math.ceil((max - min) / DAY);\n    }\n\n    function diffHour(min, max) {\n      return Math.ceil((max - min) / HOUR);\n    }\n\n    function diffMinus(min, max) {\n      return Math.ceil((max - min) / (60 * 1000));\n    }\n    /**\n     * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n\n    function timePretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval,\n          tickCount = cfg.tickCount;\n      var tickInterval = cfg.tickInterval;\n      var ticks = []; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (!tickInterval) {\n        tickInterval = (max - min) / tickCount; // 如果设置了最小间距，则使用最小间距\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var minYear = getYear(min); // 如果间距大于 1 年，则将开始日期从整年开始\n\n      if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n          ticks.push(createYear(i));\n        }\n      } else if (tickInterval > MONTH) {\n        // 大于月时\n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n          ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n      } else if (tickInterval > DAY) {\n        // 大于天\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n\n        for (var i = 0; i < ddays + day; i = i + day) {\n          ticks.push(new Date(year, month, mday + i).getTime());\n        }\n      } else if (tickInterval > HOUR) {\n        // 大于小时\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n          ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n      } else if (tickInterval > MINUTE) {\n        // 大于分钟\n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n          ticks.push(min + i * MINUTE);\n        }\n      } else {\n        // 小于分钟\n        var interval = tickInterval;\n\n        if (interval < SECOND) {\n          interval = SECOND;\n        }\n\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n          ticks.push(minSecond + i * SECOND);\n        }\n      } // 最好是能从算法能解决这个问题，但是如果指定了 tickInterval，计算 ticks，也只能这么算，所以\n      // 打印警告提示\n\n\n      if (ticks.length >= 512) {\n        console.warn(\"Notice: current ticks length(\" + ticks.length + \") >= 512, may cause performance issues, even out of memory. Because of the configure \\\"tickInterval\\\"(in milliseconds, current is \" + tickInterval + \") is too small, increase the value to solve the problem!\");\n      }\n\n      return ticks;\n    }\n\n    registerTickMethod('cat', calculateCatTicks);\n    registerTickMethod('time-cat', calculateTimeCatTicks);\n    registerTickMethod('wilkinson-extended', linear);\n    registerTickMethod('r-pretty', linearPretty);\n    registerTickMethod('time', calculateTimeTicks);\n    registerTickMethod('time-pretty', timePretty);\n    registerTickMethod('log', calculateLogTicks);\n    registerTickMethod('pow', calculatePowTicks);\n    registerTickMethod('quantile', calculateTicks);\n    registerTickMethod('d3-linear', d3LinearTickMethod);\n\n    registerClass('cat', Category);\n    registerClass('category', Category);\n    registerClass('identity', Identity);\n    registerClass('linear', Linear);\n    registerClass('log', Log);\n    registerClass('pow', Pow);\n    registerClass('time', Time);\n    registerClass('timeCat', TimeCat);\n    registerClass('quantize', Quantize);\n    registerClass('quantile', Quantile);\n\n    // cat平均算法，保头保尾\n    var CatTick = (function (cfg) {\n      var values = cfg.values,\n          tickCount = cfg.tickCount;\n\n      if (!tickCount) {\n        return values;\n      }\n\n      if (values.length <= 1) {\n        return values;\n      } // 获取间隔步长, 最小是1\n\n\n      var step = parseInt(values.length / (tickCount - 1)) || 1;\n      var ticks = []; // 按间隔数取对应节点\n\n      for (var index = 0; index < values.length; index = index + step) {\n        ticks.push(values[index]);\n      }\n\n      var last = values[values.length - 1]; // 如果最后一个tick不等于原数据的最后一个\n\n      if (ticks[ticks.length - 1] !== last) {\n        if (ticks.length >= tickCount) {\n          // 如果当前的tick个数满足要求\n          ticks[ticks.length - 1] = last;\n        } else {\n          // 不满足tickCount则直接加入最后一个\n          ticks.push(last);\n        }\n      }\n\n      return ticks;\n    });\n\n    // 认为是nice的刻度\n    var SNAP_COUNT_ARRAY = [1, 1.2, 1.5, 2, 2.2, 2.4, 2.5, 3, 4, 5, 6, 7.5, 8, 10];\n    var DEFAULT_COUNT$1 = 5; // 默认刻度值\n\n    var LinearTick = (function (cfg) {\n      var _ref = cfg || {},\n          tickCount = _ref.tickCount,\n          tickInterval = _ref.tickInterval;\n\n      var _ref2 = cfg || {},\n          min = _ref2.min,\n          max = _ref2.max;\n\n      min = isNaN(min) ? 0 : min;\n      max = isNaN(max) ? 0 : max;\n      var count = tickCount && tickCount >= 2 ? tickCount : DEFAULT_COUNT$1; // 计算interval， 优先取tickInterval\n\n      var interval = tickInterval || getBestInterval({\n        tickCount: count,\n        max: max,\n        min: min\n      }); // 通过interval计算最小tick\n\n      var minTick = Math.floor(min / interval) * interval; // 如果指定了tickInterval, count 需要根据指定的tickInterval来算计\n\n      if (tickInterval) {\n        var intervalCount = Math.abs(Math.ceil((max - minTick) / tickInterval)) + 1; // tickCount 作为最小 count 处理\n\n        count = Math.max(count, intervalCount);\n      }\n\n      var ticks = [];\n      var tickLength = 0;\n      var fixedLength = getFixedLength(interval);\n\n      while (tickLength < count) {\n        ticks.push(toFixed(minTick + tickLength * interval, fixedLength));\n        tickLength++;\n      }\n\n      return ticks;\n    });\n    var DECIMAL_LENGTH = 12;\n\n    function getFactor(number) {\n      // 取正数\n      number = Math.abs(number);\n      var factor = 1;\n\n      if (number === 0) {\n        return factor;\n      } // 小于1,逐渐放大\n\n\n      if (number < 1) {\n        var count = 0;\n\n        while (number < 1) {\n          factor = factor / 10;\n          number = number * 10;\n          count++;\n        } // 浮点数计算出现问题\n\n\n        if (factor.toString().length > DECIMAL_LENGTH) {\n          factor = parseFloat(factor.toFixed(count));\n        }\n\n        return factor;\n      } // 大于10逐渐缩小\n\n\n      while (number > 10) {\n        factor = factor * 10;\n        number = number / 10;\n      }\n\n      return factor;\n    } // 获取最佳匹配刻度\n\n\n    function getBestInterval(_ref3) {\n      var tickCount = _ref3.tickCount,\n          min = _ref3.min,\n          max = _ref3.max;\n\n      // 如果最大最小相等，则直接按1处理\n      if (min === max) {\n        return 1 * getFactor(max);\n      } // 1.计算平均刻度\b间隔\n\n\n      var avgInterval = (max - min) / (tickCount - 1); // 2.数据标准归一化 映射到[1-10]区间\n\n      var factor = getFactor(avgInterval);\n      var calInterval = avgInterval / factor;\n      var calMax = max / factor;\n      var calMin = min / factor; // 根据平均值推算最逼近刻度值\n\n      var similarityIndex = 0;\n\n      for (var index = 0; index < SNAP_COUNT_ARRAY.length; index++) {\n        var item = SNAP_COUNT_ARRAY[index];\n\n        if (calInterval <= item) {\n          similarityIndex = index;\n          break;\n        }\n      }\n\n      var similarityInterval = getInterval(similarityIndex, tickCount, calMin, calMax); // 小数点位数还原到数据的位数, 因为similarityIndex有可能是小数，所以需要保留similarityIndex自己的小数位数\n\n      var fixedLength = getFixedLength(similarityInterval) + getFixedLength(factor);\n      return toFixed(similarityInterval * factor, fixedLength);\n    }\n\n    function getInterval(startIndex, tickCount, min, max) {\n      var verify = false;\n      var interval = SNAP_COUNT_ARRAY[startIndex]; // 刻度值校验，如果不满足，循环下去\n\n      for (var i = startIndex; i < SNAP_COUNT_ARRAY.length; i++) {\n        if (intervalIsVerify({\n          interval: SNAP_COUNT_ARRAY[i],\n          tickCount: tickCount,\n          max: max,\n          min: min\n        })) {\n          // 有符合条件的interval\n          interval = SNAP_COUNT_ARRAY[i];\n          verify = true;\n          break;\n        }\n      } // 如果不满足, 依次缩小10倍，再计算\n\n\n      if (!verify) {\n        return 10 * getInterval(0, tickCount, min / 10, max / 10);\n      }\n\n      return interval;\n    } // 刻度是否满足展示需求\n\n\n    function intervalIsVerify(_ref4) {\n      var interval = _ref4.interval,\n          tickCount = _ref4.tickCount,\n          max = _ref4.max,\n          min = _ref4.min;\n      var minTick = Math.floor(min / interval) * interval;\n\n      if (minTick + (tickCount - 1) * interval >= max) {\n        return true;\n      }\n\n      return false;\n    } // 计算小数点应该保留的位数\n\n\n    function getFixedLength(num) {\n      var str = num.toString();\n      var index = str.indexOf('.');\n      var indexOfExp = str.indexOf('e-');\n      var length = indexOfExp >= 0 ? parseInt(str.substr(indexOfExp + 2), 10) : str.substr(index + 1).length;\n\n      if (length > 20) {\n        // 最多保留20位小数\n        length = 20;\n      }\n\n      return length;\n    } // @antv/util fixedbase不支持科学计数法的判断，需要提mr\n\n\n    function toFixed(v, length) {\n      return parseFloat(v.toFixed(length));\n    }\n\n    var Linear$1 = getClass('linear');\n    var Identity$1 = getClass('identity');\n    var Category$1 = getClass('category');\n    var TimeCat$1 = getClass('timeCat'); // 覆盖0.3.x的 cat 方法\n\n    registerTickMethod('cat', CatTick);\n    registerTickMethod('time-cat', CatTick); // 覆盖linear 度量的tick算法\n\n    registerTickMethod('wilkinson-extended', LinearTick);\n    Scale.Linear = Linear$1;\n    Scale.Identity = Identity$1;\n    Scale.Category = Category$1;\n    Scale.Cat = Category$1;\n    Scale.TimeCat = TimeCat$1;\n\n    function isFullCircle(coord) {\n      if (!coord.isPolar) {\n        return false;\n      }\n\n      var startAngle = coord.startAngle;\n      var endAngle = coord.endAngle;\n\n      if (!isNil(startAngle) && !isNil(endAngle) && endAngle - startAngle < Math.PI * 2) {\n        return false;\n      }\n\n      return true;\n    }\n\n    function clearObj(obj) {\n      Object.keys(obj).forEach(function (key) {\n        delete obj[key];\n      });\n    }\n\n    var ScaleController = /*#__PURE__*/function () {\n      function ScaleController(cfg) {\n        // defs 列定义\n        this.defs = {}; // 已经实例化的scale\n\n        this.scales = {};\n        mix(this, cfg);\n      }\n\n      var _proto = ScaleController.prototype;\n\n      _proto.setFieldDef = function setFieldDef(field, cfg) {\n        var defs = this.defs;\n\n        if (isObject(field)) {\n          mix(defs, field);\n        } else {\n          defs[field] = cfg;\n        } // 因为可能同时变更多个scale，所以要把所有已实例化的scale都更新下\n\n\n        this.updateScales();\n      };\n\n      _proto._getDef = function _getDef(field) {\n        var defs = this.defs;\n        var def = null;\n\n        if (Global.scales[field] || defs[field]) {\n          def = mix({}, Global.scales[field]);\n          each(defs[field], function (v, k) {\n            if (isNil(v)) {\n              delete def[k];\n            } else {\n              def[k] = v;\n            }\n          });\n        }\n\n        return def;\n      };\n\n      _proto._getDefaultType = function _getDefaultType(field, data, def) {\n        if (def && def.type) {\n          return def.type;\n        }\n\n        var type = 'linear';\n        var value = firstValue(data, field);\n\n        if (isArray(value)) {\n          value = value[0];\n        }\n\n        if (isString(value)) {\n          type = 'cat';\n        }\n\n        return type;\n      };\n\n      _proto._getScaleDef = function _getScaleDef(type, field, data, def) {\n        var values$1;\n\n        if (def && def.values) {\n          values$1 = def.values;\n        } else {\n          values$1 = values(data, field);\n        }\n\n        var cfg = {\n          field: field,\n          values: values$1\n        };\n\n        if (type !== 'cat' && type !== 'timeCat') {\n          if (!def || !(def.min && def.max)) {\n            var _Array$getRange = getRange$1(values$1),\n                min = _Array$getRange.min,\n                max = _Array$getRange.max;\n\n            cfg.min = min;\n            cfg.max = max;\n            cfg.nice = true;\n          }\n        } else {\n          cfg.isRounding = false; // used for tickCount calculation\n        }\n\n        return cfg;\n      } // 调整range，为了让图形居中\n      ;\n\n      _proto._adjustRange = function _adjustRange(type, cfg) {\n        var range = cfg.range,\n            values = cfg.values; // 如果是线性, 或者有自定义range都不处理\n\n        if (type === 'linear' || range || !values) {\n          return cfg;\n        }\n\n        var count = values.length; // 单只有一条数据时，在中间显示\n\n        if (count === 1) {\n          cfg.range = [0.5, 1];\n        } else {\n          var chart = this.chart;\n          var coord = chart.get('coord');\n          var widthRatio = Global.widthRatio.multiplePie;\n          var offset = 0;\n\n          if (isFullCircle(coord)) {\n            if (!coord.transposed) {\n              cfg.range = [0, 1 - 1 / count];\n            } else {\n              offset = 1 / count * widthRatio;\n              cfg.range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            // 为了让图形居中，所以才设置range\n            offset = 1 / count * 0.5; // 这里可能用0.25会更合理\n\n            cfg.range = [offset, 1 - offset];\n          }\n        }\n\n        return cfg;\n      };\n\n      _proto._getScaleCfg = function _getScaleCfg(field, data) {\n        var self = this;\n\n        var def = self._getDef(field);\n\n        if (!data || !data.length) {\n          if (def && def.type) {\n            def.field = field;\n            return {\n              type: def.type,\n              cfg: def\n            };\n          }\n\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var firstObj = data[0];\n        var firstValue$1 = firstObj[field];\n\n        if (firstValue$1 === null) {\n          firstValue$1 = firstValue(data, field);\n        }\n\n        if (isNumber(field) || isNil(firstValue$1) && !def) {\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var type = self._getDefaultType(field, data, def);\n\n        var cfg = self._getScaleDef(type, field, data, def);\n\n        def && mix(cfg, def);\n        cfg = this._adjustRange(type, cfg);\n        return {\n          type: type,\n          cfg: cfg\n        };\n      };\n\n      _proto.createScale = function createScale(field, data) {\n        var scales = this.scales;\n\n        var _this$_getScaleCfg = this._getScaleCfg(field, data),\n            type = _this$_getScaleCfg.type,\n            cfg = _this$_getScaleCfg.cfg;\n\n        var scale = scales[field]; // 如果已经存在，且类型相等时直接返回\n\n        if (scale && scale.type === type) {\n          scale.change(cfg);\n          return scale;\n        }\n\n        var Scale = getClass(type);\n        var newScale = new Scale(cfg);\n        scales[field] = newScale;\n        return newScale;\n      };\n\n      _proto._updateScale = function _updateScale(scale) {\n        var field = scale.field; // 因为每个field的数据都会不同\n\n        var data = this.chart._getScaleData(field);\n\n        var _this$_getScaleCfg2 = this._getScaleCfg(field, data),\n            cfg = _this$_getScaleCfg2.cfg;\n\n        scale.change(cfg);\n      };\n\n      _proto.updateScales = function updateScales() {\n        var _this = this;\n\n        var scales = this.scales; // 修改完列定义后，需要更新已经实例化的scale\n        // 如果是还没有实例化的，在geom初始化的时候会被实例化，所以这里可以不用更新\n\n        each(scales, function (scale) {\n          _this._updateScale(scale);\n        });\n      } // 调整scale从0开始\n      ;\n\n      _proto.adjustStartZero = function adjustStartZero(scale) {\n        var defs = this.defs;\n        var field = scale.field,\n            min = scale.min,\n            max = scale.max; // 如果有定义，则不处理\n\n        if (defs[field] && defs[field].min) {\n          return;\n        }\n\n        if (min > 0) {\n          scale.change({\n            min: 0\n          });\n        } else if (max < 0) {\n          scale.change({\n            max: 0\n          });\n        }\n      };\n\n      _proto.clear = function clear() {\n        // this.defs = {};\n        // this.scales = {};\n        clearObj(this.defs);\n        clearObj(this.scales);\n        this.data = null;\n      };\n\n      return ScaleController;\n    }();\n\n    var Abastract = /*#__PURE__*/function () {\n      var _proto = Abastract.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * ticks\n         * @type {Array}\n         */\n        this.ticks = [];\n        /**\n         * the configuration for tickLine\n         * @type {Object}\n         */\n\n        this.tickLine = {};\n        /**\n         * the direction of ticks, 1 means clockwise\n         * @type {Number}\n         */\n\n        this.offsetFactor = 1;\n        /**\n         * the top container\n         * @type {container}\n         */\n\n        this.frontContainer = null;\n        /**\n         * the back container\n         * @type {[type]}\n         */\n\n        this.backContainer = null;\n        /**\n         * points for draw grid line\n         * @type {Array}\n         */\n\n        this.gridPoints = [];\n      };\n\n      function Abastract(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        this.draw();\n      }\n\n      _proto.draw = function draw() {\n        var line = this.line,\n            tickLine = this.tickLine,\n            label = this.label,\n            grid = this.grid;\n        grid && this.drawGrid(grid); // draw the grid lines\n\n        tickLine && this.drawTicks(tickLine); // draw the tickLine\n\n        line && this.drawLine(line); // draw axis line\n\n        label && this.drawLabels(); // draw ticks\n      };\n\n      _proto.drawTicks = function drawTicks(tickCfg) {\n        var self = this;\n        var ticks = self.ticks;\n        var length = tickCfg.length;\n        var container = self.getContainer(tickCfg.top);\n        each(ticks, function (tick) {\n          var start = self.getOffsetPoint(tick.value);\n          var end = self.getSidePoint(start, length);\n          var shape = container.addShape('line', {\n            className: 'axis-tick',\n            attrs: mix({\n              x1: start.x,\n              y1: start.y,\n              x2: end.x,\n              y2: end.y\n            }, tickCfg)\n          });\n          shape._id = self._id + '-ticks';\n        });\n      };\n\n      _proto.drawLabels = function drawLabels() {\n        var self = this;\n        var labelOffset = self.labelOffset;\n        var labels = self.labels;\n        each(labels, function (labelShape) {\n          var container = self.getContainer(labelShape.get('top'));\n          var start = self.getOffsetPoint(labelShape.get('value'));\n\n          var _self$getSidePoint = self.getSidePoint(start, labelOffset),\n              x = _self$getSidePoint.x,\n              y = _self$getSidePoint.y;\n\n          labelShape.attr(mix({\n            x: x,\n            y: y\n          }, self.getTextAlignInfo(start, labelOffset), labelShape.get('textStyle')));\n          labelShape._id = self._id + '-' + labelShape.attr('text');\n          container.add(labelShape);\n        });\n      };\n\n      _proto.drawLine = function drawLine() {};\n\n      _proto.drawGrid = function drawGrid(grid) {\n        var self = this;\n        var gridPoints = self.gridPoints,\n            ticks = self.ticks;\n        var gridCfg = grid;\n        var count = gridPoints.length;\n        each(gridPoints, function (subPoints, index) {\n          if (isFunction(grid)) {\n            var tick = ticks[index] || {};\n            var executedGrid = grid(tick.text, index, count);\n            gridCfg = executedGrid ? mix({}, Global._defaultAxis.grid, executedGrid) : null;\n          }\n\n          if (gridCfg) {\n            var type = gridCfg.type; // has two types: 'line' and 'arc'\n\n            var points = subPoints.points;\n            var container = self.getContainer(gridCfg.top);\n            var shape;\n\n            if (type === 'arc') {\n              var center = self.center,\n                  startAngle = self.startAngle,\n                  endAngle = self.endAngle;\n              var radius = Vector2.length([points[0].x - center.x, points[0].y - center.y]);\n              shape = container.addShape('Arc', {\n                className: 'axis-grid',\n                attrs: mix({\n                  x: center.x,\n                  y: center.y,\n                  startAngle: startAngle,\n                  endAngle: endAngle,\n                  r: radius\n                }, gridCfg)\n              });\n            } else {\n              shape = container.addShape('Polyline', {\n                className: 'axis-grid',\n                attrs: mix({\n                  points: points\n                }, gridCfg)\n              });\n            }\n\n            shape._id = subPoints._id;\n          }\n        });\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint() {};\n\n      _proto.getAxisVector = function getAxisVector() {};\n\n      _proto.getOffsetVector = function getOffsetVector(point, offset) {\n        var self = this;\n        var axisVector = self.getAxisVector(point);\n        var normal = Vector2.normalize([], axisVector);\n        var factor = self.offsetFactor;\n        var verticalVector = [normal[1] * -1 * factor, normal[0] * factor];\n        return Vector2.scale([], verticalVector, offset);\n      };\n\n      _proto.getSidePoint = function getSidePoint(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        return {\n          x: point.x + offsetVector[0],\n          y: point.y + offsetVector[1]\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine;\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n        }\n\n        if (offsetVector[1] > 0) {\n          baseLine = 'top';\n        } else if (offsetVector[1] < 0) {\n          baseLine = 'bottom';\n        } else {\n          baseLine = 'middle';\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getContainer = function getContainer(isTop) {\n        var frontContainer = this.frontContainer,\n            backContainer = this.backContainer;\n        return isTop ? frontContainer : backContainer;\n      };\n\n      return Abastract;\n    }();\n\n    var Line = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Line, _Abstract);\n\n      function Line() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.start = null;\n        this.end = null;\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var start = this.start,\n            end = this.end;\n        return {\n          x: start.x + (end.x - start.x) * value,\n          y: start.y + (end.y - start.y) * value\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector() {\n        var start = this.start,\n            end = this.end;\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var container = this.getContainer(lineCfg.top);\n        var start = this.start,\n            end = this.end;\n        container.addShape('line', {\n          className: 'axis-line',\n          attrs: mix({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          }, lineCfg)\n        });\n      };\n\n      return Line;\n    }(Abastract);\n\n    Abastract.Line = Line;\n\n    function formatTicks(ticks) {\n      var tmp = ticks.slice(0);\n\n      if (tmp.length > 0) {\n        var first = tmp[0];\n        var last = tmp[tmp.length - 1];\n\n        if (first.value !== 0) {\n          tmp.unshift({\n            value: 0\n          });\n        }\n\n        if (last.value !== 1) {\n          tmp.push({\n            value: 1\n          });\n        }\n      }\n\n      return tmp;\n    }\n\n    var AxisController = /*#__PURE__*/function () {\n      function AxisController(cfg) {\n        this.axisCfg = {};\n        this.frontPlot = null;\n        this.backPlot = null;\n        this.axes = {}; // store the axes's options\n\n        mix(this, cfg);\n      }\n\n      var _proto = AxisController.prototype;\n\n      _proto._isHide = function _isHide(field) {\n        var axisCfg = this.axisCfg;\n        return !axisCfg || axisCfg[field] === false;\n      };\n\n      _proto._getLinePosition = function _getLinePosition(scale, dimType, index, transposed) {\n        var position = '';\n        var field = scale.field;\n        var axisCfg = this.axisCfg;\n\n        if (axisCfg[field] && axisCfg[field].position) {\n          position = axisCfg[field].position;\n        } else if (dimType === 'x') {\n          position = transposed ? 'left' : 'bottom';\n        } else if (dimType === 'y') {\n          position = index ? 'right' : 'left';\n\n          if (transposed) {\n            position = 'bottom';\n          }\n        }\n\n        return position;\n      };\n\n      _proto._getLineCfg = function _getLineCfg(coord, dimType, position) {\n        var start;\n        var end;\n        var factor = 1; // Mark clockwise or counterclockwise\n\n        if (dimType === 'x') {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          if (position === 'right') {\n            // there will be several y axes\n            start = {\n              x: 1,\n              y: 0\n            };\n            end = {\n              x: 1,\n              y: 1\n            };\n          } else {\n            start = {\n              x: 0,\n              y: 0\n            };\n            end = {\n              x: 0,\n              y: 1\n            };\n            factor = -1;\n          }\n        }\n\n        if (coord.transposed) {\n          factor *= -1;\n        }\n\n        return {\n          offsetFactor: factor,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getCircleCfg = function _getCircleCfg(coord) {\n        return {\n          startAngle: coord.startAngle,\n          endAngle: coord.endAngle,\n          center: coord.center,\n          radius: coord.circleRadius\n        };\n      };\n\n      _proto._getRadiusCfg = function _getRadiusCfg(coord) {\n        var transposed = coord.transposed;\n        var start;\n        var end;\n\n        if (transposed) {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 0,\n            y: 1\n          };\n        }\n\n        return {\n          offsetFactor: -1,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getAxisCfg = function _getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg) {\n        var _this = this;\n\n        var self = this;\n        var axisCfg = this.axisCfg;\n        var ticks = scale.getTicks();\n        var cfg = deepMix({\n          ticks: ticks,\n          frontContainer: this.frontPlot,\n          backContainer: this.backPlot\n        }, defaultCfg, axisCfg[scale.field]);\n        var labels = [];\n        var label = cfg.label;\n        var count = ticks.length;\n        var maxWidth = 0;\n        var maxHeight = 0;\n        var labelCfg = label;\n        each(ticks, function (tick, index) {\n          if (isFunction(label)) {\n            var executedLabel = label(tick.text, index, count);\n            labelCfg = executedLabel ? mix({}, Global._defaultAxis.label, executedLabel) : null;\n          }\n\n          if (labelCfg) {\n            var textStyle = {};\n\n            if (labelCfg.textAlign) {\n              textStyle.textAlign = labelCfg.textAlign;\n            }\n\n            if (labelCfg.textBaseline) {\n              textStyle.textBaseline = labelCfg.textBaseline;\n            }\n\n            var container = labelCfg.top ? _this.frontPlot : _this.backPlot;\n            var axisLabel = container.addShape('text', {\n              className: 'axis-label',\n              aria: false,\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: tick.text,\n                fontFamily: self.chart.get('canvas').get('fontFamily')\n              }, labelCfg),\n              value: tick.value,\n              textStyle: textStyle,\n              top: labelCfg.top,\n              context: self.chart.get('canvas').get('context')\n            });\n            labels.push(axisLabel);\n\n            var _axisLabel$getBBox = axisLabel.getBBox(),\n                width = _axisLabel$getBBox.width,\n                height = _axisLabel$getBBox.height;\n\n            maxWidth = Math.max(maxWidth, width);\n            maxHeight = Math.max(maxHeight, height);\n          }\n        });\n        cfg.labels = labels;\n        cfg.maxWidth = maxWidth;\n        cfg.maxHeight = maxHeight;\n        return cfg;\n      };\n\n      _proto._createAxis = function _createAxis(coord, scale, verticalScale, dimType, index) {\n        if (index === void 0) {\n          index = '';\n        }\n\n        var self = this;\n        var coordType = coord.type;\n        var transposed = coord.transposed;\n        var type;\n        var key;\n        var defaultCfg;\n\n        if (coordType === 'cartesian' || coordType === 'rect') {\n          var position = self._getLinePosition(scale, dimType, index, transposed);\n\n          defaultCfg = Global.axis[position];\n          defaultCfg.position = position;\n          type = 'Line';\n          key = position;\n        } else {\n          if (dimType === 'x' && !transposed || dimType === 'y' && transposed) {\n            defaultCfg = Global.axis.circle;\n            type = 'Circle';\n            key = 'circle';\n          } else {\n            defaultCfg = Global.axis.radius;\n            type = 'Line';\n            key = 'radius';\n          }\n        }\n\n        var cfg = self._getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg);\n\n        cfg.type = type;\n        cfg.dimType = dimType;\n        cfg.verticalScale = verticalScale;\n        cfg.index = index;\n        this.axes[key] = cfg;\n      };\n\n      _proto.createAxis = function createAxis(coord, xScale, yScales) {\n        var self = this;\n\n        if (xScale && !self._isHide(xScale.field)) {\n          self._createAxis(coord, xScale, yScales[0], 'x');\n        }\n\n        each(yScales, function (yScale, index) {\n          if (!self._isHide(yScale.field)) {\n            self._createAxis(coord, yScale, xScale, 'y', index);\n          }\n        });\n        var axes = this.axes;\n        var chart = self.chart;\n\n        if (chart._isAutoPadding()) {\n          var userPadding = parsePadding(chart.get('padding'));\n          var appendPadding = parsePadding(chart.get('appendPadding'));\n          var legendRange = chart.get('legendRange') || {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n          };\n          var padding = [userPadding[0] === 'auto' ? legendRange.top + appendPadding[0] * 2 : userPadding[0], userPadding[1] === 'auto' ? legendRange.right + appendPadding[1] : userPadding[1], userPadding[2] === 'auto' ? legendRange.bottom + appendPadding[2] : userPadding[2], userPadding[3] === 'auto' ? legendRange.left + appendPadding[3] : userPadding[3]];\n\n          if (coord.isPolar) {\n            var circleAxis = axes.circle;\n\n            if (circleAxis) {\n              var maxHeight = circleAxis.maxHeight,\n                  maxWidth = circleAxis.maxWidth,\n                  labelOffset = circleAxis.labelOffset;\n              padding[0] += maxHeight + labelOffset;\n              padding[1] += maxWidth + labelOffset;\n              padding[2] += maxHeight + labelOffset;\n              padding[3] += maxWidth + labelOffset;\n            }\n          } else {\n            if (axes.right && userPadding[1] === 'auto') {\n              var _axes$right = axes.right,\n                  _maxWidth = _axes$right.maxWidth,\n                  _labelOffset = _axes$right.labelOffset;\n              padding[1] += _maxWidth + _labelOffset;\n            }\n\n            if (axes.left && userPadding[3] === 'auto') {\n              var _axes$left = axes.left,\n                  _maxWidth2 = _axes$left.maxWidth,\n                  _labelOffset2 = _axes$left.labelOffset;\n              padding[3] += _maxWidth2 + _labelOffset2;\n            }\n\n            if (axes.bottom && userPadding[2] === 'auto') {\n              var _axes$bottom = axes.bottom,\n                  _maxHeight = _axes$bottom.maxHeight,\n                  _labelOffset3 = _axes$bottom.labelOffset;\n              padding[2] += _maxHeight + _labelOffset3;\n            }\n          }\n\n          chart.set('_padding', padding);\n\n          chart._updateLayout(padding);\n        }\n\n        each(axes, function (axis) {\n          var type = axis.type,\n              grid = axis.grid,\n              verticalScale = axis.verticalScale,\n              ticks = axis.ticks,\n              dimType = axis.dimType,\n              position = axis.position,\n              index = axis.index;\n          var appendCfg;\n\n          if (coord.isPolar) {\n            if (type === 'Line') {\n              appendCfg = self._getRadiusCfg(coord);\n            } else if (type === 'Circle') {\n              appendCfg = self._getCircleCfg(coord);\n            }\n          } else {\n            appendCfg = self._getLineCfg(coord, dimType, position);\n          }\n\n          if (grid && verticalScale) {\n            var gridPoints = [];\n            var verticalTicks = formatTicks(verticalScale.getTicks());\n            each(ticks, function (tick) {\n              var subPoints = [];\n              each(verticalTicks, function (verticalTick) {\n                var x = dimType === 'x' ? tick.value : verticalTick.value;\n                var y = dimType === 'x' ? verticalTick.value : tick.value;\n\n                if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n                  var point = coord.convertPoint({\n                    x: x,\n                    y: y\n                  });\n                  subPoints.push(point);\n                }\n              });\n              gridPoints.push({\n                points: subPoints,\n                _id: 'axis-' + dimType + index + '-grid-' + tick.tickValue\n              });\n            });\n            axis.gridPoints = gridPoints;\n\n            if (coord.isPolar) {\n              axis.center = coord.center;\n              axis.startAngle = coord.startAngle;\n              axis.endAngle = coord.endAngle;\n            }\n          }\n\n          appendCfg._id = 'axis-' + dimType;\n\n          if (!isNil(index)) {\n            appendCfg._id = 'axis-' + dimType + index;\n          }\n\n          new Abastract[type](mix(axis, appendCfg));\n        });\n      };\n\n      _proto.clear = function clear() {\n        this.axes = {};\n        this.frontPlot.clear();\n        this.backPlot.clear();\n      };\n\n      return AxisController;\n    }();\n\n    var calcDirection = function calcDirection(start, end) {\n      var xDistance = end.x - start.x;\n      var yDistance = end.y - start.y; // x 的距离大于y 说明是横向，否则就是纵向\n\n      if (Math.abs(xDistance) > Math.abs(yDistance)) {\n        return xDistance > 0 ? 'right' : 'left';\n      }\n\n      return yDistance > 0 ? 'down' : 'up';\n    }; // 计算2点之间的距离\n\n\n    var calcDistance = function calcDistance(point1, point2) {\n      var xDistance = Math.abs(point2.x - point1.x);\n      var yDistance = Math.abs(point2.y - point1.y);\n      return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n    };\n\n    var getCenter = function getCenter(point1, point2) {\n      var x = point1.x + (point2.x - point1.x) / 2;\n      var y = point1.y + (point2.y - point1.y) / 2;\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var PRESS_DELAY = 250;\n\n    var EventController = /*#__PURE__*/function () {\n      function EventController(_ref) {\n        var _this = this;\n\n        var canvas = _ref.canvas,\n            el = _ref.el;\n\n        _defineProperty(this, \"_click\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          ev.points = points;\n\n          _this.emitEvent('click', ev);\n        });\n\n        _defineProperty(this, \"_start\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n\n          if (!points) {\n            return;\n          }\n\n          ev.points = points;\n\n          _this.emitEvent('touchstart', ev); // 防止上次的内容没有清理掉，重新reset下\n\n\n          _this.reset(); // 记录touch start 的时间\n\n\n          _this.startTime = Date.now(); // 记录touch start 的点\n\n          _this.startPoints = points;\n\n          if (points.length > 1) {\n            _this.startDistance = calcDistance(points[0], points[1]);\n            _this.center = getCenter(points[0], points[1]);\n          } else {\n            // 如果touchstart后停顿250ms, 则也触发press事件\n            _this.pressTimeout = setTimeout(function () {\n              // 这里固定触发press事件\n              var eventType = 'press';\n              var direction = 'none';\n              ev.direction = direction;\n\n              _this.emitStart(eventType, ev);\n\n              _this.emitEvent(eventType, ev);\n\n              _this.eventType = eventType;\n              _this.direction = direction;\n            }, PRESS_DELAY);\n          }\n        });\n\n        _defineProperty(this, \"_move\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          if (!points) return;\n\n          _this.clearPressTimeout();\n\n          ev.points = points;\n\n          _this.emitEvent('touchmove', ev);\n\n          var startPoints = _this.startPoints;\n          if (!startPoints) return; // 多指触控\n\n          if (points.length > 1) {\n            // touchstart的距离\n            var startDistance = _this.startDistance;\n            var currentDistance = calcDistance(points[0], points[1]);\n            ev.zoom = currentDistance / startDistance;\n            ev.center = _this.center; // 触发缩放事件\n\n            _this.emitStart('pinch', ev);\n\n            _this.emitEvent('pinch', ev);\n          } else {\n            var deltaX = points[0].x - startPoints[0].x;\n            var deltaY = points[0].y - startPoints[0].y;\n            var direction = _this.direction || calcDirection(startPoints[0], points[0]);\n            _this.direction = direction; // 获取press或者pan的事件类型\n            // press 按住滑动, pan表示平移\n            // 如果start后立刻move，则触发pan, 如果有停顿，则触发press\n\n            var eventType = _this.getEventType(points);\n\n            ev.direction = direction;\n            ev.deltaX = deltaX;\n            ev.deltaY = deltaY;\n\n            _this.emitStart(eventType, ev);\n\n            _this.emitEvent(eventType, ev); // 记录最后2次move的时间和坐标，为了给swipe事件用\n\n\n            var prevMoveTime = _this.lastMoveTime;\n            var now = Date.now(); // 最后2次的时间间隔一定要大于0，否则swipe没发计算\n\n            if (now - prevMoveTime > 0) {\n              _this.prevMoveTime = prevMoveTime;\n              _this.prevMovePoints = _this.lastMovePoints;\n              _this.lastMoveTime = now;\n              _this.lastMovePoints = points;\n            }\n          }\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          ev.points = points;\n\n          _this.emitEnd(ev);\n\n          _this.emitEvent('touchend', ev); // swipe事件处理, 在touchend之后触发\n\n\n          var lastMoveTime = _this.lastMoveTime;\n          var now = Date.now(); // 做这个判断是为了最后一次touchmove后到end前，还有一个停顿的过程\n          // 100 是拍的一个值，理论这个值会很短，一般不卡顿的话在10ms以内\n\n          if (now - lastMoveTime < 100) {\n            var prevMoveTime = _this.prevMoveTime || _this.startTime;\n            var intervalTime = lastMoveTime - prevMoveTime; // 时间间隔一定要大于0, 否则计算没意义\n\n            if (intervalTime > 0) {\n              var prevMovePoints = _this.prevMovePoints || _this.startPoints;\n              var lastMovePoints = _this.lastMovePoints; // move速率\n\n              var velocity = calcDistance(prevMovePoints[0], lastMovePoints[0]) / intervalTime; // 0.3 是参考hammerjs的设置\n\n              if (velocity > 0.3) {\n                ev.velocity = velocity;\n                ev.direction = calcDirection(prevMovePoints[0], lastMovePoints[0]);\n\n                _this.emitEvent('swipe', ev);\n              }\n            }\n          }\n\n          _this.reset();\n\n          var touches = ev.touches; // 当多指只释放了1指时也会触发end, 这时重新触发一次start\n\n          if (touches && touches.length > 0) {\n            _this._start(ev);\n          }\n        });\n\n        _defineProperty(this, \"_cancel\", function (ev) {\n          _this.emitEvent('touchcancel', ev);\n\n          _this.reset();\n        });\n\n        // canvasEl\n        this.canvas = canvas;\n        this.delegateEvent(el); // 用来记录当前触发的事件\n\n        this.processEvent = {};\n      }\n\n      var _proto = EventController.prototype;\n\n      _proto.delegateEvent = function delegateEvent(canvasEl) {\n        // 代理这几个事件\n        canvasEl.addEventListener('click', this._click);\n        canvasEl.addEventListener('touchstart', this._start);\n        canvasEl.addEventListener('touchmove', this._move);\n        canvasEl.addEventListener('touchend', this._end);\n        canvasEl.addEventListener('touchcancel', this._cancel);\n      };\n\n      _proto.emitEvent = function emitEvent(type, ev) {\n        var canvas = this.canvas;\n        canvas.emit(type, ev);\n      };\n\n      _proto.getEventType = function getEventType(points) {\n        var eventType = this.eventType,\n            canvas = this.canvas,\n            startTime = this.startTime,\n            startPoints = this.startPoints;\n\n        if (eventType) {\n          return eventType;\n        }\n\n        var type;\n        var panEventListeners = canvas.__events.pan; // 如果没有pan事件的监听，默认都是press\n\n        if (!panEventListeners || !panEventListeners.length) {\n          type = 'press';\n        } else {\n          // 如果有pan事件的处理，press则需要停顿250ms, 且移动距离小于10\n          var now = Date.now();\n\n          if (now - startTime > PRESS_DELAY && calcDistance(startPoints[0], points[0]) < 10) {\n            type = 'press';\n          } else {\n            type = 'pan';\n          }\n        }\n\n        this.eventType = type;\n        return type;\n      };\n\n      _proto.enable = function enable(eventType) {\n        this.processEvent[eventType] = true;\n      } // 是否进行中的事件\n      ;\n\n      _proto.isProcess = function isProcess(eventType) {\n        return this.processEvent[eventType];\n      } // 触发start事件\n      ;\n\n      _proto.emitStart = function emitStart(type, ev) {\n        if (this.isProcess(type)) {\n          return;\n        }\n\n        this.enable(type);\n        this.emitEvent(type + \"start\", ev);\n      } // 触发end事件\n      ;\n\n      _proto.emitEnd = function emitEnd(ev) {\n        var _this2 = this;\n\n        var processEvent = this.processEvent;\n        Object.keys(processEvent).forEach(function (type) {\n          _this2.emitEvent(type + \"end\", ev);\n\n          delete processEvent[type];\n        });\n      };\n\n      _proto.clearPressTimeout = function clearPressTimeout() {\n        if (this.pressTimeout) {\n          clearTimeout(this.pressTimeout);\n          this.pressTimeout = 0;\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.clearPressTimeout();\n        this.startTime = 0;\n        this.startPoints = null;\n        this.startDistance = 0;\n        this.direction = null;\n        this.eventType = null;\n        this.pinch = false;\n        this.prevMoveTime = 0;\n        this.prevMovePoints = null;\n        this.lastMoveTime = 0;\n        this.lastMovePoints = null;\n      };\n\n      return EventController;\n    }();\n\n    var CanvasElement = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(CanvasElement, _EventEmit);\n\n      function CanvasElement(ctx) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        _this.context = ctx; // canvas实际的宽高 (width/height) * pixelRatio\n\n        _this.width = 0;\n        _this.height = 0;\n        _this.style = {};\n        _this.currentStyle = {};\n        _this.attrs = {}; // 用来标识是CanvasElement实例\n\n        _this.isCanvasElement = true;\n        return _this;\n      }\n\n      var _proto = CanvasElement.prototype;\n\n      _proto.getContext = function getContext()\n      /* type */\n      {\n        return this.context;\n      };\n\n      _proto.getBoundingClientRect = function getBoundingClientRect() {\n        var width = this.width;\n        var height = this.height; // 默认都处理成可视窗口的顶部位置\n\n        return {\n          top: 0,\n          right: width,\n          bottom: height,\n          left: 0\n        };\n      };\n\n      _proto.setAttribute = function setAttribute(key, value) {\n        this.attrs[key] = value;\n      };\n\n      _proto.addEventListener = function addEventListener(type, listener) {\n        this.on(type, listener);\n      };\n\n      _proto.removeEventListener = function removeEventListener(type, listener) {\n        this.off(type, listener);\n      };\n\n      _proto.dispatchEvent = function dispatchEvent(type, e) {\n        this.emit(type, e);\n      };\n\n      return CanvasElement;\n    }(EventEmit);\n\n    function supportEventListener(canvas) {\n      if (!canvas) {\n        return false;\n      } // 非 HTMLCanvasElement\n\n\n      if (canvas.nodeType !== 1 || !canvas.nodeName || canvas.nodeName.toLowerCase() !== 'canvas') {\n        return false;\n      } // 微信小程序canvas.getContext('2d')时也是CanvasRenderingContext2D\n      // 也会有ctx.canvas, 而且nodeType也是1，所以还要在看下是否支持addEventListener\n\n\n      var support = false;\n\n      try {\n        canvas.addEventListener('eventTest', function () {\n          support = true;\n        });\n        canvas.dispatchEvent(new Event('eventTest'));\n      } catch (error) {\n        support = false;\n      }\n\n      return support;\n    }\n\n    var CanvasElement$1 = {\n      create: function create(ctx) {\n        if (!ctx) {\n          return null;\n        }\n\n        if (supportEventListener(ctx.canvas)) {\n          return ctx.canvas;\n        }\n\n        return new CanvasElement(ctx);\n      }\n    };\n\n    function _mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function _addStop(steps, gradient) {\n      each(steps, function (item) {\n        item = item.split(':');\n        gradient.addColorStop(Number(item[0]), item[1]);\n      });\n    } // the string format: 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff'\n\n\n    function _parseLineGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var angle = arr[0].slice(2, arr[0].length - 1);\n      angle = _mod(parseFloat(angle) * Math.PI / 180, Math.PI * 2);\n      var steps = arr.slice(1);\n\n      var _shape$getBBox = shape.getBBox(),\n          minX = _shape$getBBox.minX,\n          minY = _shape$getBBox.minY,\n          maxX = _shape$getBBox.maxX,\n          maxY = _shape$getBBox.maxY;\n\n      var start;\n      var end;\n\n      if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n          x: minX,\n          y: minY\n        };\n        end = {\n          x: maxX,\n          y: maxY\n        };\n      } else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n          x: maxX,\n          y: minY\n        };\n        end = {\n          x: minX,\n          y: maxY\n        };\n      } else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n          x: maxX,\n          y: maxY\n        };\n        end = {\n          x: minX,\n          y: minY\n        };\n      } else {\n        start = {\n          x: minX,\n          y: maxY\n        };\n        end = {\n          x: maxX,\n          y: minY\n        };\n      }\n\n      var tanTheta = Math.tan(angle);\n      var tanTheta2 = tanTheta * tanTheta;\n      var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n      var y = tanTheta * (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.y;\n      var gradient = context.createLinearGradient(start.x, start.y, x, y);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    } // the string format: 'r(0.5, 0.5, 0.1) 0:#ffffff 1:#1890ff'\n\n\n    function _parseRadialGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var circleCfg = arr[0].slice(2, arr[0].length - 1);\n      circleCfg = circleCfg.split(',');\n      var fx = parseFloat(circleCfg[0]);\n      var fy = parseFloat(circleCfg[1]);\n      var fr = parseFloat(circleCfg[2]);\n      var steps = arr.slice(1); // if radius is 0, no gradient, stroke with the last color\n\n      if (fr === 0) {\n        var _color = steps[steps.length - 1];\n        return _color.split(':')[1];\n      }\n\n      var _shape$getBBox2 = shape.getBBox(),\n          width = _shape$getBBox2.width,\n          height = _shape$getBBox2.height,\n          minX = _shape$getBBox2.minX,\n          minY = _shape$getBBox2.minY;\n\n      var r = Math.sqrt(width * width + height * height) / 2;\n      var gradient = context.createRadialGradient(minX + width * fx, minY + height * fy, fr * r, minX + width / 2, minY + height / 2, r);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    }\n\n    function parseStyle(color, shape, context) {\n      if (color[1] === '(') {\n        try {\n          var firstCode = color[0];\n\n          if (firstCode === 'l') {\n            return _parseLineGradient(color, shape, context);\n          } else if (firstCode === 'r') {\n            return _parseRadialGradient(color, shape, context);\n          }\n        } catch (ev) {\n          console.error('error in parsing gradient string, please check if there are any extra whitespaces.');\n          console.error(ev);\n        }\n      }\n\n      return color;\n    }\n\n    var ALIAS_ATTRS_MAP = {\n      stroke: 'strokeStyle',\n      fill: 'fillStyle',\n      opacity: 'globalAlpha'\n    };\n    var SHAPE_ATTRS = ['fillStyle', 'font', 'globalAlpha', 'lineCap', 'lineWidth', 'lineJoin', 'miterLimit', 'shadowBlur', 'shadowColor', 'shadowOffsetX', 'shadowOffsetY', 'strokeStyle', 'textAlign', 'textBaseline', 'lineDash', 'shadow' // 兼容支付宝小程序\n    ];\n    var CLIP_SHAPES = ['circle', 'sector', 'polygon', 'rect', 'polyline'];\n\n    var Element = /*#__PURE__*/function () {\n      var _proto = Element.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false\n        };\n      };\n\n      function Element(cfg) {\n        this._initProperties();\n\n        mix(this._attrs, cfg);\n        var attrs = this._attrs.attrs;\n\n        if (attrs) {\n          this.initAttrs(attrs);\n        }\n\n        this.initTransform();\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.isGroup = function isGroup() {\n        return this.get('isGroup');\n      };\n\n      _proto.isShape = function isShape() {\n        return this.get('isShape');\n      };\n\n      _proto.initAttrs = function initAttrs(attrs) {\n        this.attr(mix(this.getDefaultAttrs(), attrs));\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {};\n      };\n\n      _proto._setAttr = function _setAttr(name, value) {\n        var attrs = this._attrs.attrs;\n\n        if (name === 'clip') {\n          value = this._setAttrClip(value);\n        } else {\n          var alias = ALIAS_ATTRS_MAP[name];\n\n          if (alias) {\n            attrs[alias] = value;\n          }\n        }\n\n        attrs[name] = value;\n      };\n\n      _proto._getAttr = function _getAttr(name) {\n        return this._attrs.attrs[name];\n      } // _afterAttrsSet() {}\n      ;\n\n      _proto._setAttrClip = function _setAttrClip(clip) {\n        if (clip && CLIP_SHAPES.indexOf(clip._attrs.type) > -1) {\n          if (clip.get('canvas') === null) {\n            clip = Object.assign({}, clip);\n          }\n\n          clip.set('parent', this.get('parent'));\n          clip.set('context', this.get('context'));\n          return clip;\n        }\n\n        return null;\n      };\n\n      _proto.attr = function attr(name, value) {\n        var self = this;\n        if (self.get('destroyed')) return null;\n        var argumentsLen = arguments.length;\n\n        if (argumentsLen === 0) {\n          return self._attrs.attrs;\n        }\n\n        if (isObject(name)) {\n          this._attrs.bbox = null;\n\n          for (var k in name) {\n            self._setAttr(k, name[k]);\n          }\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        if (argumentsLen === 2) {\n          this._attrs.bbox = null;\n\n          self._setAttr(name, value);\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        return self._getAttr(name);\n      };\n\n      _proto.getParent = function getParent() {\n        return this.get('parent');\n      };\n\n      _proto.draw = function draw(context) {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        if (this.get('visible')) {\n          this.setContext(context);\n          this.drawInner(context);\n          this.restoreContext(context);\n        }\n      };\n\n      _proto.setContext = function setContext(context) {\n        var clip = this._attrs.attrs.clip;\n        context.save();\n\n        if (clip) {\n          clip.resetTransform(context);\n          clip.createPath(context);\n          context.clip();\n        }\n\n        this.resetContext(context);\n        this.resetTransform(context);\n      };\n\n      _proto.restoreContext = function restoreContext(context) {\n        context.restore();\n      };\n\n      _proto.resetContext = function resetContext(context) {\n        var elAttrs = this._attrs.attrs;\n\n        if (!this._attrs.isGroup) {\n          for (var k in elAttrs) {\n            if (SHAPE_ATTRS.indexOf(k) > -1) {\n              var v = elAttrs[k];\n\n              if ((k === 'fillStyle' || k === 'strokeStyle') && v) {\n                v = parseStyle(v, this, context);\n              }\n\n              if (k === 'lineDash' && context.setLineDash && isArray(v)) {\n                context.setLineDash(v);\n              } else {\n                context[k] = v;\n              }\n            }\n          }\n        }\n      };\n\n      _proto.hasFill = function hasFill() {\n        return this.get('canFill') && this._attrs.attrs.fillStyle;\n      };\n\n      _proto.hasStroke = function hasStroke() {\n        return this.get('canStroke') && this._attrs.attrs.strokeStyle;\n      };\n\n      _proto.drawInner = function drawInner()\n      /* context */\n      {};\n\n      _proto.show = function show() {\n        this.set('visible', true);\n        return this;\n      };\n\n      _proto.hide = function hide() {\n        this.set('visible', false);\n        return this;\n      };\n\n      _proto.isVisible = function isVisible() {\n        return this.get('visible');\n      };\n\n      _proto.getAriaLabel = function getAriaLabel() {\n        var _this$_attrs = this._attrs,\n            destroyed = _this$_attrs.destroyed,\n            visible = _this$_attrs.visible,\n            isShape = _this$_attrs.isShape,\n            aria = _this$_attrs.aria;\n\n        if (destroyed || !visible || isShape && !aria) {\n          return;\n        }\n\n        return this._getAriaLabel();\n      };\n\n      _proto._getAriaLabel = function _getAriaLabel() {\n        return this._attrs.ariaLabel;\n      };\n\n      _proto._removeFromParent = function _removeFromParent() {\n        var parent = this.get('parent');\n\n        if (parent) {\n          var children = parent.get('children');\n          remove(children, this);\n        }\n\n        return this;\n      };\n\n      _proto.remove = function remove(destroy) {\n        if (destroy) {\n          this.destroy();\n        } else {\n          this._removeFromParent();\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        var destroyed = this.get('destroyed');\n\n        if (destroyed) {\n          return null;\n        }\n\n        this._removeFromParent();\n\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.getBBox = function getBBox() {\n        return {\n          minX: 0,\n          maxX: 0,\n          minY: 0,\n          maxY: 0,\n          width: 0,\n          height: 0\n        };\n      };\n\n      _proto.initTransform = function initTransform() {\n        var attrs = this._attrs.attrs || {};\n\n        if (!attrs.matrix) {\n          attrs.matrix = [1, 0, 0, 1, 0, 0];\n        }\n\n        this._attrs.attrs = attrs;\n      };\n\n      _proto.getMatrix = function getMatrix() {\n        return this._attrs.attrs.matrix;\n      };\n\n      _proto.setMatrix = function setMatrix(m) {\n        this._attrs.attrs.matrix = [m[0], m[1], m[2], m[3], m[4], m[5]];\n      };\n\n      _proto.transform = function transform(actions) {\n        var matrix = this._attrs.attrs.matrix;\n        this._attrs.attrs.matrix = Matrix.transform(matrix, actions);\n        return this;\n      };\n\n      _proto.setTransform = function setTransform(actions) {\n        this._attrs.attrs.matrix = [1, 0, 0, 1, 0, 0];\n        return this.transform(actions);\n      };\n\n      _proto.translate = function translate(x, y) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.translate(matrix, matrix, [x, y]);\n      };\n\n      _proto.rotate = function rotate(rad) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.rotate(matrix, matrix, rad);\n      };\n\n      _proto.scale = function scale(sx, sy) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.scale(matrix, matrix, [sx, sy]);\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        var cx = this._attrs.x || 0;\n        var cy = this._attrs.y || 0;\n        this.translate(x - cx, y - cy);\n        this.set('x', x);\n        this.set('y', y);\n      };\n\n      _proto.apply = function apply(v) {\n        var m = this._attrs.attrs.matrix;\n        Vector2.transformMat2d(v, v, m);\n        return this;\n      };\n\n      _proto.resetTransform = function resetTransform(context) {\n        var mo = this._attrs.attrs.matrix;\n\n        if (Matrix.isChanged(mo)) {\n          context.transform(mo[0], mo[1], mo[2], mo[3], mo[4], mo[5]);\n        }\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Element;\n    }();\n\n    var Shape$2 = /*#__PURE__*/function (_Element) {\n      _inheritsLoose(Shape, _Element);\n\n      function Shape() {\n        return _Element.apply(this, arguments) || this;\n      }\n\n      var _proto = Shape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isShape: true,\n          attrs: {}\n        };\n      };\n\n      _proto.getType = function getType() {\n        return this._attrs.type;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        self.createPath(context);\n        var originOpacity = context.globalAlpha;\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n            context.fill();\n            context.globalAlpha = originOpacity;\n          } else {\n            context.fill();\n          }\n        }\n\n        if (self.hasStroke()) {\n          var lineWidth = attrs.lineWidth;\n\n          if (lineWidth > 0) {\n            var strokeOpacity = attrs.strokeOpacity;\n\n            if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n              context.globalAlpha = strokeOpacity;\n            }\n\n            context.stroke();\n          }\n        }\n      };\n\n      _proto.getBBox = function getBBox() {\n        var bbox = this._attrs.bbox;\n\n        if (!bbox) {\n          bbox = this.calculateBox();\n\n          if (bbox) {\n            bbox.x = bbox.minX;\n            bbox.y = bbox.minY;\n            bbox.width = bbox.maxX - bbox.minX;\n            bbox.height = bbox.maxY - bbox.minY;\n          }\n\n          this._attrs.bbox = bbox;\n        }\n\n        return bbox;\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        return null;\n      };\n\n      _proto.createPath = function createPath() {};\n\n      return Shape;\n    }(Element);\n\n    function parseRadius(radius, width, height) {\n      radius = parsePadding(radius); // 都为0\n\n      if (!radius[0] && !radius[1] && !radius[2] && !radius[3]) {\n        return radius;\n      }\n\n      var minWidth = Math.max(radius[0] + radius[1], radius[2] + radius[3]);\n      var minHeight = Math.max(radius[0] + radius[3], radius[1] + radius[2]);\n      var scale = Math.min(width / minWidth, height / minHeight);\n\n      if (scale < 1) {\n        return radius.map(function (r) {\n          return r * scale;\n        });\n      }\n\n      return radius;\n    }\n\n    var Rect = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Rect, _Shape);\n\n      function Rect() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'rect';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createRadiusPath = function createRadiusPath(context, x, y, width, height, radius) {\n        radius = parseRadius(radius, width, height);\n        context.moveTo(x + radius[0], y);\n        context.lineTo(x + width - radius[1], y);\n        context.arc(x + width - radius[1], y + radius[1], radius[1], -Math.PI / 2, 0, false);\n        context.lineTo(x + width, y + height - radius[2]);\n        context.arc(x + width - radius[2], y + height - radius[2], radius[2], 0, Math.PI / 2, false);\n        context.lineTo(x + radius[3], y + height);\n        context.arc(x + radius[3], y + height - radius[3], radius[3], Math.PI / 2, Math.PI, false);\n        context.lineTo(x, y + radius[0]);\n        context.arc(x + radius[0], y + radius[0], radius[0], Math.PI, Math.PI * 3 / 2, false);\n        context.closePath();\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            radius = attrs.radius;\n        context.beginPath();\n\n        if (!radius || !(width * height)) {\n          context.rect(x, y, width, height);\n        } else {\n          this.createRadiusPath(context, x, y, width, height, radius);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height;\n        return {\n          minX: x,\n          minY: y,\n          maxX: x + width,\n          maxY: y + height\n        };\n      };\n\n      return Rect;\n    }(Shape$2);\n\n    var ImageShape = /*#__PURE__*/function (_Rect) {\n      _inheritsLoose(ImageShape, _Rect);\n\n      function ImageShape() {\n        return _Rect.apply(this, arguments) || this;\n      }\n\n      var _proto = ImageShape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Rect.prototype._initProperties.call(this);\n\n        this._attrs.canFill = false;\n        this._attrs.canStroke = false;\n        this._attrs.loading = false;\n        this._attrs.image = null;\n        this._attrs.type = 'image';\n      };\n\n      _proto.createPath = function createPath(context) {\n        var _this = this;\n\n        var attrs = this.get('attrs');\n        var src = attrs.src;\n\n        if (this.get('loading')) {\n          return;\n        }\n\n        var image = this.get('image');\n\n        if (image) {\n          this.drawImage(context, image);\n        } else {\n          if (src && Image) {\n            this.set('loading', true);\n\n            var _image = new Image();\n\n            _image.src = src; // 设置跨域\n\n            _image.crossOrigin = 'Anonymous';\n\n            _image.onload = function () {\n              _this.set('loading', false);\n\n              _this.set('image', _image);\n\n              _this.drawImage(context, _image);\n            };\n          }\n        }\n      };\n\n      _proto.drawImage = function drawImage(context, image) {\n        var _this$_attrs = this._attrs,\n            attrs = _this$_attrs.attrs,\n            destroyed = _this$_attrs.destroyed;\n\n        if (destroyed) {\n          return;\n        }\n\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            sx = attrs.sx,\n            sy = attrs.sy,\n            swidth = attrs.swidth,\n            sheight = attrs.sheight,\n            radius = attrs.radius;\n\n        if (radius) {\n          context.save();\n          this.createRadiusPath(context, x, y, width, height, radius);\n          context.clip();\n        }\n\n        if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n          context.drawImage(image, sx, sy, swidth, sheight, x, y, width, height);\n        } else {\n          context.drawImage(image, x, y, width, height);\n        }\n\n        if (radius) {\n          // 因为 save 和 restore 会一定程度上影响绘图性能，所以只在必要是调用\n          context.restore();\n        }\n      };\n\n      return ImageShape;\n    }(Rect);\n\n    var Circle = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Circle, _Shape);\n\n      function Circle() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'circle';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        context.beginPath();\n        context.arc(x, y, r, 0, Math.PI * 2, false);\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        return {\n          minX: x - r,\n          maxX: x + r,\n          minY: y - r,\n          maxY: y + r\n        };\n      };\n\n      return Circle;\n    }(Shape$2);\n\n    var start = Vector2.create();\n    var end = Vector2.create();\n    var extremity = Vector2.create();\n\n    function getCubicBezierXYatT(startPt, controlPt1, controlPt2, endPt, T) {\n      var x = CubicN(T, startPt.x, controlPt1.x, controlPt2.x, endPt.x);\n      var y = CubicN(T, startPt.y, controlPt1.y, controlPt2.y, endPt.y);\n      return {\n        x: x,\n        y: y\n      };\n    } // cubic helper formula at T distance\n\n\n    function CubicN(T, a, b, c, d) {\n      var t2 = T * T;\n      var t3 = t2 * T;\n      return a + (-a * 3 + T * (3 * a - a * T)) * T + (3 * b + T * (-6 * b + b * 3 * T)) * T + (c * 3 - c * 3 * T) * t2 + d * t3;\n    }\n\n    function cubicBezierBounds(c) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n      var s = {\n        x: c[0],\n        y: c[1]\n      };\n      var c1 = {\n        x: c[2],\n        y: c[3]\n      };\n      var c2 = {\n        x: c[4],\n        y: c[5]\n      };\n      var e = {\n        x: c[6],\n        y: c[7]\n      };\n\n      for (var t = 0; t < 100; t++) {\n        var pt = getCubicBezierXYatT(s, c1, c2, e, t / 100);\n\n        if (pt.x < minX) {\n          minX = pt.x;\n        }\n\n        if (pt.x > maxX) {\n          maxX = pt.x;\n        }\n\n        if (pt.y < minY) {\n          minY = pt.y;\n        }\n\n        if (pt.y > maxY) {\n          maxY = pt.y;\n        }\n      }\n\n      return {\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY\n      };\n    }\n\n    function getBBoxFromPoints(points, lineWidth) {\n      if (points.length === 0) {\n        return;\n      }\n\n      var p = points[0];\n      var left = p.x;\n      var right = p.x;\n      var top = p.y;\n      var bottom = p.y;\n      var len = points.length;\n\n      for (var i = 1; i < len; i++) {\n        p = points[i];\n        left = Math.min(left, p.x);\n        right = Math.max(right, p.x);\n        top = Math.min(top, p.y);\n        bottom = Math.max(bottom, p.y);\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: left - lineWidth,\n        minY: top - lineWidth,\n        maxX: right + lineWidth,\n        maxY: bottom + lineWidth\n      };\n    }\n\n    function getBBoxFromLine(x0, y0, x1, y1, lineWidth) {\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: Math.min(x0, x1) - lineWidth,\n        minY: Math.min(y0, y1) - lineWidth,\n        maxX: Math.max(x0, x1) + lineWidth,\n        maxY: Math.max(y0, y1) + lineWidth\n      };\n    }\n\n    function getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise) {\n      var diff = Math.abs(startAngle - endAngle);\n\n      if (diff % (Math.PI * 2) < 1e-4 && diff > 1e-4) {\n        // Is a circle\n        return {\n          minX: x - r,\n          minY: y - r,\n          maxX: x + r,\n          maxY: y + r\n        };\n      }\n\n      start[0] = Math.cos(startAngle) * r + x;\n      start[1] = Math.sin(startAngle) * r + y;\n      end[0] = Math.cos(endAngle) * r + x;\n      end[1] = Math.sin(endAngle) * r + y;\n      var min = [0, 0];\n      var max = [0, 0];\n      Vector2.min(min, start, end);\n      Vector2.max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n      startAngle = startAngle % (Math.PI * 2);\n\n      if (startAngle < 0) {\n        startAngle = startAngle + Math.PI * 2;\n      }\n\n      endAngle = endAngle % (Math.PI * 2);\n\n      if (endAngle < 0) {\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      if (startAngle > endAngle && !anticlockwise) {\n        endAngle += Math.PI * 2;\n      } else if (startAngle < endAngle && anticlockwise) {\n        startAngle += Math.PI * 2;\n      }\n\n      if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n      }\n\n      for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n          extremity[0] = Math.cos(angle) * r + x;\n          extremity[1] = Math.sin(angle) * r + y;\n          Vector2.min(min, extremity, min);\n          Vector2.max(max, extremity, max);\n        }\n      }\n\n      return {\n        minX: min[0],\n        minY: min[1],\n        maxX: max[0],\n        maxY: max[1]\n      };\n    }\n\n    function getBBoxFromBezierGroup(points, lineWidth) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var bbox = cubicBezierBounds(points[i]);\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: minX - lineWidth,\n        minY: minY - lineWidth,\n        maxX: maxX + lineWidth,\n        maxY: maxY + lineWidth\n      };\n    }\n\n    var Line$1 = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Line, _Shape);\n\n      function Line() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.type = 'line';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2;\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2,\n            lineWidth = attrs.lineWidth;\n        return getBBoxFromLine(x1, y1, x2, y2, lineWidth);\n      };\n\n      return Line;\n    }(Shape$2);\n\n    var Polygon = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polygon, _Shape);\n\n      function Polygon() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polygon';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points;\n        context.beginPath();\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n\n          if (i === 0) {\n            context.moveTo(point.x, point.y);\n          } else {\n            context.lineTo(point.x, point.y);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points;\n        return getBBoxFromPoints(points);\n      };\n\n      return Polygon;\n    }(Shape$2);\n\n    /**\n     * @fileOverview convert the line to curve\n     * @author dxq613@gmail.com\n     */\n\n    function getPoint(v) {\n      return [v.x, v.y];\n    }\n\n    function smoothBezier(points, smooth, isLoop, constraint) {\n      var cps = [];\n      var prevPoint;\n      var nextPoint;\n      var hasConstraint = !!constraint;\n      var min;\n      var max;\n      var point;\n      var len;\n      var l;\n      var i;\n\n      if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n\n        for (i = 0, l = points.length; i < l; i++) {\n          point = getPoint(points[i]);\n          Vector2.min(min, min, point);\n          Vector2.max(max, max, point);\n        }\n\n        Vector2.min(min, min, constraint[0]);\n        Vector2.max(max, max, constraint[1]);\n      }\n\n      for (i = 0, len = points.length; i < len; i++) {\n        point = getPoint(points[i]);\n\n        if (isLoop) {\n          prevPoint = getPoint(points[i ? i - 1 : len - 1]);\n          nextPoint = getPoint(points[(i + 1) % len]);\n        } else {\n          if (i === 0 || i === len - 1) {\n            cps.push([point[0], point[1]]);\n            continue;\n          } else {\n            prevPoint = getPoint(points[i - 1]);\n            nextPoint = getPoint(points[i + 1]);\n          }\n        }\n\n        var v = Vector2.sub([], nextPoint, prevPoint);\n        Vector2.scale(v, v, smooth);\n        var d0 = Vector2.distance(point, prevPoint);\n        var d1 = Vector2.distance(point, nextPoint);\n        var sum = d0 + d1;\n\n        if (sum !== 0) {\n          d0 /= sum;\n          d1 /= sum;\n        }\n\n        var v1 = Vector2.scale([], v, -d0);\n        var v2 = Vector2.scale([], v, d1);\n        var cp0 = Vector2.add([], point, v1);\n        var cp1 = Vector2.add([], point, v2);\n\n        if (hasConstraint) {\n          Vector2.max(cp0, cp0, min);\n          Vector2.min(cp0, cp0, max);\n          Vector2.max(cp1, cp1, min);\n          Vector2.min(cp1, cp1, max);\n        }\n\n        cps.push([cp0[0], cp0[1]]);\n        cps.push([cp1[0], cp1[1]]);\n      }\n\n      if (isLoop) {\n        cps.push(cps.shift());\n      }\n\n      return cps;\n    }\n\n    function catmullRom2bezier(pointList, z, constraint) {\n      var isLoop = !!z;\n      var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n      var len = pointList.length;\n      var d1 = [];\n      var cp1;\n      var cp2;\n      var p;\n\n      for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      return d1;\n    }\n\n    function _filterPoints(points) {\n      var filteredPoints = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    var Polyline = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polyline, _Shape);\n\n      function Polyline() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polyline.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polyline';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 1,\n          smooth: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth;\n\n        var filteredPoints = _filterPoints(points);\n\n        context.beginPath();\n\n        if (filteredPoints.length) {\n          context.moveTo(filteredPoints[0].x, filteredPoints[0].y);\n\n          if (smooth) {\n            var constaint = [[0, 0], [1, 1]];\n            var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n            for (var i = 0, n = sps.length; i < n; i++) {\n              var sp = sps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n          } else {\n            var _i;\n\n            var l;\n\n            for (_i = 1, l = filteredPoints.length - 1; _i < l; _i++) {\n              context.lineTo(filteredPoints[_i].x, filteredPoints[_i].y);\n            }\n\n            context.lineTo(filteredPoints[l].x, filteredPoints[l].y);\n          }\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth,\n            lineWidth = attrs.lineWidth;\n\n        var filteredPoints = _filterPoints(points);\n\n        if (smooth) {\n          var newPoints = [];\n          var constaint = [[0, 0], [1, 1]];\n          var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n          for (var i = 0, n = sps.length; i < n; i++) {\n            var sp = sps[i];\n\n            if (i === 0) {\n              newPoints.push([filteredPoints[0].x, filteredPoints[0].y, sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            } else {\n              var lastPoint = sps[i - 1];\n              newPoints.push([lastPoint[5], lastPoint[6], sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            }\n          }\n\n          return getBBoxFromBezierGroup(newPoints, lineWidth);\n        }\n\n        return getBBoxFromPoints(filteredPoints, lineWidth);\n      };\n\n      return Polyline;\n    }(Shape$2);\n\n    var Arc = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Arc, _Shape);\n\n      function Arc() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.canFill = true;\n        this._attrs.type = 'arc';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n\n        if (startAngle !== endAngle) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        return getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n      };\n\n      return Arc;\n    }(Shape$2);\n\n    var Sector = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Sector, _Shape);\n\n      function Sector() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Sector.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'sector';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0,\n          r: 0,\n          r0: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            r = attrs.r,\n            r0 = attrs.r0,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        context.moveTo(unitX * r0 + x, unitY * r0 + y);\n        context.lineTo(unitX * r + x, unitY * r + y); // 当扇形的角度非常小的时候，就不进行弧线的绘制；或者整个只有1个扇形时，会出现end<0的情况不绘制\n\n        if (Math.abs(endAngle - startAngle) > 0.0001 || startAngle === 0 && endAngle < 0) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n          context.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n          if (r0 !== 0) {\n            context.arc(x, y, r0, endAngle, startAngle, !anticlockwise);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            r0 = attrs.r0,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        var outerBBox = getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n        var innerBBox = getBBoxFromArc(x, y, r0, startAngle, endAngle, anticlockwise);\n        return {\n          minX: Math.min(outerBBox.minX, innerBBox.minX),\n          minY: Math.min(outerBBox.minY, innerBBox.minY),\n          maxX: Math.max(outerBBox.maxX, innerBBox.maxX),\n          maxY: Math.max(outerBBox.maxY, innerBBox.maxY)\n        };\n      };\n\n      return Sector;\n    }(Shape$2);\n\n    var Rect$1 = {\n      calcRotatedBox: function calcRotatedBox(_ref) {\n        var width = _ref.width,\n            height = _ref.height,\n            rotate = _ref.rotate;\n        var absRotate = Math.abs(rotate);\n        return {\n          width: Math.abs(width * Math.cos(absRotate) + height * Math.sin(absRotate)),\n          height: Math.abs(height * Math.cos(absRotate) + width * Math.sin(absRotate))\n        };\n      }\n    };\n\n    var textWidthCacheCounter = 0;\n    var textWidthCache = {};\n    var TEXT_CACHE_MAX = 5000;\n\n    var Text = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Text, _Shape);\n\n      function Text() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'text';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          lineWidth: 0,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: 'sans-serif',\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fontVariant: 'normal',\n          textAlign: 'start',\n          textBaseline: 'bottom',\n          lineHeight: null,\n          textArr: null\n        };\n      };\n\n      _proto._getFontStyle = function _getFontStyle() {\n        var attrs = this._attrs.attrs;\n        var fontSize = attrs.fontSize,\n            fontFamily = attrs.fontFamily,\n            fontWeight = attrs.fontWeight,\n            fontStyle = attrs.fontStyle,\n            fontVariant = attrs.fontVariant;\n        return fontStyle + \" \" + fontVariant + \" \" + fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n      };\n\n      _proto._afterAttrsSet = function _afterAttrsSet() {\n        var attrs = this._attrs.attrs;\n        attrs.font = this._getFontStyle();\n\n        if (attrs.text) {\n          var text = attrs.text;\n          var textArr = null;\n          var lineCount = 1;\n\n          if (isString(text) && text.indexOf('\\n') !== -1) {\n            textArr = text.split('\\n');\n            lineCount = textArr.length;\n          }\n\n          attrs.lineCount = lineCount;\n          attrs.textArr = textArr;\n        }\n\n        this.set('attrs', attrs);\n      };\n\n      _proto._getTextHeight = function _getTextHeight() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.height) {\n          return attrs.height;\n        }\n\n        var lineCount = attrs.lineCount;\n        var fontSize = attrs.fontSize * 1;\n\n        if (lineCount > 1) {\n          var spaceingY = this._getSpaceingY();\n\n          return fontSize * lineCount + spaceingY * (lineCount - 1);\n        }\n\n        return fontSize;\n      };\n\n      _proto._getSpaceingY = function _getSpaceingY() {\n        var attrs = this._attrs.attrs;\n        var lineHeight = attrs.lineHeight;\n        var fontSize = attrs.fontSize * 1;\n        return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var text = attrs.text;\n        var x = attrs.x;\n        var y = attrs.y;\n\n        if (isNil(text) || isNaN(x) || isNaN(y)) {\n          // text will be 0\n          return;\n        }\n\n        var textArr = attrs.textArr;\n        var fontSize = attrs.fontSize * 1;\n\n        var spaceingY = self._getSpaceingY();\n\n        if (attrs.rotate) {\n          // do rotation\n          context.translate(x, y);\n          context.rotate(attrs.rotate);\n          x = 0;\n          y = 0;\n        }\n\n        var textBaseline = attrs.textBaseline;\n        var height;\n\n        if (textArr) {\n          height = self._getTextHeight();\n        }\n\n        var subY; // context.beginPath();\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n          }\n\n          if (textArr) {\n            for (var i = 0, len = textArr.length; i < len; i++) {\n              var subText = textArr[i];\n              subY = y + i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.fillText(subText, x, subY);\n            }\n          } else {\n            context.fillText(text, x, y);\n          }\n        }\n\n        if (self.hasStroke()) {\n          if (textArr) {\n            for (var _i = 0, _len = textArr.length; _i < _len; _i++) {\n              var _subText = textArr[_i];\n              subY = y + _i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.strokeText(_subText, x, subY);\n            }\n          } else {\n            context.strokeText(text, x, y);\n          }\n        }\n      };\n\n      _proto._getAriaLabel = function _getAriaLabel() {\n        return this._attrs.attrs.text;\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var x = attrs.x,\n            y = attrs.y,\n            textAlign = attrs.textAlign,\n            textBaseline = attrs.textBaseline;\n\n        var width = self._getTextWidth(); // attrs.width\n\n\n        if (!width) {\n          return {\n            minX: x,\n            minY: y,\n            maxX: x,\n            maxY: y\n          };\n        }\n\n        var height = self._getTextHeight(); // attrs.height\n\n\n        if (attrs.rotate) {\n          var rotatedBox = Rect$1.calcRotatedBox({\n            width: width,\n            height: height,\n            rotate: attrs.rotate\n          });\n          width = rotatedBox.width;\n          height = rotatedBox.height;\n        }\n\n        var point = {\n          x: x,\n          y: y - height\n        }; // default textAlign: start, textBaseline: bottom\n\n        if (textAlign) {\n          if (textAlign === 'end' || textAlign === 'right') {\n            point.x -= width;\n          } else if (textAlign === 'center') {\n            point.x -= width / 2;\n          }\n        }\n\n        if (textBaseline) {\n          if (textBaseline === 'top') {\n            point.y += height;\n          } else if (textBaseline === 'middle') {\n            point.y += height / 2;\n          }\n        }\n\n        return {\n          minX: point.x,\n          minY: point.y,\n          maxX: point.x + width,\n          maxY: point.y + height\n        };\n      };\n\n      _proto._getTextWidth = function _getTextWidth() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.width) {\n          return attrs.width;\n        }\n\n        var text = attrs.text;\n        var context = this.get('context');\n        if (isNil(text)) return undefined;\n        var font = attrs.font;\n        var textArr = attrs.textArr;\n        var key = text + '' + font;\n\n        if (textWidthCache[key]) {\n          return textWidthCache[key];\n        }\n\n        var width = 0;\n\n        if (textArr) {\n          for (var i = 0, length = textArr.length; i < length; i++) {\n            var subText = textArr[i];\n            width = Math.max(width, measureText(subText, font, context).width);\n          }\n        } else {\n          width = measureText(text, font, context).width;\n        }\n\n        if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n          textWidthCacheCounter = 0;\n          textWidthCache = {};\n        }\n\n        textWidthCacheCounter++;\n        textWidthCache[key] = width;\n        return width;\n      };\n\n      return Text;\n    }(Shape$2);\n\n    var Custom = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Custom, _Shape);\n\n      function Custom() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Custom.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.createPath = null;\n        this._attrs.type = 'custom';\n      };\n\n      _proto.createPath = function createPath(context) {\n        var createPath = this.get('createPath');\n        createPath && createPath.call(this, context);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var calculateBox = this.get('calculateBox');\n        return calculateBox && calculateBox.call(this);\n      };\n\n      return Custom;\n    }(Shape$2);\n\n    var SYMBOLS = {\n      circle: function circle(x, y, r, ctx) {\n        ctx.arc(x, y, r, 0, Math.PI * 2, false);\n      },\n      square: function square(x, y, r, ctx) {\n        ctx.moveTo(x - r, y - r);\n        ctx.lineTo(x + r, y - r);\n        ctx.lineTo(x + r, y + r);\n        ctx.lineTo(x - r, y + r);\n        ctx.closePath();\n      }\n    };\n\n    var Marker = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Marker, _Shape);\n\n      function Marker() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Marker.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'marker';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n\n        if (isFunction(symbol)) {\n          method = symbol;\n        } else {\n          method = SYMBOLS[symbol];\n        }\n\n        context.beginPath();\n        method(x, y, radius, context, this);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        return {\n          minX: x - radius,\n          minY: y - radius,\n          maxX: x + radius,\n          maxY: y + radius\n        };\n      };\n\n      return Marker;\n    }(Shape$2);\n\n    Shape$2.Rect = Rect;\n    Shape$2.Image = ImageShape;\n    Shape$2.Circle = Circle;\n    Shape$2.Line = Line$1;\n    Shape$2.Polygon = Polygon;\n    Shape$2.Polyline = Polyline;\n    Shape$2.Arc = Arc;\n    Shape$2.Sector = Sector;\n    Shape$2.Text = Text;\n    Shape$2.Custom = Custom;\n    Shape$2.Marker = Marker;\n\n    var SHAPE_MAP = {};\n    var INDEX = '_INDEX';\n\n    function getComparer(compare) {\n      return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n      };\n    }\n\n    var Container = {\n      getGroupClass: function getGroupClass() {},\n      getChildren: function getChildren() {\n        return this.get('children');\n      },\n      addShape: function addShape(type, cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var shapeType = SHAPE_MAP[type];\n\n        if (!shapeType) {\n          shapeType = upperFirst(type);\n          SHAPE_MAP[type] = shapeType;\n        }\n\n        var shape = new Shape$2[shapeType](cfg);\n        this.add(shape);\n        return shape;\n      },\n      addGroup: function addGroup(cfg) {\n        var groupClass = this.getGroupClass();\n        var rst = new groupClass(cfg);\n        this.add(rst);\n        return rst;\n      },\n      contain: function contain(item) {\n        var children = this.get('children');\n        return children.indexOf(item) > -1;\n      },\n      sort: function sort() {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child[INDEX] = i;\n        }\n\n        children.sort(getComparer(function (obj1, obj2) {\n          return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        return this;\n      },\n      drawChildren: function drawChildren(context) {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child.draw(context);\n        }\n\n        return this;\n      },\n      clear: function clear() {\n        var children = this.get('children');\n\n        while (children.length !== 0) {\n          children[children.length - 1].remove(true);\n        }\n\n        return this;\n      },\n      add: function add(items) {\n        var self = this;\n        var children = self.get('children');\n\n        if (!isArray(items)) {\n          items = [items];\n        }\n\n        for (var i = 0, len = items.length; i < len; i++) {\n          var item = items[i];\n          var parent = item.get('parent');\n\n          if (parent) {\n            var descendants = parent.get('children');\n            remove(descendants, item);\n          }\n\n          self._setEvn(item);\n\n          children.push(item);\n        }\n\n        return self;\n      },\n      _setEvn: function _setEvn(item) {\n        var self = this;\n        var _self$_attrs = self._attrs,\n            context = _self$_attrs.context,\n            canvas = _self$_attrs.canvas,\n            aria = _self$_attrs.aria;\n        var _item$_attrs = item._attrs,\n            isGroup = _item$_attrs.isGroup,\n            type = _item$_attrs.type;\n        item._attrs.parent = self;\n        item._attrs.context = context;\n        item._attrs.canvas = canvas; // 是否需要无障碍处理\n\n        if (aria && item._attrs.aria !== false) {\n          item._attrs.aria = aria;\n        }\n\n        if (type === 'text' && canvas && canvas.get('fontFamily')) {\n          item._attrs.attrs.fontFamily = item._attrs.attrs.fontFamily || canvas.get('fontFamily');\n        }\n\n        var clip = item._attrs.attrs.clip;\n\n        if (clip) {\n          clip._attrs.parent = self;\n          clip._attrs.context = context;\n          clip._attrs.canvas = canvas;\n        }\n\n        if (isGroup) {\n          var children = item._attrs.children;\n\n          for (var i = 0, len = children.length; i < len; i++) {\n            item._setEvn(children[i]);\n          }\n        }\n      },\n      _getAriaLabel: function _getAriaLabel() {\n        var _this$_attrs = this._attrs,\n            aria = _this$_attrs.aria,\n            ariaLabel = _this$_attrs.ariaLabel,\n            children = _this$_attrs.children; // 主动关闭\n\n        if (!aria) return;\n        var childAriaLabels = [];\n\n        if (children && children.length) {\n          for (var i = 0, len = children.length; i < len; i++) {\n            var _childAriaLabel = children[i].getAriaLabel();\n\n            if (_childAriaLabel) {\n              childAriaLabels.push(_childAriaLabel);\n            }\n          }\n        }\n\n        var childAriaLabel = childAriaLabels.join(' '); // 2个都有时拼接成完整句子\n\n        if (ariaLabel && childAriaLabel) {\n          return ariaLabel + \" \" + childAriaLabel + \" \";\n        } // 只有1个，或者都没有\n\n\n        return ariaLabel || childAriaLabel;\n      }\n    };\n\n    var Group = /*#__PURE__*/function (_Rect) {\n      _inheritsLoose(Group, _Rect);\n\n      function Group() {\n        return _Rect.apply(this, arguments) || this;\n      }\n\n      var _proto = Group.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          type: 'group',\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isGroup: true,\n          canFill: true,\n          canStroke: true,\n          attrs: {},\n          children: []\n        };\n      };\n\n      _proto.getBBox = function getBBox() {\n        var self = this;\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var children = self.get('children');\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n\n          if (child.get('visible')) {\n            var box = child.getBBox();\n\n            if (!box) {\n              continue;\n            }\n\n            var leftTop = [box.minX, box.minY];\n            var leftBottom = [box.minX, box.maxY];\n            var rightTop = [box.maxX, box.minY];\n            var rightBottom = [box.maxX, box.maxY];\n            var matrix = child.attr('matrix');\n            Vector2.transformMat2d(leftTop, leftTop, matrix);\n            Vector2.transformMat2d(leftBottom, leftBottom, matrix);\n            Vector2.transformMat2d(rightTop, rightTop, matrix);\n            Vector2.transformMat2d(rightBottom, rightBottom, matrix);\n            minX = Math.min(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], minX);\n            maxX = Math.max(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], maxX);\n            minY = Math.min(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], minY);\n            maxY = Math.max(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], maxY);\n          }\n        }\n\n        return {\n          minX: minX,\n          minY: minY,\n          maxX: maxX,\n          maxY: maxY,\n          x: minX,\n          y: minY,\n          width: maxX - minX,\n          height: maxY - minY\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs'); // 只有在有fillStyle或strokeStyle 时才需要绘制\n\n        if (!attrs.fillStyle && !attrs.strokeStyle) {\n          return;\n        }\n\n        _Rect.prototype.createPath.call(this, context);\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        _Rect.prototype.drawInner.call(this, context);\n\n        this.drawChildren(context);\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        this.clear();\n\n        _Rect.prototype.destroy.call(this);\n      };\n\n      return Group;\n    }(Rect);\n\n    mix(Group.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    var requestAnimationFrame = typeof window === 'object' && window.requestAnimationFrame ? window.requestAnimationFrame : function (fn) {\n      return setTimeout(fn, 16);\n    };\n\n    var Canvas = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(Canvas, _EventEmit);\n\n      var _proto = Canvas.prototype;\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      function Canvas(cfg) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        var title = cfg.title;\n        var ariaLabel = title ? substitute(lang.general.withTitle, {\n          title: title\n        }) : lang.general.title;\n        _this._attrs = mix({\n          type: 'canvas',\n          children: [],\n          ariaLabel: ariaLabel\n        }, cfg);\n\n        _this._initPixelRatio();\n\n        _this._initCanvas();\n\n        return _this;\n      }\n\n      _proto._initPixelRatio = function _initPixelRatio() {\n        var pixelRatio = this.get('pixelRatio');\n\n        if (!pixelRatio) {\n          this.set('pixelRatio', getPixelRatio());\n        }\n      };\n\n      _proto.beforeDraw = function beforeDraw() {\n        var context = this._attrs.context;\n        var el = this._attrs.el;\n        context && context.clearRect && context.clearRect(0, 0, el.width, el.height);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n        var el = self.get('el');\n        var context = self.get('context');\n\n        if (!el && !context) {\n          throw new Error('Please specify the id, el or context of the chart!');\n        }\n\n        var canvas;\n\n        if (el) {\n          // DOMElement or String\n          canvas = isString(el) ? getDomById(el) : el;\n        } else {\n          // 说明没有指定el\n          canvas = CanvasElement$1.create(context);\n        }\n\n        if (context && canvas && !canvas.getContext) {\n          canvas.getContext = function () {\n            return context;\n          };\n        }\n\n        var width = self.get('width');\n\n        if (!width) {\n          width = getWidth(canvas);\n        }\n\n        var height = self.get('height');\n\n        if (!height) {\n          height = getHeight(canvas);\n        }\n\n        self.set('canvas', this);\n        self.set('el', canvas);\n        self.set('context', context || canvas.getContext('2d'));\n        self.changeSize(width, height); // 初始化事件控制器\n\n        var eventController = new EventController({\n          canvas: this,\n          el: canvas\n        });\n        self.set('eventController', eventController);\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        var pixelRatio = this.get('pixelRatio');\n        var canvasDOM = this.get('el'); // HTMLCanvasElement or canvasElement\n        // 浏览器环境设置style样式\n\n        if (canvasDOM.style) {\n          canvasDOM.style.width = width + 'px';\n          canvasDOM.style.height = height + 'px';\n        }\n\n        if (isCanvasElement(canvasDOM)) {\n          canvasDOM.width = width * pixelRatio;\n          canvasDOM.height = height * pixelRatio;\n\n          if (pixelRatio !== 1) {\n            var ctx = this.get('context');\n            ctx.scale(pixelRatio, pixelRatio);\n          }\n        }\n\n        this.set('width', width);\n        this.set('height', height);\n      };\n\n      _proto.getWidth = function getWidth() {\n        var pixelRatio = this.get('pixelRatio');\n        var width = this.get('width');\n        return width * pixelRatio;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var pixelRatio = this.get('pixelRatio');\n        var height = this.get('height');\n        return height * pixelRatio;\n      };\n\n      _proto.getPointByClient = function getPointByClient(clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        var width = bbox.right - bbox.left;\n        var height = bbox.bottom - bbox.top;\n        return {\n          x: (clientX - bbox.left) * (el.width / width),\n          y: (clientY - bbox.top) * (el.height / height)\n        };\n      };\n\n      _proto._beginDraw = function _beginDraw() {\n        this._attrs.toDraw = true;\n      };\n\n      _proto._endDraw = function _endDraw() {\n        this._attrs.toDraw = false;\n      };\n\n      _proto.draw = function draw() {\n        var self = this;\n\n        function drawInner() {\n          self.set('animateHandler', requestAnimationFrame(function () {\n            self.set('animateHandler', undefined);\n\n            if (self.get('toDraw')) {\n              drawInner();\n            }\n          }));\n          self.beforeDraw();\n\n          try {\n            var context = self._attrs.context;\n            self.drawChildren(context); // 支付宝，微信小程序，需要调context.draw才能完成绘制， 所以这里直接判断是否有.draw方法\n\n            if (context.draw) {\n              context.draw();\n            } // 设置无障碍文本\n\n\n            self.setAriaLabel();\n          } catch (ev) {\n            console.warn('error in draw canvas, detail as:');\n            console.warn(ev);\n\n            self._endDraw();\n          }\n\n          self._endDraw();\n        }\n\n        if (self.get('destroyed')) {\n          return;\n        }\n\n        if (self.get('animateHandler')) {\n          this._beginDraw();\n        } else {\n          drawInner();\n        }\n      } // 设置无障碍文本\n      ;\n\n      _proto.setAriaLabel = function setAriaLabel() {\n        var el = this._attrs.el;\n\n        var ariaLabel = this._getAriaLabel();\n\n        if (ariaLabel && el.setAttribute) {\n          el.setAttribute('aria-label', ariaLabel);\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        } // 需要清理 canvas 画布内容，否则会导致 spa 应用 ios 下 canvas 白屏\n        // https://stackoverflow.com/questions/52532614/total-canvas-memory-use-exceeds-the-maximum-limit-safari-12\n        // https://github.com/antvis/F2/issues/630\n\n\n        var el = this.get('el');\n        el.width = 0;\n        el.height = 0;\n        this.clear();\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Canvas;\n    }(EventEmit);\n\n    mix(Canvas.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    var engines = {};\n\n    function registerEngine(name, engine) {\n      engines[name] = engine;\n    }\n\n    function getEngine(name) {\n      var G = engines[name];\n\n      if (G) {\n        return G;\n      }\n\n      return {\n        Canvas: Canvas,\n        Group: Group,\n        Shape: Shape$2\n      };\n    }\n\n    function createCanvas(cfg) {\n      var renderer = cfg.renderer;\n      var G = getEngine(renderer);\n      return new G.Canvas(cfg);\n    }\n\n    var G = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        registerEngine: registerEngine,\n        getEngine: getEngine,\n        createCanvas: createCanvas,\n        Canvas: Canvas,\n        Group: Group,\n        Shape: Shape$2,\n        Matrix: Matrix,\n        Vector2: Vector2\n    });\n\n    function getClip(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      var width = end.x - start.x;\n      var height = Math.abs(end.y - start.y);\n      var margin = 10;\n      var clip;\n\n      if (coord.isPolar) {\n        var circleRadius = coord.circleRadius,\n            center = coord.center,\n            startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        clip = new Shape$2.Sector({\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: circleRadius,\n            r0: 0,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }\n        });\n      } else {\n        clip = new Shape$2.Rect({\n          attrs: {\n            x: start.x,\n            y: end.y - margin,\n            width: width,\n            height: height + 2 * margin\n          }\n        });\n      }\n\n      clip.isClip = true;\n      return clip;\n    }\n\n    function isPointInPlot(point, plot) {\n      var x = point.x,\n          y = point.y;\n      var tl = plot.tl,\n          tr = plot.tr,\n          br = plot.br;\n      return x >= tl.x && x <= tr.x && y >= tl.y && y <= br.y;\n    }\n\n    var Helper = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getClip: getClip,\n        isPointInPlot: isPointInPlot\n    });\n\n    function compare(a, b) {\n      return a - b;\n    }\n\n    function _isScaleExist(scales, compareScale) {\n      var flag = false;\n      each(scales, function (scale) {\n        var scaleValues = [].concat(scale.values);\n        var compareScaleValues = [].concat(compareScale.values);\n\n        if (scale.type === compareScale.type && scale.field === compareScale.field && scaleValues.sort(compare).toString() === compareScaleValues.sort(compare).toString()) {\n          flag = true;\n          return;\n        }\n      });\n      return flag;\n    }\n\n    var Chart = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Chart, _Base);\n\n      Chart.initPlugins = function initPlugins() {\n        return {\n          _plugins: [],\n          _cacheId: 0,\n          register: function register(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              if (p.indexOf(plugin) === -1) {\n                p.push(plugin);\n              }\n            });\n            this._cacheId++;\n          },\n          unregister: function unregister(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              var idx = p.indexOf(plugin);\n\n              if (idx !== -1) {\n                p.splice(idx, 1);\n              }\n            });\n            this._cacheId++;\n          },\n          clear: function clear() {\n            this._plugins = [];\n            this._cacheId++;\n          },\n          count: function count() {\n            return this._plugins.length;\n          },\n          getAll: function getAll() {\n            return this._plugins;\n          },\n          notify: function notify(chart, hook, args) {\n            var descriptors = this.descriptors(chart);\n            var ilen = descriptors.length;\n            var i;\n            var descriptor;\n            var plugin;\n            var params;\n            var method;\n\n            for (i = 0; i < ilen; ++i) {\n              descriptor = descriptors[i];\n              plugin = descriptor.plugin;\n              method = plugin[hook];\n\n              if (typeof method === 'function') {\n                params = [chart].concat(args || []);\n\n                if (method.apply(plugin, params) === false) {\n                  return false;\n                }\n              }\n            }\n\n            return true;\n          },\n          descriptors: function descriptors(chart) {\n            var cache = chart._plugins || (chart._plugins = {});\n\n            if (cache.id === this._cacheId) {\n              return cache.descriptors;\n            }\n\n            var plugins = [];\n            var descriptors = [];\n\n            this._plugins.concat(chart && chart.get('plugins') || []).forEach(function (plugin) {\n              var idx = plugins.indexOf(plugin);\n\n              if (idx !== -1) {\n                return;\n              }\n\n              plugins.push(plugin);\n              descriptors.push({\n                plugin: plugin\n              });\n            });\n\n            cache.descriptors = descriptors;\n            cache.id = this._cacheId;\n            return descriptors;\n          }\n        };\n      };\n\n      var _proto = Chart.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * the id of canvas\n           * @type {String}\n           */\n          id: null,\n\n          /** 图表渲染引擎 */\n          renderer: 'canvas',\n          rendered: false,\n\n          /**\n           * padding\n           * @type {Array|Number}\n           */\n          padding: Global.padding,\n\n          /**\n           * data\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * scales of chart\n           * @type {Object}\n           */\n          scales: {},\n\n          /**\n           * @private\n           * geometry instances\n           * @type {Array}\n           */\n          geoms: [],\n\n          /**\n           * scale configuration\n           * @type {Object}\n           */\n          colDefs: null,\n          pixelRatio: Global.pixelRatio,\n\n          /**\n           * filter options\n           * @type {Object}\n           */\n          filters: null,\n          appendPadding: Global.appendPadding\n        };\n      };\n\n      _proto._syncYScales = function _syncYScales() {\n        var syncY = this.get('syncY');\n\n        if (!syncY) {\n          return;\n        }\n\n        var geoms = this.get('geoms');\n        var syncScales = [];\n        var min = [];\n        var max = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (yScale.isLinear) {\n            syncScales.push(yScale);\n            min.push(yScale.min);\n            max.push(yScale.max);\n          }\n        });\n        min = Math.min.apply(null, min);\n        max = Math.max.apply(null, max);\n        each(syncScales, function (scale) {\n          scale.change({\n            min: min\n          });\n          scale.change({\n            max: max\n          });\n        });\n      };\n\n      _proto._getFieldsForLegend = function _getFieldsForLegend() {\n        var fields = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var attrOptions = geom.get('attrOptions');\n          var attrCfg = attrOptions.color;\n\n          if (attrCfg && attrCfg.field && isString(attrCfg.field)) {\n            var arr = attrCfg.field.split('*');\n            each(arr, function (item) {\n              if (fields.indexOf(item) === -1) {\n                fields.push(item);\n              }\n            });\n          }\n        });\n        return fields;\n      };\n\n      _proto._getScaleData = function _getScaleData(field) {\n        var data = this.get('data');\n        var filteredData = this.get('filteredData');\n\n        if (filteredData.length) {\n          var legendFields = this._getFieldsForLegend();\n\n          if (legendFields.indexOf(field) === -1) {\n            data = filteredData;\n          }\n        }\n\n        return data;\n      } // _updateScales() {\n      //   const scaleController = this.get('scaleController');\n      //   scaleController.updateScales();\n      //   this._adjustScale();\n      // }\n      ;\n\n      _proto._adjustScale = function _adjustScale() {\n        var self = this;\n        var scaleController = self.get('scaleController'); // 看起来是为了让柱状图最小或最大都默认从0开始\n\n        var geoms = this.get('geoms');\n\n        for (var i = 0; i < geoms.length; i++) {\n          var geom = geoms[i];\n\n          if (geom.get('type') === 'interval') {\n            var yScale = geom.getYScale();\n            scaleController.adjustStartZero(yScale);\n          }\n        }\n      };\n\n      _proto._removeGeoms = function _removeGeoms() {\n        var geoms = this.get('geoms');\n\n        while (geoms.length > 0) {\n          var geom = geoms.shift();\n          geom.destroy();\n        }\n      };\n\n      _proto._clearGeoms = function _clearGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.clear();\n        }\n      };\n\n      _proto._clearInner = function _clearInner() {\n        this._clearGeoms();\n\n        Chart.plugins.notify(this, 'clearInner');\n        this.emit(EVENT_CLEAR_INNER);\n        this.get('axisController') && this.get('axisController').clear();\n      };\n\n      _proto._initFilteredData = function _initFilteredData() {\n        var filters = this.get('filters');\n        var data = this.get('data') || [];\n\n        if (filters) {\n          data = data.filter(function (obj) {\n            var rst = true;\n            each(filters, function (fn, k) {\n              if (fn) {\n                rst = fn(obj[k], obj);\n\n                if (!rst) {\n                  return false;\n                }\n              }\n            });\n            return rst;\n          });\n        }\n\n        this.set('filteredData', data);\n      };\n\n      _proto._changeGeomsData = function _changeGeomsData() {\n        var geoms = this.get('geoms');\n        var data = this.get('filteredData');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.changeData(data);\n        }\n      };\n\n      _proto._initGeom = function _initGeom(geom) {\n        if (geom.get('isInit')) {\n          return;\n        }\n\n        var coord = this.get('coord');\n        var data = this.get('filteredData');\n        var colDefs = this.get('colDefs');\n        var middlePlot = this.get('middlePlot');\n        geom.set('chart', this);\n        geom.set('container', middlePlot.addGroup());\n        geom.set('data', data);\n        geom.set('coord', coord);\n        geom.set('colDefs', colDefs);\n        geom.init();\n        this.emit(EVENT_AFTER_GEOM_INIT, geom);\n      };\n\n      _proto._initGeoms = function _initGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          this._initGeom(geoms[i]);\n        }\n      };\n\n      _proto._initCoord = function _initCoord() {\n        var plot = this.get('plotRange');\n        var coordCfg = mix({\n          type: 'cartesian'\n        }, this.get('coordCfg'), {\n          plot: plot\n        });\n        var type = coordCfg.type;\n        var C = Base$1[upperFirst(type)];\n        var coord = new C(coordCfg);\n        this.set('coord', coord);\n      };\n\n      _proto._initLayout = function _initLayout() {\n        var padding = this.get('_padding');\n\n        if (!padding) {\n          padding = this.get('margin') || this.get('padding');\n          padding = parsePadding(padding);\n        }\n\n        var top = padding[0] === 'auto' ? 0 : padding[0];\n        var right = padding[1] === 'auto' ? 0 : padding[1];\n        var bottom = padding[2] === 'auto' ? 0 : padding[2];\n        var left = padding[3] === 'auto' ? 0 : padding[3];\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: left,\n          y: top\n        };\n        var end = {\n          x: width - right,\n          y: height - bottom\n        };\n        var plot = this.get('plot');\n\n        if (plot) {\n          plot.reset(start, end);\n          return;\n        }\n\n        var newPlot = new Plot({\n          start: start,\n          end: end\n        });\n        this.set('plotRange', newPlot);\n        this.set('plot', newPlot);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n\n        try {\n          var canvas = createCanvas({\n            renderer: self.get('renderer'),\n            el: self.get('el') || self.get('id'),\n            context: self.get('context'),\n            pixelRatio: self.get('pixelRatio'),\n            width: self.get('width'),\n            height: self.get('height'),\n            fontFamily: Global.fontFamily,\n            aria: self.get('aria'),\n            title: self.get('title'),\n            landscape: self.get('landscape')\n          });\n          self.set('canvas', canvas);\n          self.set('el', canvas.get('el'));\n          self.set('width', canvas.get('width'));\n          self.set('height', canvas.get('height'));\n        } catch (error) {\n          throw error;\n        }\n\n        Chart.plugins.notify(self, 'afterCanvasInit');\n      };\n\n      _proto._initLayers = function _initLayers() {\n        var canvas = this.get('canvas');\n        this.set('backPlot', canvas.addGroup());\n        this.set('middlePlot', canvas.addGroup({\n          zIndex: 10\n        }));\n        this.set('frontPlot', canvas.addGroup({\n          zIndex: 20\n        }));\n      };\n\n      _proto._initEvents = function _initEvents() {\n        var _this2 = this;\n\n        // 数据更新后的一些更新\n        this.on(EVENT_AFTER_DATA_CHANGE, function () {\n          // 数据更新后，重新设置filterdata\n          _this2._initFilteredData(); // 更新geoms里的数据\n\n\n          _this2._changeGeomsData();\n        }); // 大小变化后的一些更新\n\n        this.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this2._initLayout(); // layout变化后，坐标轴也需要做相应的变化\n\n\n          var coord = _this2.get('coord');\n\n          if (coord) {\n            coord.reset(_this2.get('plot'));\n          }\n        });\n      };\n\n      _proto._initScaleController = function _initScaleController() {\n        var scaleController = new ScaleController({\n          chart: this\n        }); // 让colDefs 和 scaleController.defs 用同一个对象，这样就不用考虑同步的问题\n\n        this.set('colDefs', scaleController.defs); // 已经实例化的scales 也保持统一个对象\n\n        this.set('scales', scaleController.scales);\n        this.set('scaleController', scaleController);\n      };\n\n      _proto._clearScaleController = function _clearScaleController() {\n        var scaleController = this.get('scaleController');\n        scaleController.clear();\n      };\n\n      _proto._init = function _init() {\n        var self = this;\n\n        self._initCanvas();\n\n        self._initLayout();\n\n        self._initLayers();\n\n        self._initEvents();\n\n        self._initScaleController();\n\n        self.set('axisController', new AxisController({\n          frontPlot: self.get('frontPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          backPlot: self.get('backPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          chart: self\n        }));\n        Chart.plugins.notify(self, 'init');\n      };\n\n      function Chart(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n\n        var self = _assertThisInitialized(_this);\n\n        each(Geom, function (geomConstructor, className) {\n          var methodName = lowerFirst(className);\n\n          self[methodName] = function (cfg) {\n            var geom = new geomConstructor(cfg);\n            self.addGeom(geom);\n            return geom;\n          };\n        });\n\n        self._init();\n\n        return _this;\n      }\n\n      _proto.init = function init() {\n        // 初始filterData\n        this._initFilteredData(); // initialization coordinate instance\n\n\n        this._initCoord();\n\n        Chart.plugins.notify(this, 'beforeGeomInit'); // init all geometry instances\n\n        this._initGeoms(); // 多 Y 轴的情况时，统一 Y 轴的数值范围。\n\n\n        this._syncYScales(); // do some adjust for data\n\n\n        this._adjustScale();\n\n        this.emit(EVENT_AFTER_INIT);\n      }\n      /**\n       * set data and some scale configuration\n       * @chainable\n       * @param  {Array} data the dataset to visualize\n       * @param  {Object} colDefs the configuration for scales\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.source = function source(data, colDefs) {\n        this.set('data', data);\n\n        if (colDefs) {\n          this.scale(colDefs);\n        }\n\n        return this;\n      };\n\n      _proto.scale = function scale(field, cfg) {\n        var scaleController = this.get('scaleController');\n        scaleController.setFieldDef(field, cfg);\n        return this;\n      }\n      /**\n       * configure the axis\n       * @chainable\n       * @param  {String|Boolean} field the field name of data\n       * @param  {Object} cfg configuration for axis\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.axis = function axis(field, cfg) {\n        var axisController = this.get('axisController');\n\n        if (!field) {\n          axisController.axisCfg = null;\n        } else {\n          axisController.axisCfg = axisController.axisCfg || {};\n          axisController.axisCfg[field] = cfg;\n        }\n\n        return this;\n      }\n      /**\n       * configure the coordinate\n       * @chainable\n       * @param  {String} type set the type of coodinate\n       * @param  {Object} cfg configuration for coordinate\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.coord = function coord(type, cfg) {\n        var coordCfg;\n\n        if (isObject(type)) {\n          coordCfg = type;\n        } else {\n          coordCfg = cfg || {};\n          coordCfg.type = type || 'cartesian';\n        }\n\n        this.set('coordCfg', coordCfg);\n        return this;\n      };\n\n      _proto.filter = function filter(field, condition) {\n        var filters = this.get('filters') || {};\n        filters[field] = condition;\n        this.set('filters', filters); // 如果已经render过，则再重新触发一次change\n\n        if (this.get('rendered')) {\n          this.emit(EVENT_AFTER_DATA_CHANGE, this.get('data'));\n        }\n      }\n      /**\n       * render the chart\n       * @chainable\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.render = function render() {\n        var rendered = this.get('rendered');\n        var canvas = this.get('canvas');\n        var geoms = this.get('geoms'); // 已经渲染过\n\n        if (rendered) {\n          this._initGeoms();\n\n          this._adjustScale();\n        } else {\n          this.init();\n          this.set('rendered', true);\n        }\n\n        this.emit(EVENT_BEFORE_RENDER);\n        Chart.plugins.notify(this, 'beforeGeomDraw');\n\n        this._renderAxis();\n\n        var middlePlot = this.get('middlePlot');\n\n        if (this.get('limitInPlot') && !middlePlot.attr('clip')) {\n          var coord = this.get('coord');\n          var clip = getClip(coord);\n          clip.set('canvas', middlePlot.get('canvas'));\n          middlePlot.attr('clip', clip);\n        }\n\n        this.emit(EVENT_BEFORE_GEOM_DRAW);\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.paint();\n        }\n\n        this.emit(EVENT_AFTER_GEOM_DRAW);\n        Chart.plugins.notify(this, 'afterGeomDraw');\n        canvas.sort();\n        this.get('frontPlot').sort();\n        Chart.plugins.notify(this, 'beforeCanvasDraw');\n        canvas.draw();\n        this.emit(EVENT_AFTER_RENDER);\n        return this;\n      }\n      /**\n       * clear the chart, include geometris and all the shapes\n       * @chainable\n       * @return {Chart} return the chart\n       */\n      ;\n\n      _proto.clear = function clear() {\n        Chart.plugins.notify(this, 'clear');\n        this.emit(EVENT_CLEAR);\n\n        this._clearInner();\n\n        this._removeGeoms();\n\n        this._clearScaleController();\n\n        this.set('legendItems', null);\n        this.set('filters', null);\n        this.set('isUpdate', false);\n        this.set('_padding', null);\n        this.set('rendered', false);\n        var canvas = this.get('canvas');\n        canvas.draw();\n        return this;\n      };\n\n      _proto.repaint = function repaint() {\n        // 如果在没有render之前就repaint的，就直接return退出\n        var rendered = this.get('rendered');\n\n        if (!rendered) {\n          return;\n        }\n\n        this.set('isUpdate', true);\n        this.set('legendItems', null);\n        Chart.plugins.notify(this, 'repaint');\n\n        this._clearInner();\n\n        this.emit(EVENT_REPAINT);\n        this.render();\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.emit(EVENT_BEFORE_DATA_CHANGE, data);\n        this.set('data', data);\n        Chart.plugins.notify(this, 'changeData');\n        this.emit(EVENT_AFTER_DATA_CHANGE, data);\n        this.set('_padding', null);\n        this.repaint();\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        if (width) {\n          this.set('width', width);\n        } else {\n          width = this.get('width');\n        }\n\n        if (height) {\n          this.set('height', height);\n        } else {\n          height = this.get('height');\n        }\n\n        var canvas = this.get('canvas');\n        canvas.changeSize(width, height);\n        this.emit(EVENT_AFTER_SIZE_CHANGE, {\n          width: width,\n          height: height\n        });\n        this.repaint();\n        return this;\n      };\n\n      _proto.destroy = function destroy() {\n        this.clear();\n        var canvas = this.get('canvas');\n        canvas.destroy();\n        Chart.plugins.notify(this, 'afterCanvasDestroyed');\n\n        if (this._interactions) {\n          each(this._interactions, function (interaction) {\n            interaction.destroy();\n          });\n        }\n\n        _Base.prototype.destroy.call(this);\n      }\n      /**\n       * calculate dataset's position on canvas\n       * @param  {Object} record the dataset\n       * @return {Object} return the position\n       */\n      ;\n\n      _proto.getPosition = function getPosition(record) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var xField = xScale.field;\n        var yScales = self.getYScales(); // default first\n\n        var yScale = yScales[0];\n        var yField = yScale.field;\n\n        for (var i = 0, len = yScales.length; i < len; i++) {\n          var scale = yScales[i];\n          var field = scale.field;\n\n          if (record[field]) {\n            yScale = scale;\n            yField = field;\n            break;\n          }\n        }\n\n        var x = xScale.scale(record[xField]);\n        var y = yScale.scale(record[yField]);\n        return coord.convertPoint({\n          x: x,\n          y: y\n        });\n      }\n      /**\n       * get the data item of the point\n       * @param  {Object} point canvas position\n       * @return {Object} return the data item\n       */\n      ;\n\n      _proto.getRecord = function getRecord(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScales()[0];\n        var invertPoint = coord.invertPoint(point);\n        var record = {};\n        record[xScale.field] = xScale.invert(invertPoint.x);\n        record[yScale.field] = yScale.invert(invertPoint.y);\n        return record;\n      }\n      /**\n       * get the dataset of the point\n       * @param  {Object} point canvas position\n       * @return {Array} return the dataset\n      **/\n      ;\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var geom = this.get('geoms')[0];\n        var data = [];\n\n        if (geom) {\n          // need to judge\n          data = geom.getSnapRecords(point);\n        }\n\n        return data;\n      }\n      /**\n       * creat scale instances\n       * @param  {String} field field name of data\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.createScale = function createScale(field) {\n        var data = this._getScaleData(field);\n\n        var scaleController = this.get('scaleController');\n        return scaleController.createScale(field, data);\n      }\n      /**\n       * @protected\n       * add geometry instance to geoms\n       * @param {Geom} geom geometry instance\n       */\n      ;\n\n      _proto.addGeom = function addGeom(geom) {\n        var geoms = this.get('geoms');\n        geoms.push(geom);\n      }\n      /**\n       * get the scale of x axis\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.getXScale = function getXScale() {\n        var self = this;\n        var geoms = self.get('geoms');\n        var xScale = geoms[0].getXScale();\n        return xScale;\n      }\n      /**\n       * get the scale of y axis\n       * @return {Array} return the scale\n       */\n      ;\n\n      _proto.getYScales = function getYScales() {\n        var geoms = this.get('geoms');\n        var rst = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (rst.indexOf(yScale) === -1) {\n            rst.push(yScale);\n          }\n        });\n        return rst;\n      };\n\n      _proto.getLegendItems = function getLegendItems() {\n        if (this.get('legendItems')) {\n          return this.get('legendItems');\n        }\n\n        var legendItems = {};\n        var scales = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var colorAttr = geom.getAttr('color');\n\n          if (colorAttr) {\n            var scale = colorAttr.getScale('color'); // 只支持分类图例\n\n            if (scale.isCategory && !_isScaleExist(scales, scale)) {\n              scales.push(scale);\n              var field = scale.field;\n              var ticks = scale.getTicks();\n              var items = [];\n              each(ticks, function (tick) {\n                var text = tick.text;\n                var name = text;\n                var scaleValue = tick.value;\n                var value = scale.invert(scaleValue);\n                var color = colorAttr.mapping(value).join('') || Global.defaultColor;\n                var marker = {\n                  fill: color,\n                  radius: 3,\n                  symbol: 'circle',\n                  stroke: '#fff'\n                };\n                items.push({\n                  name: name,\n                  // for display\n                  dataValue: value,\n                  // the origin value\n                  checked: true,\n                  marker: marker\n                });\n              });\n              legendItems[field] = items;\n            }\n          }\n        });\n        this.set('legendItems', legendItems);\n        return legendItems;\n      } // register the plugins\n      ;\n\n      _proto.registerPlugins = function registerPlugins(plugins) {\n        var self = this;\n        var chartPlugins = self.get('plugins') || [];\n\n        if (!isArray(chartPlugins)) {\n          chartPlugins = [chartPlugins];\n        }\n\n        [].concat(plugins).forEach(function (plugin) {\n          if (chartPlugins.indexOf(plugin) === -1) {\n            plugin.init && plugin.init(self); // init\n\n            chartPlugins.push(plugin);\n          }\n        });\n        Chart.plugins._cacheId++;\n        self.set('plugins', chartPlugins);\n      };\n\n      _proto._renderAxis = function _renderAxis() {\n        var axisController = this.get('axisController');\n        var xScale = this.getXScale();\n        var yScales = this.getYScales();\n        var coord = this.get('coord');\n        Chart.plugins.notify(this, 'beforeRenderAxis');\n        axisController.createAxis(coord, xScale, yScales);\n      };\n\n      _proto._isAutoPadding = function _isAutoPadding() {\n        if (this.get('_padding')) {\n          return false;\n        }\n\n        var padding = this.get('padding');\n\n        if (isArray(padding)) {\n          return padding.indexOf('auto') !== -1;\n        }\n\n        return padding === 'auto';\n      };\n\n      _proto._updateLayout = function _updateLayout(padding) {\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: padding[3],\n          y: padding[0]\n        };\n        var end = {\n          x: width - padding[1],\n          y: height - padding[2]\n        };\n        var plot = this.get('plot');\n        var coord = this.get('coord');\n        plot.reset(start, end);\n        coord.reset(plot);\n      }\n      /**\n       * 是否为横屏展示\n       *\n       * @param {Boolean} landscape 是否为横屏\n       */\n      ;\n\n      _proto.landscape = function landscape(_landscape) {\n        var canvas = this.get('canvas');\n        canvas.set('landscape', _landscape);\n      };\n\n      return Chart;\n    }(Base);\n\n    Chart.plugins = Chart.initPlugins();\n\n    var track = function track() {\n      return null;\n    };\n\n    /**\n     * @fileOverview shape util\n     * @author dxq613@gmail.com\n     */\n\n    function splitPoints(obj) {\n      var points = [];\n      var x = obj.x;\n      var y = obj.y;\n      y = isArray(y) ? y : [y];\n      y.forEach(function (yItem, index) {\n        var point = {\n          x: isArray(x) ? x[index] : x,\n          y: yItem\n        };\n        points.push(point);\n      });\n      return points;\n    }\n\n    function splitArray(data, yField, connectNulls) {\n      if (!data.length) return [];\n      var arr = [];\n      var tmp = [];\n      var yValue;\n      each(data, function (obj) {\n        yValue = obj._origin ? obj._origin[yField] : obj[yField];\n\n        if (connectNulls) {\n          if (!isNil(yValue)) {\n            tmp.push(obj);\n          }\n        } else {\n          if (isArray(yValue) && isNil(yValue[0]) || isNil(yValue)) {\n            if (tmp.length) {\n              arr.push(tmp);\n              tmp = [];\n            }\n          } else {\n            tmp.push(obj);\n          }\n        }\n      });\n\n      if (tmp.length) {\n        arr.push(tmp);\n      }\n\n      return arr;\n    }\n\n    var SHAPES = ['circle', 'hollowCircle', 'rect'];\n    var Point = Shape$1.registerFactory('point', {\n      defaultShapeType: 'circle',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        return splitPoints(pointInfo);\n      }\n    });\n\n    function getPointsCfg(cfg) {\n      var style = {\n        lineWidth: 0,\n        stroke: cfg.color,\n        fill: cfg.color\n      };\n\n      if (cfg.size) {\n        style.size = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.point, style);\n    }\n\n    function drawShape(cfg, container, shape) {\n      if (cfg.size === 0) return;\n      var pointCfg = getPointsCfg(cfg);\n      var size = pointCfg.r || pointCfg.size;\n      var x = cfg.x;\n      var y = !isArray(cfg.y) ? [cfg.y] : cfg.y;\n\n      if (shape === 'hollowCircle') {\n        pointCfg.lineWidth = 1;\n        pointCfg.fill = null;\n      }\n\n      for (var i = 0, len = y.length; i < len; i++) {\n        if (shape === 'rect') {\n          return container.addShape('Rect', {\n            className: 'point',\n            attrs: mix({\n              x: x - size,\n              y: y[i] - size,\n              width: size * 2,\n              height: size * 2\n            }, pointCfg)\n          });\n        }\n\n        return container.addShape('Circle', {\n          className: 'point',\n          attrs: mix({\n            x: x,\n            y: y[i],\n            r: size\n          }, pointCfg)\n        });\n      }\n    }\n\n    each(SHAPES, function (shapeType) {\n      Shape$1.registerShape('point', shapeType, {\n        draw: function draw(cfg, container) {\n          return drawShape(cfg, container, shapeType);\n        }\n      });\n    });\n\n    var Point$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Point, _Geom);\n\n      function Point() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'point';\n        cfg.shapeType = 'point';\n        cfg.generatePoints = false;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        each(data, function (obj) {\n          var shape = obj.shape;\n          var cfg = self.getDrawCfg(obj);\n\n          if (isArray(obj.y)) {\n            var hasStack = self.hasAdjust('stack');\n            each(obj.y, function (y, idx) {\n              cfg.y = y;\n\n              if (!hasStack || idx !== 0) {\n                self.drawShape(shape, obj, cfg, container, shapeFactory);\n              }\n            });\n          } else if (!isNil(obj.y)) {\n            self.drawShape(shape, obj, cfg, container, shapeFactory);\n          }\n        });\n      };\n\n      return Point;\n    }(Geom);\n\n    Geom.Point = Point$1;\n\n    var Line$2 = Shape$1.registerFactory('line', {\n      defaultShapeType: 'line'\n    });\n\n    function getStyle$1(cfg) {\n      var style = {\n        strokeStyle: cfg.color\n      };\n\n      if (cfg.size >= 0) {\n        style.lineWidth = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.line, style);\n    }\n\n    function drawLines(cfg, container, style, smooth) {\n      var points = cfg.points;\n\n      if (points.length && isArray(points[0].y)) {\n        var topPoints = [];\n        var bottomPoints = [];\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n          var tmp = splitPoints(point);\n          bottomPoints.push(tmp[0]);\n          topPoints.push(tmp[1]);\n        }\n\n        if (cfg.isInCircle) {\n          topPoints.push(topPoints[0]);\n          bottomPoints.push(bottomPoints[0]);\n        }\n\n        if (cfg.isStack) {\n          return container.addShape('Polyline', {\n            className: 'line',\n            attrs: mix({\n              points: topPoints,\n              smooth: smooth\n            }, style)\n          });\n        }\n\n        var topShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: topPoints,\n            smooth: smooth\n          }, style)\n        });\n        var bottomShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: bottomPoints,\n            smooth: smooth\n          }, style)\n        });\n        return [topShape, bottomShape];\n      }\n\n      if (cfg.isInCircle) {\n        points.push(points[0]);\n      }\n\n      return container.addShape('Polyline', {\n        className: 'line',\n        attrs: mix({\n          points: points,\n          smooth: smooth\n        }, style)\n      });\n    }\n\n    var SHAPES$1 = ['line', 'smooth', 'dash'];\n    each(SHAPES$1, function (shapeType) {\n      Shape$1.registerShape('line', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          var style = getStyle$1(cfg);\n\n          if (shapeType === 'dash') {\n            style.lineDash = Global.lineDash;\n          }\n\n          return drawLines(cfg, container, style, smooth);\n        }\n      });\n    });\n\n    var Path = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Path, _Geom);\n\n      function Path() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Path.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'path';\n        cfg.shapeType = 'line';\n        return cfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var cfg = _Geom.prototype.getDrawCfg.call(this, obj);\n\n        cfg.isStack = this.hasAdjust('stack');\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayObj = splitArray(data, yScale.field, connectNulls);\n        var cfg = this.getDrawCfg(data[0]);\n        cfg.origin = data;\n        each(splitArrayObj, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          cfg.points = subData;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Path;\n    }(Geom);\n\n    Geom.Path = Path;\n\n    var Line$3 = /*#__PURE__*/function (_Path) {\n      _inheritsLoose(Line, _Path);\n\n      function Line() {\n        return _Path.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Path.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'line';\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      return Line;\n    }(Path);\n\n    Geom.Line = Line$3;\n\n    function equals(v1, v2) {\n      return Math.abs(v1 - v2) < 0.00001;\n    }\n\n    function notEmpty(value) {\n      return !isNaN(value) && !isNil(value);\n    }\n\n    function filterPoints(points) {\n      var filteredPoints = []; // filter the point which x or y is NaN\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (notEmpty(point.x) && notEmpty(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    function equalsCenter(points, center) {\n      var eqls = true;\n      each(points, function (point) {\n        if (!equals(point.x, center.x) || !equals(point.y, center.y)) {\n          eqls = false;\n          return false;\n        }\n      });\n      return eqls;\n    }\n\n    function drawRectShape(topPoints, bottomPoints, container, style, isSmooth) {\n      var shape;\n      var points = topPoints.concat(bottomPoints);\n\n      if (isSmooth) {\n        shape = container.addShape('Custom', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style),\n          createPath: function createPath(context) {\n            var constaint = [[0, 0], [1, 1]];\n            var points = filterPoints(this._attrs.attrs.points);\n            var pointsLen = points.length;\n            var topPoints = points.slice(0, pointsLen / 2);\n            var bottomPoints = points.slice(pointsLen / 2, pointsLen);\n            var topSps = catmullRom2bezier(topPoints, false, constaint);\n            context.beginPath();\n            context.moveTo(topPoints[0].x, topPoints[0].y);\n\n            for (var i = 0, n = topSps.length; i < n; i++) {\n              var sp = topSps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n\n            if (bottomPoints.length) {\n              var bottomSps = catmullRom2bezier(bottomPoints, false, constaint);\n              context.lineTo(bottomPoints[0].x, bottomPoints[0].y);\n\n              for (var _i = 0, _n = bottomSps.length; _i < _n; _i++) {\n                var _sp = bottomSps[_i];\n                context.bezierCurveTo(_sp[1], _sp[2], _sp[3], _sp[4], _sp[5], _sp[6]);\n              }\n            }\n\n            context.closePath();\n          },\n          calculateBox: function calculateBox() {\n            var points = filterPoints(this._attrs.attrs.points);\n            return getBBoxFromPoints(points);\n          }\n        });\n      } else {\n        shape = container.addShape('Polyline', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style)\n        });\n      }\n\n      return shape;\n    }\n\n    function drawShape$1(cfg, container, isSmooth) {\n      var self = this;\n      var points = cfg.points;\n      var topPoints = [];\n      var bottomPoints = [];\n      each(points, function (point) {\n        bottomPoints.push(point[0]);\n        topPoints.push(point[1]);\n      });\n      var style = mix({\n        fillStyle: cfg.color\n      }, Global.shape.area, cfg.style);\n      bottomPoints.reverse();\n      topPoints = self.parsePoints(topPoints);\n      bottomPoints = self.parsePoints(bottomPoints);\n\n      if (cfg.isInCircle) {\n        topPoints.push(topPoints[0]);\n        bottomPoints.unshift(bottomPoints[bottomPoints.length - 1]);\n\n        if (equalsCenter(bottomPoints, cfg.center)) {\n          bottomPoints = [];\n        }\n      }\n\n      return drawRectShape(topPoints, bottomPoints, container, style, isSmooth);\n    }\n\n    var Area = Shape$1.registerFactory('area', {\n      defaultShapeType: 'area',\n      getDefaultPoints: function getDefaultPoints(obj) {\n        var x = obj.x;\n        var y = obj.y;\n        var y0 = obj.y0;\n        y = isArray(y) ? y : [y0, y];\n        var points = [];\n        points.push({\n          x: x,\n          y: y[0]\n        }, {\n          x: x,\n          y: y[1]\n        });\n        return points;\n      }\n    });\n    var SHAPES$2 = ['area', 'smooth'];\n    each(SHAPES$2, function (shapeType) {\n      Shape$1.registerShape('area', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          return drawShape$1.call(this, cfg, container, smooth);\n        }\n      });\n    });\n\n    var Area$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Area, _Geom);\n\n      function Area() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Area.prototype;\n\n      /**\n       * get the default configuration\n       * @protected\n       * @return {Object} return the result\n       */\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'area';\n        cfg.shapeType = 'area';\n        cfg.generatePoints = true;\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var cfg = this.getDrawCfg(data[0]);\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayfn = splitArray(data, yScale.field, connectNulls);\n        cfg.origin = data;\n        each(splitArrayfn, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          var points = subData.map(function (obj) {\n            return obj.points;\n          });\n          cfg.points = points;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Area;\n    }(Geom);\n\n    Geom.Area = Area$1;\n\n    /**\n     * @fileOverview Utility for calculate the with ratui in x axis\n     * @author sima.zhang1990@gmail.com\n     * @author dxq613@gmail.com\n     */\n    var SizeMixin = {\n      initEvent: function initEvent() {\n        var _this = this;\n\n        var chart = this.get('chart');\n\n        if (!chart) {\n          return;\n        }\n\n        chart.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this.set('_width', null);\n        });\n      },\n      getDefaultSize: function getDefaultSize() {\n        var defaultSize = this.get('defaultSize');\n\n        if (!defaultSize) {\n          var coord = this.get('coord');\n          var xScale = this.getXScale();\n          var dataArray = this.get('dataArray');\n          var values = uniq(xScale.values);\n          var count = values.length;\n          var range = xScale.range;\n          var normalizeSize = 1 / count;\n          var widthRatio = 1;\n\n          if (coord && coord.isPolar) {\n            if (coord.transposed && count > 1) {\n              widthRatio = Global.widthRatio.multiplePie;\n            } else {\n              widthRatio = Global.widthRatio.rose;\n            }\n          } else {\n            if (xScale.isLinear) {\n              normalizeSize *= range[1] - range[0];\n            }\n\n            widthRatio = Global.widthRatio.column;\n          }\n\n          normalizeSize *= widthRatio;\n\n          if (this.hasAdjust('dodge')) {\n            normalizeSize = normalizeSize / dataArray.length;\n          }\n\n          defaultSize = normalizeSize;\n          this.set('defaultSize', defaultSize);\n        }\n\n        return defaultSize;\n      },\n      getDimWidth: function getDimWidth(dimName) {\n        var coord = this.get('coord');\n        var start = coord.convertPoint({\n          x: 0,\n          y: 0\n        });\n        var end = coord.convertPoint({\n          x: dimName === 'x' ? 1 : 0,\n          y: dimName === 'x' ? 0 : 1\n        });\n        var width = 0;\n\n        if (start && end) {\n          width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n        }\n\n        return width;\n      },\n      _getWidth: function _getWidth() {\n        var width = this.get('_width');\n\n        if (!width) {\n          var coord = this.get('coord');\n\n          if (coord && coord.isPolar && !coord.transposed) {\n            width = (coord.endAngle - coord.startAngle) * coord.circleRadius;\n          } else {\n            width = this.getDimWidth('x');\n          }\n\n          this.set('_width', width);\n        }\n\n        return width;\n      },\n      _toNormalizedSize: function _toNormalizedSize(size) {\n        var width = this._getWidth();\n\n        return size / width;\n      },\n      _toCoordSize: function _toCoordSize(normalizeSize) {\n        var width = this._getWidth();\n\n        return width * normalizeSize;\n      },\n      getNormalizedSize: function getNormalizedSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          size = this.getDefaultSize();\n        } else {\n          size = this._toNormalizedSize(size);\n        }\n\n        return size;\n      },\n      getSize: function getSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          var normalizeSize = this.getDefaultSize();\n          size = this._toCoordSize(normalizeSize);\n        }\n\n        return size;\n      }\n    };\n\n    function getRectPoints(cfg) {\n      var x = cfg.x,\n          y = cfg.y,\n          y0 = cfg.y0,\n          size = cfg.size;\n      var ymin = y0;\n      var ymax = y;\n\n      if (isArray(y)) {\n        ymax = y[1];\n        ymin = y[0];\n      }\n\n      var xmin;\n      var xmax;\n\n      if (isArray(x)) {\n        xmin = x[0];\n        xmax = x[1];\n      } else {\n        xmin = x - size / 2;\n        xmax = x + size / 2;\n      }\n\n      return [{\n        x: xmin,\n        y: ymin\n      }, {\n        x: xmin,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymin\n      }];\n    }\n\n    function getRectRange(points) {\n      var xValues = [];\n      var yValues = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        xValues.push(point.x);\n        yValues.push(point.y);\n      }\n\n      var xMin = Math.min.apply(null, xValues);\n      var yMin = Math.min.apply(null, yValues);\n      var xMax = Math.max.apply(null, xValues);\n      var yMax = Math.max.apply(null, yValues);\n      return {\n        x: xMin,\n        y: yMin,\n        width: xMax - xMin,\n        height: yMax - yMin\n      };\n    }\n\n    function getMiddlePoint(a, b) {\n      var x = (a.x - b.x) / 2 + b.x;\n      var y = (a.y - b.y) / 2 + b.y;\n      return {\n        x: x,\n        y: y\n      };\n    }\n\n    var Interval = Shape$1.registerFactory('interval', {\n      defaultShapeType: 'rect',\n      getDefaultPoints: function getDefaultPoints(cfg) {\n        return getRectPoints(cfg);\n      }\n    });\n    Shape$1.registerShape('interval', 'rect', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color\n        }, Global.shape.interval, cfg.style);\n\n        if (cfg.isInCircle) {\n          var newPoints = points.slice(0);\n\n          if (this._coord.transposed) {\n            newPoints = [points[0], points[3], points[2], points[1]];\n          }\n\n          var _cfg$center = cfg.center,\n              x = _cfg$center.x,\n              y = _cfg$center.y;\n          var v = [1, 0];\n          var v0 = [newPoints[0].x - x, newPoints[0].y - y];\n          var v1 = [newPoints[1].x - x, newPoints[1].y - y];\n          var v2 = [newPoints[2].x - x, newPoints[2].y - y];\n          var startAngle = Vector2.angleTo(v, v1);\n          var endAngle = Vector2.angleTo(v, v2);\n          var r0 = Vector2.length(v0);\n          var r = Vector2.length(v1);\n\n          if (startAngle >= 1.5 * Math.PI) {\n            startAngle = startAngle - 2 * Math.PI;\n          }\n\n          if (endAngle >= 1.5 * Math.PI) {\n            endAngle = endAngle - 2 * Math.PI;\n          }\n\n          return container.addShape('Sector', {\n            className: 'interval',\n            attrs: mix({\n              x: x,\n              y: y,\n              r: r,\n              r0: r0,\n              startAngle: startAngle,\n              endAngle: endAngle\n            }, style)\n          });\n        }\n\n        var rectCfg = getRectRange(points);\n        return container.addShape('rect', {\n          className: 'interval',\n          attrs: mix(rectCfg, style)\n        });\n      }\n    }); // 金字塔 和 漏斗图\n\n    ['pyramid', 'funnel'].forEach(function (shapeType) {\n      Shape$1.registerShape('interval', shapeType, {\n        getPoints: function getPoints(cfg) {\n          cfg.size = cfg.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n          return getRectPoints(cfg);\n        },\n        draw: function draw(cfg, container) {\n          var points = this.parsePoints(cfg.points);\n          var nextPoints = this.parsePoints(cfg.nextPoints);\n          var polygonPoints = null;\n\n          if (nextPoints) {\n            polygonPoints = [points[0], points[1], nextPoints[1], nextPoints[0]];\n          } else {\n            polygonPoints = [points[0], points[1]]; // pyramid 顶部是三角形，所以取中心点就好了，funnel顶部是长方形\n\n            if (shapeType === 'pyramid') {\n              polygonPoints.push(getMiddlePoint(points[2], points[3]));\n            } else {\n              polygonPoints.push(points[2], points[3]);\n            }\n          }\n\n          var attrs = mix({\n            fill: cfg.color,\n            points: polygonPoints\n          }, Global.shape.interval, cfg.style);\n          return container.addShape('polygon', {\n            className: 'interval',\n            attrs: attrs\n          });\n        }\n      });\n    });\n\n    var Interval$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Interval, _Geom);\n\n      var _proto = Interval.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'interval';\n        cfg.shapeType = 'interval';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Interval(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Interval;\n    }(Geom);\n\n    Geom.Interval = Interval$1;\n\n    var Polygon$1 = Shape$1.registerFactory('polygon', {\n      defaultShapeType: 'polygon',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        var points = [];\n        var x = pointInfo.x,\n            y = pointInfo.y;\n\n        for (var i = 0, len = x.length; i < len; i++) {\n          points.push({\n            x: x[i],\n            y: y[i]\n          });\n        }\n\n        return points;\n      }\n    });\n    Shape$1.registerShape('polygon', 'polygon', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color,\n          points: points\n        }, cfg.style);\n        return container.addShape('Polygon', {\n          className: 'polygon',\n          attrs: style\n        });\n      }\n    });\n\n    var Polygon$2 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Polygon, _Geom);\n\n      function Polygon() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'polygon';\n        cfg.shapeType = 'polygon';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        var self = this;\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n\n        if (!(isArray(x) && isArray(y))) {\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var xCount = xScale.values ? xScale.values.length : xScale.ticks.length;\n          var yCount = yScale.values ? yScale.values.length : yScale.ticks.length;\n          var xOffset = 0.5 * 1 / xCount;\n          var yOffset = 0.5 * 1 / yCount;\n\n          if (xScale.isCategory && yScale.isCategory) {\n            x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n            y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n          } else if (isArray(x)) {\n            temp = x;\n            x = [temp[0], temp[0], temp[1], temp[1]];\n            y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n          } else if (isArray(y)) {\n            temp = y;\n            y = [temp[0], temp[1], temp[1], temp[0]];\n            x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n          }\n\n          cfg.x = x;\n          cfg.y = y;\n        }\n\n        return cfg;\n      };\n\n      return Polygon;\n    }(Geom);\n\n    Geom.Polygon = Polygon$2;\n\n    function _sortValue(value) {\n      var sorted = value.sort(function (a, b) {\n        return a < b ? 1 : -1;\n      });\n      var length = sorted.length;\n\n      if (length < 4) {\n        var min = sorted[length - 1];\n\n        for (var i = 0; i < 4 - length; i++) {\n          sorted.push(min);\n        }\n      }\n\n      return sorted;\n    } // from left bottom corner, and clockwise\n\n\n    function getCandlePoints(x, y, width) {\n      var yValues = _sortValue(y);\n\n      var points = [{\n        x: x,\n        y: yValues[0]\n      }, {\n        x: x,\n        y: yValues[1]\n      }, {\n        x: x - width / 2,\n        y: yValues[2]\n      }, {\n        x: x - width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[3]\n      }];\n      return points;\n    }\n\n    var Schema = Shape$1.registerFactory('schema', {});\n    Shape$1.registerShape('schema', 'candle', {\n      getPoints: function getPoints(cfg) {\n        return getCandlePoints(cfg.x, cfg.y, cfg.size);\n      },\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          stroke: cfg.color,\n          fill: cfg.color,\n          lineWidth: 1\n        }, cfg.style);\n        return container.addShape('Custom', {\n          className: 'schema',\n          attrs: style,\n          createPath: function createPath(ctx) {\n            ctx.beginPath();\n            ctx.moveTo(points[0].x, points[0].y);\n            ctx.lineTo(points[1].x, points[1].y);\n            ctx.moveTo(points[2].x, points[2].y);\n\n            for (var i = 3; i < 6; i++) {\n              ctx.lineTo(points[i].x, points[i].y);\n            }\n\n            ctx.closePath();\n            ctx.moveTo(points[6].x, points[6].y);\n            ctx.lineTo(points[7].x, points[7].y);\n          }\n        });\n      }\n    });\n\n    var Schema$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Schema, _Geom);\n\n      var _proto = Schema.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'schema';\n        cfg.shapeType = 'schema';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Schema(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Schema;\n    }(Geom);\n\n    Geom.Schema = Schema$1;\n\n    var toString$3 = {}.toString;\n\n    var isType$1 = function isType(value, type) {\n      return toString$3.call(value) === '[object ' + type + ']';\n    };\n\n    var isType_1 = isType$1;\n\n    var isArray$1 = Array.isArray ? Array.isArray : function (value) {\n      return isType_1(value, 'Array');\n    };\n    var isArray_1 = isArray$1;\n\n    // isFinite,\n    var isNil$1 = function isNil(value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isNil_1 = isNil$1;\n\n    function _inheritsLoose$1(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var Stack = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$1(Stack, _Adjust);\n\n      function Stack() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Stack.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        this.processStack(dataArray);\n      };\n\n      _proto.processStack = function processStack(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n        var count = dataArray.length;\n        var stackCache = {\n          positive: {},\n          negative: {}\n        }; // 层叠顺序翻转\n\n        if (self.reverseOrder) {\n          dataArray = dataArray.slice(0).reverse();\n        }\n\n        for (var i = 0; i < count; i++) {\n          var data = dataArray[i];\n\n          for (var j = 0, len = data.length; j < len; j++) {\n            var item = data[j];\n            var x = item[xField] || 0;\n            var y = item[yField];\n            var xkey = x.toString();\n            y = isArray_1(y) ? y[1] : y;\n\n            if (!isNil_1(y)) {\n              var direction = y >= 0 ? 'positive' : 'negative';\n\n              if (!stackCache[direction][xkey]) {\n                stackCache[direction][xkey] = 0;\n              }\n\n              item[yField] = [stackCache[direction][xkey], y + stackCache[direction][xkey]];\n              stackCache[direction][xkey] += y;\n            }\n          }\n        }\n      };\n\n      return Stack;\n    }(base);\n\n    base.Stack = Stack;\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    var isObject$1 = function isObject(value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n      return value !== null && type === 'object' || type === 'function';\n    };\n\n    var isObject_1 = isObject$1;\n\n    var each$1 = function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst = void 0;\n\n      if (isArray_1(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject_1(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    };\n\n    var each_1 = each$1;\n\n    function _inheritsLoose$2(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var MARGIN_RATIO = 1 / 2;\n    var DODGE_RATIO = 1 / 2;\n\n    var Dodge = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$2(Dodge, _Adjust);\n\n      function Dodge() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Dodge.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * 调整过程中,2个数据的间距\n         * @type {Number}\n         */\n        this.marginRatio = MARGIN_RATIO;\n        /**\n         * 调整占单位宽度的比例,例如：占2个分类间距的 1/2\n         * @type {Number}\n         */\n\n        this.dodgeRatio = DODGE_RATIO;\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      _proto.getDodgeOffset = function getDodgeOffset(range, index, count) {\n        var self = this;\n        var pre = range.pre;\n        var next = range.next;\n        var tickLength = next - pre;\n        var width = tickLength * self.dodgeRatio / count;\n        var margin = self.marginRatio * width;\n        var offset = 1 / 2 * (tickLength - count * width - (count - 1) * margin) + ((index + 1) * width + index * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n        return (pre + next) / 2 + offset;\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var count = dataArray.length;\n        var xField = self.xField;\n        each_1(dataArray, function (data, index) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var value = obj[xField];\n            var range = {\n              pre: len === 1 ? value - 1 : value - 0.5,\n              next: len === 1 ? value + 1 : value + 0.5\n            };\n            var dodgeValue = self.getDodgeOffset(range, index, count);\n            obj[xField] = dodgeValue;\n          }\n        });\n      };\n\n      return Dodge;\n    }(base);\n\n    base.Dodge = Dodge;\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n\n    var isFunction$1 = function isFunction(value) {\n      return isType_1(value, 'Function');\n    };\n\n    var isFunction_1 = isFunction$1;\n\n    /**\n     * @param {Array} arr The array to iterate over.\n     * @param {Function} [fn] The iteratee invoked per element.\n     * @return {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n\n    var maxBy = function maxBy(arr, fn) {\n      if (!isArray_1(arr)) {\n        return undefined;\n      }\n\n      var max = arr[0];\n      var maxData = void 0;\n\n      if (isFunction_1(fn)) {\n        maxData = fn(arr[0]);\n      } else {\n        maxData = arr[0][fn];\n      }\n\n      var data = void 0;\n      each_1(arr, function (val) {\n        if (isFunction_1(fn)) {\n          data = fn(val);\n        } else {\n          data = val[fn];\n        }\n\n        if (data > maxData) {\n          max = val;\n          maxData = data;\n        }\n      });\n      return max;\n    };\n\n    var maxBy_1 = maxBy;\n\n    var merge$1 = function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0; i < dataArray.length; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    };\n\n    var merge_1 = merge$1;\n\n    function _inheritsLoose$3(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var ArrayUtil = {\n      merge: merge_1\n    };\n\n    var Symmetric = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$3(Symmetric, _Adjust);\n\n      function Symmetric() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Symmetric.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n\n        this.cacheMax = null; // 缓存的最大值\n\n        this.adjustNames = ['y']; // Only support stack y\n\n        this.groupFields = null; // 参与分组的数据维度\n      }; // 获取最大的y值\n\n\n      _proto._getMax = function _getMax(dim) {\n        var self = this;\n        var mergeData = self.mergeData;\n        var maxRecord = maxBy_1(mergeData, function (obj) {\n          var value = obj[dim];\n\n          if (isArray_1(value)) {\n            return Math.max.apply(null, value);\n          }\n\n          return value;\n        });\n        var maxValue = maxRecord[dim];\n        var max = isArray_1(maxValue) ? Math.max.apply(null, maxValue) : maxValue;\n        return max;\n      }; // 获取每个字段最大的值\n\n\n      _proto._getXValuesMax = function _getXValuesMax() {\n        var self = this;\n        var yField = self.yField;\n        var xField = self.xField;\n        var cache = {};\n        var mergeData = self.mergeData;\n        each_1(mergeData, function (obj) {\n          var xValue = obj[xField];\n          var yValue = obj[yField];\n          var max = isArray_1(yValue) ? Math.max.apply(null, yValue) : yValue;\n          cache[xValue] = cache[xValue] || 0;\n\n          if (cache[xValue] < max) {\n            cache[xValue] = max;\n          }\n        });\n        return cache;\n      }; // 入口函数\n\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var mergeData = ArrayUtil.merge(dataArray);\n        self.mergeData = mergeData;\n\n        self._processSymmetric(dataArray);\n\n        self.mergeData = null;\n      }; // 处理对称\n\n\n      _proto._processSymmetric = function _processSymmetric(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n\n        var max = self._getMax(yField);\n\n        var first = dataArray[0][0];\n        var cache;\n\n        if (first && isArray_1(first[yField])) {\n          cache = self._getXValuesMax();\n        }\n\n        each_1(dataArray, function (data) {\n          each_1(data, function (obj) {\n            var value = obj[yField];\n            var offset;\n\n            if (isArray_1(value)) {\n              var xValue = obj[xField];\n              var valueMax = cache[xValue];\n              offset = (max - valueMax) / 2;\n              var tmp = [];\n              /* eslint-disable no-loop-func */\n\n              each_1(value, function (subVal) {\n                // 多个字段\n                tmp.push(offset + subVal);\n              });\n              /* eslint-enable no-loop-func */\n\n              obj[yField] = tmp;\n            } else {\n              offset = (max - value) / 2;\n              obj[yField] = [offset, value + offset];\n            }\n          });\n        });\n      };\n\n      return Symmetric;\n    }(base);\n\n    base.Symmetric = Symmetric;\n\n    var Polar = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Polar, _Base);\n\n      function Polar() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Polar.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'polar';\n        this.startAngle = -Math.PI / 2;\n        this.endAngle = Math.PI * 3 / 2;\n        this.inner = 0;\n        this.innerRadius = 0; // alias\n\n        this.isPolar = true;\n        this.transposed = false;\n        this.center = null;\n        this.radius = null; // relative, 0 ~ 1\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        var self = this;\n        var inner = self.inner || self.innerRadius;\n        var width = Math.abs(end.x - start.x);\n        var height = Math.abs(end.y - start.y);\n        var maxRadius;\n        var center;\n\n        if (self.startAngle === -Math.PI && self.endAngle === 0) {\n          maxRadius = Math.min(width / 2, height);\n          center = {\n            x: (start.x + end.x) / 2,\n            y: start.y\n          };\n        } else {\n          maxRadius = Math.min(width, height) / 2;\n          center = {\n            x: (start.x + end.x) / 2,\n            y: (start.y + end.y) / 2\n          };\n        }\n\n        var radius = self.radius;\n\n        if (radius > 0 && radius <= 1) {\n          maxRadius = maxRadius * radius;\n        }\n\n        this.x = {\n          start: self.startAngle,\n          end: self.endAngle\n        };\n        this.y = {\n          start: maxRadius * inner,\n          end: maxRadius\n        };\n        this.center = center;\n        this.circleRadius = maxRadius; // the radius value in px\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var center = self.center;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var angle = x.start + (x.end - x.start) * point[xDim];\n        var radius = y.start + (y.end - y.start) * point[yDim];\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var center = self.center,\n            transposed = self.transposed,\n            x = self.x,\n            y = self.y;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var m = [1, 0, 0, 1, 0, 0];\n        Matrix.rotate(m, m, x.start);\n        var startV = [1, 0];\n        Vector2.transformMat2d(startV, startV, m);\n        startV = [startV[0], startV[1]];\n        var pointV = [point.x - center.x, point.y - center.y];\n\n        if (Vector2.zero(pointV)) {\n          return {\n            x: 0,\n            y: 0\n          };\n        }\n\n        var theta = Vector2.angleTo(startV, pointV, x.end < x.start);\n\n        if (Math.abs(theta - Math.PI * 2) < 0.001) {\n          theta = 0;\n        }\n\n        var l = Vector2.length(pointV);\n        var percentX = theta / (x.end - x.start);\n        percentX = x.end - x.start > 0 ? percentX : -percentX;\n        var percentY = (l - y.start) / (y.end - y.start);\n        var rst = {};\n        rst[xDim] = percentX;\n        rst[yDim] = percentY;\n        return rst;\n      };\n\n      return Polar;\n    }(Base$1);\n\n    Base$1.Polar = Polar;\n\n    var Circle$1 = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Circle, _Abstract);\n\n      function Circle() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.startAngle = -Math.PI / 2; // start angle，in radian\n\n        this.endAngle = Math.PI * 3 / 2; // end angle, in radian\n\n        this.radius = null; // radius\n\n        this.center = null; // center\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return this._getCirclePoint(angle);\n      };\n\n      _proto._getCirclePoint = function _getCirclePoint(angle, radius) {\n        var self = this;\n        var center = self.center;\n        radius = radius || self.radius;\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine = 'middle';\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n\n          if (offsetVector[1] > 0) {\n            baseLine = 'top';\n          } else if (offsetVector[1] < 0) {\n            baseLine = 'bottom';\n          }\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector(point) {\n        var center = this.center;\n        var factor = this.offsetFactor;\n        return [(point.y - center.y) * factor, (point.x - center.x) * -1 * factor];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var center = this.center,\n            radius = this.radius,\n            startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var container = this.getContainer(lineCfg.top);\n        container.addShape('arc', {\n          className: 'axis-line',\n          attrs: mix({\n            x: center.x,\n            y: center.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, lineCfg)\n        });\n      };\n\n      return Circle;\n    }(Abastract);\n\n    Abastract.Circle = Circle$1;\n\n    var KEYWORDS_PERCENT = {\n      min: 0,\n      median: 0.5,\n      max: 1\n    };\n\n    var GuideBase = /*#__PURE__*/function () {\n      var _proto = GuideBase.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function GuideBase(cfg) {\n        this._initDefaultCfg();\n\n        deepMix(this, cfg);\n      }\n\n      _proto._getNormalizedValue = function _getNormalizedValue(val, scale) {\n        var rst;\n\n        if (isNil(KEYWORDS_PERCENT[val])) {\n          rst = scale.scale(val);\n        } else {\n          rst = KEYWORDS_PERCENT[val];\n        }\n\n        return rst;\n      };\n\n      _proto.parsePercentPoint = function parsePercentPoint(coord, position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var start = coord.start;\n        var end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n        var x = width * xPercent + Math.min(start.x, end.x);\n        var y = height * yPercent + Math.min(start.y, end.y);\n        return {\n          x: x,\n          y: y\n        };\n      };\n\n      _proto.parsePoint = function parsePoint(coord, position) {\n        var self = this;\n        var xScale = self.xScale;\n        var yScales = self.yScales;\n\n        if (isFunction(position)) {\n          position = position(xScale, yScales); // position 必须是对象\n        } // 如果数据格式是 ['50%', '50%'] 的格式\n        // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n\n\n        if (isString(position[0]) && position[0].indexOf('%') !== -1 && !isNaN(position[0].slice(0, -1))) {\n          return this.parsePercentPoint(coord, position);\n        }\n\n        var x = self._getNormalizedValue(position[0], xScale);\n\n        var y = self._getNormalizedValue(position[1], yScales[0]);\n\n        var point = coord.convertPoint({\n          x: x,\n          y: y\n        });\n\n        if (self.limitInPlot) {\n          // limit in chart plotRange\n          if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n            return point;\n          }\n\n          return null;\n        }\n\n        return point;\n      }\n      /**\n       * render the guide component\n       * @param  {Coord} coord  coordinate instance\n       * @param  {Canvas.Group} group the container\n       */\n      ;\n\n      _proto.render = function render()\n      /* coord,group */\n      {};\n\n      _proto.repaint = function repaint() {\n        this.remove();\n        var coord = this.coord,\n            container = this.container,\n            canvas = this.canvas;\n\n        if (container && !container.isDestroyed()) {\n          this.render(coord, container);\n          canvas.draw();\n        }\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.remove(true);\n      };\n\n      _proto.changeVisible = function changeVisible(visible) {\n        var self = this;\n        self.visible = visible;\n        var element = self.element;\n        if (!element) return;\n\n        if (element.set) {\n          element.set('visible', visible);\n        } else {\n          element.style.display = visible ? '' : 'none';\n        }\n      };\n\n      return GuideBase;\n    }();\n\n    var Arc$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Arc, _GuideBase);\n\n      function Arc() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'arc';\n        /**\n         * start point\n         * @type {Array | Function}\n         */\n\n        this.start = [];\n        /**\n         * end point\n         * @type {Array | Function}\n         */\n\n        this.end = [];\n        /**\n         * style configuration\n         * @type {Object}\n         */\n\n        this.style = {\n          stroke: '#999',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var start = self.parsePoint(coord, self.start);\n        var end = self.parsePoint(coord, self.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var coordCenter = coord.center;\n        var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n        var startAngle = Math.atan2(start.y - coordCenter.y, start.x - coordCenter.x);\n        var endAngle = Math.atan2(end.y - coordCenter.y, end.x - coordCenter.x);\n        var shape = container.addShape('arc', {\n          className: 'guide-arc',\n          attrs: mix({\n            x: coordCenter.x,\n            y: coordCenter.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, self.style)\n        });\n        self.element = shape;\n        return shape;\n      };\n\n      return Arc;\n    }(GuideBase);\n\n    GuideBase.Arc = Arc$1;\n\n    function getOffsetFromAlign(alignX, alignY, width, height) {\n      var result = [];\n\n      if (alignX === 'left' && alignY === 'top') {\n        result[0] = 0;\n        result[1] = 0;\n      } else if (alignX === 'right' && alignY === 'top') {\n        result[0] = -width;\n        result[1] = 0;\n      } else if (alignX === 'left' && alignY === 'bottom') {\n        result[0] = 0;\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'bottom') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'middle') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'left' && alignY === 'middle') {\n        result[0] = 0;\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'center' && alignY === 'bottom') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'center' && alignY === 'top') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = 0;\n      } else {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height / 2);\n      }\n\n      return result;\n    }\n\n    function modifyCSS(DOM, CSS) {\n      for (var key in CSS) {\n        if (CSS.hasOwnProperty(key)) {\n          DOM.style[key] = CSS[key];\n        }\n      }\n\n      return DOM;\n    }\n\n    function createDom(str) {\n      var container = document.createElement('div');\n      str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n      container.innerHTML = '' + str;\n      return container.childNodes[0];\n    }\n\n    var Html = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Html, _GuideBase);\n\n      function Html() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Html.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'html';\n        /**\n         * dom position\n         * @type {Object | Array}\n         */\n\n        this.position = null;\n        /**\n          * alignment for horizontal direction，can be 'left','center','right'\n          * @type {String}\n          */\n\n        this.alignX = 'center';\n        /**\n          * alignment for vertical direction，can be 'top', 'middle', 'bottom'\n          * @type {String}\n          */\n\n        this.alignY = 'middle';\n        /**\n          * offset for horizontal direction\n          * @type {Number}\n          */\n\n        this.offsetX = null;\n        /**\n          * offset for vertical direction\n          * @type {Number}\n          */\n\n        this.offsetY = null;\n        /**\n        * the html string\n        *@type {String | Function}\n        */\n\n        this.html = null;\n      } // override paint\n      ;\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var position = self.parsePoint(coord, self.position);\n\n        if (!position) {\n          return;\n        }\n\n        var myNode = createDom(self.html);\n        myNode = modifyCSS(myNode, {\n          position: 'absolute',\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'hidden'\n        });\n        var canvasDom = container.get('canvas').get('el');\n        var parentNode = canvasDom.parentNode;\n        parentNode = modifyCSS(parentNode, {\n          position: 'relative'\n        });\n        var wrapperNode = createDom('<div class=\"guideWapper\" style=\"position: absolute;top: 0; left: 0;\"></div>');\n        parentNode.appendChild(wrapperNode);\n        wrapperNode.appendChild(myNode);\n        var canvasOffsetTop = canvasDom.offsetTop;\n        var canvasOffsetLeft = canvasDom.offsetLeft;\n        var alignX = self.alignX,\n            alignY = self.alignY,\n            offsetX = self.offsetX,\n            offsetY = self.offsetY;\n        var width = getWidth(myNode);\n        var height = getHeight(myNode);\n        var newOffset = getOffsetFromAlign(alignX, alignY, width, height);\n        position.x = position.x + newOffset[0] + canvasOffsetLeft;\n        position.y = position.y + newOffset[1] + canvasOffsetTop;\n\n        if (offsetX) {\n          position.x += offsetX;\n        }\n\n        if (offsetY) {\n          position.y += offsetY;\n        }\n\n        modifyCSS(myNode, {\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'visible'\n        });\n        self.element = wrapperNode;\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.parentNode && element.parentNode.removeChild(element);\n      };\n\n      return Html;\n    }(GuideBase);\n\n    GuideBase.Html = Html;\n\n    var Line$4 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Line, _GuideBase);\n\n      function Line() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'line';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          stroke: '#000',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var points = [];\n        points[0] = this.parsePoint(coord, this.start);\n        points[1] = this.parsePoint(coord, this.end);\n\n        if (!points[0] || !points[1]) {\n          return;\n        }\n\n        var shape = container.addShape('Line', {\n          className: 'guide-line',\n          attrs: mix({\n            x1: points[0].x,\n            y1: points[0].y,\n            x2: points[1].x,\n            y2: points[1].y\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Line;\n    }(GuideBase);\n\n    GuideBase.Line = Line$4;\n\n    var Rect$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Rect, _GuideBase);\n\n      function Rect() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'rect';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          fill: '#CCD7EB',\n          opacity: 0.4\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var start = this.parsePoint(coord, this.start);\n        var end = this.parsePoint(coord, this.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var shape = container.addShape('rect', {\n          className: 'guide-rect',\n          attrs: mix({\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n            width: Math.abs(end.x - start.x),\n            height: Math.abs(start.y - end.y)\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Rect;\n    }(GuideBase);\n\n    GuideBase.Rect = Rect$2;\n\n    var Text$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Text, _GuideBase);\n\n      function Text() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'text';\n        /**\n         * the position of text\n         * @type {Function | Array}\n         */\n\n        this.position = null;\n        /**\n         * the display content\n         * @type {String}\n         */\n\n        this.content = null;\n        /**\n         * style configuration for text\n         * @type {Object}\n         */\n\n        this.style = {\n          fill: '#000'\n        };\n        /**\n         * offset of horizontal direction\n         * @type {Number}\n         */\n\n        this.offsetX = 0;\n        /**\n         * offset of vertical direction\n         * @type {Number}\n         */\n\n        this.offsetY = 0;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.position;\n        var point = this.parsePoint(coord, position);\n\n        if (!point) {\n          return;\n        }\n\n        var content = this.content,\n            style = this.style,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY;\n\n        if (offsetX) {\n          point.x += offsetX;\n        }\n\n        if (offsetY) {\n          point.y += offsetY;\n        }\n\n        var shape = container.addShape('text', {\n          className: 'guide-text',\n          attrs: mix({\n            x: point.x,\n            y: point.y,\n            text: content\n          }, style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Text;\n    }(GuideBase);\n\n    GuideBase.Text = Text$1;\n\n    var Tag = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Tag, _GuideBase);\n\n      function Tag() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Tag.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'tag';\n        this.position = null;\n        this.content = null;\n        this.direct = 'tl';\n        this.autoAdjust = true;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.side = 4;\n        this.background = {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        };\n        this.textStyle = {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        };\n        this.withPoint = true;\n        this.pointStyle = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto._getDirect = function _getDirect(container, point, tagWidth, tagHeight) {\n        var direct = this.direct;\n        var side = this.side;\n        var canvas = container.get('canvas');\n        var clientWidth = canvas.get('width');\n        var clientHeight = canvas.get('height');\n        var x = point.x,\n            y = point.y;\n        var vertical = direct[0];\n        var horizontal = direct[1]; // adjust for vertical direction\n\n        if (vertical === 't' && y - side - tagHeight < 0) {\n          vertical = 'b';\n        } else if (vertical === 'b' && y + side + tagHeight > clientHeight) {\n          vertical = 't';\n        } // adjust for horizontal direction\n\n\n        var diff = vertical === 'c' ? side : 0;\n\n        if (horizontal === 'l' && x - diff - tagWidth < 0) {\n          horizontal = 'r';\n        } else if (horizontal === 'r' && x + diff + tagWidth > clientWidth) {\n          horizontal = 'l';\n        } else if (horizontal === 'c') {\n          if (tagWidth / 2 + x + diff > clientWidth) {\n            horizontal = 'l';\n          } else if (x - tagWidth / 2 - diff < 0) {\n            horizontal = 'r';\n          }\n        }\n\n        direct = vertical + horizontal;\n        return direct;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n\n        if (!position) {\n          return;\n        } // 数据不在显示范围内时，x/y 会为NaN\n\n\n        if (isNaN(position.x) || isNaN(position.y)) {\n          return;\n        }\n\n        var content = this.content,\n            background = this.background,\n            textStyle = this.textStyle;\n        var shapes = [];\n        var wrapperContainer = container.addGroup({\n          className: 'guide-tag'\n        });\n\n        if (this.withPoint) {\n          var pointShape = wrapperContainer.addShape('Circle', {\n            className: 'guide-tag-point',\n            attrs: mix({\n              x: position.x,\n              y: position.y\n            }, this.pointStyle)\n          });\n          shapes.push(pointShape);\n        }\n\n        var tagContainer = wrapperContainer.addGroup(); // create a text shape\n\n        var tagText = tagContainer.addShape('text', {\n          className: 'guide-tag-text',\n          zIndex: 1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            text: content\n          }, textStyle)\n        });\n        shapes.push(tagText); // create background box\n\n        var textBBox = tagText.getBBox();\n        var padding = parsePadding(background.padding);\n        var tagWidth = textBBox.width + padding[1] + padding[3];\n        var tagHeight = textBBox.height + padding[0] + padding[2];\n        var yMin = textBBox.minY - padding[0];\n        var xMin = textBBox.minX - padding[3];\n        var tagBg = tagContainer.addShape('rect', {\n          className: 'guide-tag-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: xMin,\n            y: yMin,\n            width: tagWidth,\n            height: tagHeight\n          }, background)\n        });\n        shapes.push(tagBg);\n        var direct = this.autoAdjust ? this._getDirect(container, position, tagWidth, tagHeight) : this.direct;\n        var side = this.side;\n        var x = position.x + this.offsetX;\n        var y = position.y + this.offsetY;\n        var arrowPoints;\n        var radius = parsePadding(background.radius);\n\n        if (direct === 'tl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - side - 1,\n            y: tagHeight + yMin - 1\n          }, // 这个 1 是为了防止出现白边\n          {\n            x: tagWidth + xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth + xMin,\n            y: tagHeight + side + yMin\n          }];\n          radius[2] = 0;\n          x = x - tagWidth;\n          y = y - side - tagHeight;\n        } else if (direct === 'cl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: tagWidth + xMin - 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }, {\n            x: tagWidth + side + xMin,\n            y: tagHeight / 2 + yMin\n          }];\n          x = x - tagWidth - side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'bl') {\n          arrowPoints = [{\n            x: tagWidth + xMin,\n            y: -side + yMin\n          }, {\n            x: tagWidth + xMin - side - 1,\n            y: yMin + 1\n          }, {\n            x: tagWidth + xMin,\n            y: yMin + 1\n          }];\n          radius[1] = 0;\n          x = x - tagWidth;\n          y = y + side;\n        } else if (direct === 'bc') {\n          arrowPoints = [{\n            x: tagWidth / 2 + xMin,\n            y: -side + yMin\n          }, {\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: yMin + 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: yMin + 1\n          }];\n          x = x - tagWidth / 2;\n          y = y + side;\n        } else if (direct === 'br') {\n          arrowPoints = [{\n            x: xMin,\n            y: yMin - side\n          }, {\n            x: xMin,\n            y: yMin + 1\n          }, {\n            x: xMin + side + 1,\n            y: yMin + 1\n          }];\n          radius[0] = 0;\n          y = y + side;\n        } else if (direct === 'cr') {\n          arrowPoints = [{\n            x: xMin - side,\n            y: tagHeight / 2 + yMin\n          }, {\n            x: xMin + 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: xMin + 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }];\n          x = x + side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'tr') {\n          arrowPoints = [{\n            x: xMin,\n            y: tagHeight + side + yMin\n          }, {\n            x: xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: side + xMin + 1,\n            y: tagHeight + yMin - 1\n          }];\n          radius[3] = 0;\n          y = y - tagHeight - side;\n        } else if (direct === 'tc') {\n          arrowPoints = [{\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth / 2 + xMin,\n            y: tagHeight + side + yMin\n          }];\n          x = x - tagWidth / 2;\n          y = y - tagHeight - side;\n        }\n\n        var sideShape = tagContainer.addShape('Polygon', {\n          className: 'guide-tag-side',\n          zIndex: 0,\n          attrs: {\n            points: arrowPoints,\n            fill: background.fill\n          }\n        });\n        shapes.push(sideShape);\n        tagBg.attr('radius', radius);\n        tagContainer.moveTo(x - xMin, y - yMin);\n        tagContainer.sort();\n        this.element = wrapperContainer;\n        return shapes;\n      };\n\n      return Tag;\n    }(GuideBase);\n\n    GuideBase.Tag = Tag;\n\n    var Point$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Point, _GuideBase);\n\n      function Point() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'point';\n        this.position = null;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.style = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n        if (!position) return null;\n        var shape = container.addShape('Circle', {\n          className: 'guide-point',\n          attrs: mix({\n            x: position.x + this.offsetX,\n            y: position.y + this.offsetY\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Point;\n    }(GuideBase);\n\n    GuideBase.Point = Point$2;\n\n    var MARKER_RADIUS = 3;\n\n    var List = /*#__PURE__*/function () {\n      var _proto = List.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          showTitle: false,\n\n          /**\n           * title string\n           * @type {?String}\n           */\n          title: null,\n\n          /**\n           * items array\n           * @type {?Array}\n           */\n          items: null,\n\n          /**\n           * offset between title and items\n           * @type {Number}\n           */\n          titleGap: 12,\n\n          /**\n           * offset between each item\n           * @type {Number}\n           */\n          itemGap: 10,\n\n          /**\n           * the offset between each item in vertical direaction\n           * @type {Number}\n           */\n          itemMarginBottom: 12,\n\n          /**\n           * the formatter for item text\n           * @type {[type]}\n           */\n          itemFormatter: null,\n          itemWidth: null,\n\n          /**\n           * offset between marker and text\n           * @type {Number}\n           */\n          wordSpace: 6,\n          x: 0,\n          y: 0,\n          layout: 'horizontal',\n\n          /**\n           * the join string of `name` and `value`\n           * @type {String}\n           */\n          joinString: ': '\n        };\n      };\n\n      function List(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        this._renderTitle();\n\n        this._renderItems();\n      }\n\n      _proto._init = function _init() {\n        var parent = this.parent;\n        if (!parent) return;\n        var container = parent.addGroup({\n          zIndex: this.zIndex || 0\n        });\n        this.container = container;\n        var wrapper = container.addGroup();\n        this.wrapper = wrapper;\n        var itemsGroup = wrapper.addGroup({\n          className: 'itemsGroup'\n        });\n        this.itemsGroup = itemsGroup;\n      };\n\n      _proto._renderTitle = function _renderTitle(title) {\n        title = title || this.title;\n        var titleShape = this.titleShape;\n        var titleHeight = 0;\n\n        if (this.showTitle && title) {\n          if (titleShape && !titleShape.get('destroyed')) {\n            titleShape.attr('text', title);\n          } else {\n            var wrapper = this.wrapper,\n                titleStyle = this.titleStyle;\n            titleShape = wrapper.addShape('text', {\n              className: 'title',\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: title\n              }, titleStyle)\n            });\n            this.titleShape = titleShape;\n          }\n\n          titleHeight = titleShape.getBBox().height + this.titleGap;\n        }\n\n        this._titleHeight = titleHeight;\n      };\n\n      _proto._renderItems = function _renderItems(items) {\n        var self = this;\n        items = items || self.items;\n\n        if (!items) {\n          return;\n        }\n\n        if (self.reversed) {\n          items.reverse();\n        }\n\n        each(items, function (item, index) {\n          self._addItem(item, index);\n        });\n\n        if (items.length > 1) {\n          this._adjustItems();\n        }\n\n        this._renderBackground();\n      };\n\n      _proto._renderBackground = function _renderBackground() {\n        var background = this.background;\n\n        if (background) {\n          var container = this.container;\n          var wrapper = this.wrapper;\n\n          var _wrapper$getBBox = wrapper.getBBox(),\n              minX = _wrapper$getBBox.minX,\n              minY = _wrapper$getBBox.minY,\n              width = _wrapper$getBBox.width,\n              height = _wrapper$getBBox.height;\n\n          var padding = background.padding || [0, 0, 0, 0];\n          padding = parsePadding(padding);\n          var attrs = mix({\n            x: minX - padding[3],\n            y: minY - padding[0],\n            width: width + padding[1] + padding[3],\n            height: height + padding[0] + padding[2]\n          }, background);\n          var backShape = this.backShape;\n\n          if (backShape) {\n            backShape.attr(attrs);\n          } else {\n            backShape = container.addShape('Rect', {\n              zIndex: -1,\n              attrs: attrs\n            });\n          }\n\n          this.backShape = backShape;\n          container.sort();\n        }\n      };\n\n      _proto._addItem = function _addItem(item) {\n        var itemsGroup = this.itemsGroup;\n        var itemGroup = itemsGroup.addGroup({\n          name: item.name,\n          value: item.value,\n          dataValue: item.dataValue,\n          checked: item.checked\n        });\n        var unCheckStyle = this.unCheckStyle,\n            unCheckColor = this.unCheckColor,\n            nameStyle = this.nameStyle,\n            valueStyle = this.valueStyle,\n            wordSpace = this.wordSpace;\n        var marker = item.marker,\n            value = item.value;\n        var startX = 0;\n\n        if (unCheckColor) {\n          unCheckStyle.fill = unCheckColor;\n        }\n\n        if (marker) {\n          var radius = marker.radius || MARKER_RADIUS;\n          var markerAttrs = mix({\n            x: radius,\n            y: this._titleHeight\n          }, marker);\n\n          if (item.checked === false) {\n            mix(markerAttrs, unCheckStyle);\n          }\n\n          var markerShape = itemGroup.addShape('marker', {\n            className: 'item-marker',\n            attrs: markerAttrs\n          });\n          startX += markerShape.getBBox().width + wordSpace;\n        }\n\n        var nameText;\n        var name = item.name;\n\n        if (name) {\n          var joinString = this.joinString || '';\n          name = value ? name + joinString : name;\n          nameText = itemGroup.addShape('text', {\n            className: 'name',\n            attrs: mix({\n              x: startX,\n              y: this._titleHeight,\n              text: this._formatItemValue(name)\n            }, nameStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        if (value) {\n          var valueX = startX;\n\n          if (nameText) {\n            valueX += nameText.getBBox().width;\n          }\n\n          itemGroup.addShape('text', {\n            className: 'value',\n            attrs: mix({\n              x: valueX,\n              y: this._titleHeight,\n              text: value\n            }, valueStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        return itemGroup;\n      };\n\n      _proto._formatItemValue = function _formatItemValue(value) {\n        var formatter = this.itemFormatter;\n\n        if (formatter) {\n          value = formatter.call(this, value);\n        }\n\n        return value;\n      };\n\n      _proto._getMaxItemWidth = function _getMaxItemWidth() {\n        var width;\n        var itemWidth = this.itemWidth;\n\n        if (isNumber(itemWidth) || isNil(itemWidth)) {\n          return itemWidth;\n        }\n\n        if (itemWidth === 'auto') {\n          var itemsGroup = this.itemsGroup;\n          var children = itemsGroup.get('children');\n          var count = children.length;\n          var maxItemWidth = 0;\n\n          for (var i = 0; i < count; i++) {\n            var _children$i$getBBox = children[i].getBBox(),\n                _width = _children$i$getBBox.width;\n\n            maxItemWidth = Math.max(maxItemWidth, _width);\n          }\n\n          var maxLength = this.maxLength;\n          var itemGap = this.itemGap;\n          var twoAvgWidth = (maxLength - itemGap) / 2;\n          var threeAvgWidth = (maxLength - itemGap * 2) / 3;\n\n          if (count === 2) {\n            width = Math.max(maxItemWidth, twoAvgWidth);\n          } else {\n            // 1. max <= 3Avg, 3Avg\n            // 2. 3Avg < max && max < 2avg, 2avg\n            // 3. max > 2avg, max, one column\n            if (maxItemWidth <= threeAvgWidth) {\n              width = threeAvgWidth;\n            } else if (maxItemWidth <= twoAvgWidth) {\n              width = twoAvgWidth;\n            } else {\n              width = maxItemWidth;\n            }\n          }\n\n          return width;\n        }\n      };\n\n      _proto._adjustHorizontal = function _adjustHorizontal() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var children = itemsGroup.get('children');\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom;\n        var titleHeight = this._titleHeight;\n        var row = 0;\n        var rowWidth = 0;\n        var width;\n        var height;\n\n        var itemWidth = this._getMaxItemWidth();\n\n        var legendHitBoxes = [];\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          var box = child.getBBox();\n          var childHeight = box.height;\n          var childWidth = box.width;\n          width = itemWidth || childWidth;\n          height = childHeight + itemMarginBottom;\n\n          if (width - (maxLength - rowWidth) > 0.0001) {\n            row++;\n            rowWidth = 0;\n          }\n\n          child.moveTo(rowWidth, row * height);\n          legendHitBoxes.push({\n            x: rowWidth,\n            y: row * height + titleHeight - childHeight / 2,\n            width: childWidth * 1.375,\n            height: childHeight * 1.375\n          });\n          rowWidth += width + itemGap;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustVertical = function _adjustVertical() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom,\n            itemWidth = this.itemWidth;\n        var titleHeight = this._titleHeight;\n        var children = itemsGroup.get('children');\n        var colHeight = 0;\n        var width;\n        var height;\n        var maxItemWidth = 0;\n        var totalWidth = 0;\n        var legendHitBoxes = [];\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n          var bbox = child.getBBox();\n          width = bbox.width;\n          height = bbox.height;\n\n          if (isNumber(itemWidth)) {\n            maxItemWidth = itemWidth + itemGap;\n          } else if (width > maxItemWidth) {\n            maxItemWidth = width + itemGap;\n          }\n\n          if (maxLength - colHeight < height) {\n            colHeight = 0;\n            totalWidth += maxItemWidth;\n            child.moveTo(totalWidth, 0);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: titleHeight - height / 2,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          } else {\n            child.moveTo(totalWidth, colHeight);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: colHeight - height / 2 + titleHeight,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          }\n\n          colHeight += height + itemMarginBottom;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustItems = function _adjustItems() {\n        var layout = this.layout;\n\n        if (layout === 'horizontal') {\n          this._adjustHorizontal();\n        } else {\n          this._adjustVertical();\n        }\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        this.x = x;\n        this.y = y;\n        var container = this.container;\n        container && container.moveTo(x, y);\n        return this;\n      };\n\n      _proto.setItems = function setItems(items) {\n        this.clearItems();\n\n        this._renderItems(items);\n      };\n\n      _proto.setTitle = function setTitle(title) {\n        this._renderTitle(title);\n      };\n\n      _proto.clearItems = function clearItems() {\n        var itemsGroup = this.itemsGroup;\n        itemsGroup.clear();\n      };\n\n      _proto.getWidth = function getWidth() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.height;\n      };\n\n      _proto.show = function show() {\n        var container = this.container;\n        container.show();\n      };\n\n      _proto.hide = function hide() {\n        var container = this.container;\n        container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n      };\n\n      return List;\n    }();\n\n    var TextBox = /*#__PURE__*/function () {\n      var _proto = TextBox.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          x: 0,\n          y: 0,\n          content: '',\n          textStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle',\n            fontFamily: 'Arial'\n          },\n          background: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          width: 0,\n          height: 0,\n          className: ''\n        };\n      };\n\n      function TextBox(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        var content = this.content,\n            x = this.x,\n            y = this.y;\n\n        if (!isNil(content)) {\n          this.updateContent(content);\n        }\n\n        this.updatePosition(x, y);\n      }\n\n      _proto._init = function _init() {\n        var content = this.content,\n            textStyle = this.textStyle,\n            background = this.background,\n            className = this.className,\n            visible = this.visible,\n            context = this.context;\n        var container = new Group({\n          context: context,\n          className: className,\n          zIndex: 0,\n          visible: visible\n        });\n        var text = container.addShape('Text', {\n          className: className + '-text',\n          zIndex: 1,\n          attrs: mix({\n            text: content,\n            x: 0,\n            y: 0\n          }, textStyle)\n        });\n        var backgroundShape = container.addShape('Rect', {\n          className: className + '-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n          }, background)\n        });\n        container.sort();\n        this.container = container;\n        this.textShape = text;\n        this.backgroundShape = backgroundShape;\n      };\n\n      _proto._getBBox = function _getBBox() {\n        var textShape = this.textShape;\n        var background = this.background;\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(background.padding);\n        var width = textBBox.width + padding[1] + padding[3];\n        var height = textBBox.height + padding[0] + padding[2];\n        var x = textBBox.minX - padding[3];\n        var y = textBBox.minY - padding[0];\n        return {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        };\n      };\n\n      _proto.updateContent = function updateContent(text) {\n        var textShape = this.textShape,\n            backgroundShape = this.backgroundShape;\n\n        if (!isNil(text)) {\n          if (!isObject(text)) {\n            text = {\n              text: text\n            };\n          }\n\n          textShape.attr(text); // update box shape\n\n          var _this$_getBBox = this._getBBox(),\n              x = _this$_getBBox.x,\n              y = _this$_getBBox.y,\n              tipWidth = _this$_getBBox.width,\n              tipHeight = _this$_getBBox.height;\n\n          var width = this.width || tipWidth;\n          var height = this.height || tipHeight;\n          backgroundShape.attr({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n          this._width = width;\n          this._height = height;\n          this.content = text.text;\n        }\n      };\n\n      _proto.updatePosition = function updatePosition(x, y) {\n        var container = this.container;\n\n        var _this$_getBBox2 = this._getBBox(),\n            xMin = _this$_getBBox2.x,\n            yMin = _this$_getBBox2.y;\n\n        container.moveTo(x - xMin, y - yMin);\n        this.x = x - xMin;\n        this.y = y - yMin;\n      };\n\n      _proto.getWidth = function getWidth() {\n        return this._width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        return this._height;\n      };\n\n      _proto.show = function show() {\n        this.container.show();\n      };\n\n      _proto.hide = function hide() {\n        this.container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n        this.container = null;\n        this.textShape = null;\n        this.backgroundShape = null;\n      };\n\n      return TextBox;\n    }();\n\n    var GAP = 4;\n    /**\n     * TODOList：\n     * 1. 移除 fixed 参数\n     */\n\n    var Tooltip = /*#__PURE__*/function () {\n      var _proto = Tooltip.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * wether show the crosshairs\n           * @type {Object}\n           */\n          showCrosshairs: false,\n\n          /**\n           * the style for crosshairs\n           * @type {Object}\n           */\n          crosshairsStyle: {\n            stroke: 'rgba(0, 0, 0, 0.25)',\n            lineWidth: 1\n          },\n\n          /**\n           * the type of crosshairs, optional value is 'x', 'y' or 'xy', default is 'y'\n           */\n          crosshairsType: 'y',\n\n          /**\n           * show or hide the x axis tip\n           */\n          showXTip: false,\n\n          /**\n           * show or hide the y axis tip\n           */\n          showYTip: false,\n          xTip: null,\n          xTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          xTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n          yTip: null,\n          yTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          yTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n\n          /**\n           * the style for tooltip container's background\n           * @type {Object}\n           */\n          background: null,\n\n          /**\n           * layout, can be horizontal or vertical\n           * @type {String}\n           */\n          layout: 'horizontal',\n          offsetX: 0,\n          offsetY: 0\n        };\n      };\n\n      function Tooltip(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n        var frontPlot = this.frontPlot,\n            custom = this.custom;\n\n        if (!custom) {\n          // custom means user do customize\n          var container = new List(mix({\n            parent: frontPlot,\n            zIndex: 3\n          }, cfg));\n          this.container = container;\n          var fixed = this.fixed,\n              background = this.background;\n\n          if (!fixed) {\n            this.tooltipArrow = frontPlot.addShape('Polygon', {\n              className: 'tooltip-arrow',\n              visible: false,\n              zIndex: 2,\n              attrs: mix({\n                points: []\n              }, background)\n            });\n          }\n        }\n\n        if (this.showXTip) {\n          var xTipBackground = this.xTipBackground,\n              xTipTextStyle = this.xTipTextStyle;\n          var xTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'xTip',\n            background: xTipBackground,\n            textStyle: xTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(xTipBox.container);\n          this.xTipBox = xTipBox;\n        }\n\n        if (this.showYTip) {\n          var yTipBackground = this.yTipBackground,\n              yTipTextStyle = this.yTipTextStyle;\n          var yTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'yTip',\n            background: yTipBackground,\n            textStyle: yTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(yTipBox.container);\n          this.yTipBox = yTipBox;\n        }\n\n        if (this.showCrosshairs) {\n          this._renderCrosshairs();\n        }\n\n        frontPlot.sort();\n      }\n\n      _proto.setContent = function setContent(title, items) {\n        this.title = title;\n        this.items = items;\n\n        if (!this.custom) {\n          var container = this.container;\n          container.setTitle(title);\n          container.setItems(items);\n        }\n      };\n\n      _proto.setYTipContent = function setYTipContent(val) {\n        var yTip = this.yTip;\n\n        if (isFunction(yTip)) {\n          val = yTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, yTip);\n        }\n\n        this.yTipBox && this.yTipBox.updateContent(val);\n      };\n\n      _proto.setYTipPosition = function setYTipPosition(pos) {\n        var plotRange = this.plotRange;\n        var crosshairsShapeX = this.crosshairsShapeX;\n\n        if (this.showYTip) {\n          var yTipBox = this.yTipBox;\n          var yTipHeight = yTipBox.getHeight();\n          var yTipWidth = yTipBox.getWidth();\n          var posX = plotRange.tl.x - yTipWidth;\n          var posY = pos - yTipHeight / 2;\n\n          if (posY <= plotRange.tl.y) {\n            posY = plotRange.tl.y;\n          }\n\n          if (posY + yTipHeight >= plotRange.br.y) {\n            posY = plotRange.br.y - yTipHeight;\n          }\n\n          if (posX < 0) {\n            posX = plotRange.tl.x;\n            crosshairsShapeX && crosshairsShapeX.attr('x1', plotRange.tl.x + yTipWidth);\n          }\n\n          yTipBox.updatePosition(posX, posY);\n        }\n      };\n\n      _proto.setXTipContent = function setXTipContent(val) {\n        var xTip = this.xTip;\n\n        if (isFunction(xTip)) {\n          val = xTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, xTip);\n        }\n\n        this.xTipBox && this.xTipBox.updateContent(val);\n      };\n\n      _proto.setXTipPosition = function setXTipPosition(pos) {\n        var showXTip = this.showXTip,\n            canvas = this.canvas,\n            plotRange = this.plotRange,\n            xTipBox = this.xTipBox,\n            crosshairsShapeY = this.crosshairsShapeY;\n\n        if (showXTip) {\n          // const el = canvas.get('el');\n          // const canvasHeight = Util.getHeight(el);\n          var canvasHeight = canvas.get('height');\n          var xTipWidth = xTipBox.getWidth();\n          var xTipHeight = xTipBox.getHeight();\n          var posX = pos - xTipWidth / 2;\n          var posY = plotRange.br.y;\n\n          if (posX <= plotRange.tl.x) {\n            posX = plotRange.tl.x;\n          }\n\n          if (posX + xTipWidth >= plotRange.tr.x) {\n            posX = plotRange.tr.x - xTipWidth;\n          }\n\n          if (canvasHeight - posY < xTipHeight) {\n            posY -= xTipHeight;\n          }\n\n          xTipBox.updatePosition(posX, posY);\n          crosshairsShapeY && crosshairsShapeY.attr('y1', posY);\n        }\n      };\n\n      _proto.setXCrosshairPosition = function setXCrosshairPosition(pos) {\n        this.crosshairsShapeX && this.crosshairsShapeX.moveTo(0, pos);\n      };\n\n      _proto.setYCrosshairPosition = function setYCrosshairPosition(pos) {\n        this.crosshairsShapeY && this.crosshairsShapeY.moveTo(pos, 0);\n      };\n\n      _proto.setPosition = function setPosition(items) {\n        var container = this.container,\n            plotRange = this.plotRange,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY,\n            fixed = this.fixed,\n            tooltipArrow = this.tooltipArrow;\n\n        if (!container) {\n          return;\n        }\n\n        var containerBBox = container.container.getBBox();\n        var minX = containerBBox.minX,\n            minY = containerBBox.minY,\n            width = containerBBox.width,\n            height = containerBBox.height;\n        var tl = plotRange.tl,\n            tr = plotRange.tr;\n        var posX = 0;\n        var posY = tl.y - height - GAP + offsetY;\n\n        if (posY < 0) {\n          posY = 0;\n        }\n\n        if (fixed) {\n          var x = (tl.x + tr.x) / 2;\n          posX = x - width / 2 + offsetX;\n        } else {\n          var _x;\n\n          if (items.length > 1) {\n            _x = (items[0].x + items[items.length - 1].x) / 2;\n          } else {\n            _x = items[0].x;\n          }\n\n          posX = _x - width / 2 + offsetX;\n\n          if (posX < tl.x) {\n            posX = tl.x;\n          }\n\n          if (posX + width > tr.x) {\n            posX = tr.x - width;\n          }\n\n          if (tooltipArrow) {\n            var arrowY = posY + height;\n            tooltipArrow.attr('points', [{\n              x: _x - 3,\n              y: arrowY\n            }, {\n              x: _x + 3,\n              y: arrowY\n            }, {\n              x: _x,\n              y: arrowY + GAP\n            }]);\n            var backShape = container.backShape;\n            var radius = parsePadding(backShape.attr('radius'));\n\n            if (_x === tl.x) {\n              radius[3] = 0;\n              tooltipArrow.attr('points', [{\n                x: tl.x,\n                y: arrowY\n              }, {\n                x: tl.x + GAP,\n                y: arrowY\n              }, {\n                x: tl.x,\n                y: arrowY + GAP\n              }]);\n            } else if (_x === tr.x) {\n              radius[2] = 0;\n              tooltipArrow.attr('points', [{\n                x: tr.x - GAP,\n                y: arrowY\n              }, {\n                x: tr.x,\n                y: arrowY\n              }, {\n                x: tr.x,\n                y: arrowY + GAP\n              }]);\n            }\n\n            backShape.attr('radius', radius);\n          }\n        }\n\n        container.moveTo(posX - minX, posY - minY);\n      };\n\n      _proto.setMarkers = function setMarkers(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var self = this;\n        var _cfg = cfg,\n            items = _cfg.items,\n            style = _cfg.style,\n            type = _cfg.type;\n\n        var markerGroup = self._getMarkerGroup(type);\n\n        if (type === 'circle') {\n          for (var i = 0, length = items.length; i < length; i++) {\n            var item = items[i];\n            markerGroup.addShape('marker', {\n              className: 'tooltip-circle-marker',\n              attrs: mix({\n                x: item.x,\n                y: item.y,\n                stroke: item.color\n              }, style)\n            });\n          }\n        } else {\n          markerGroup.addShape('rect', {\n            className: 'tooltip-rect-marker',\n            attrs: style\n          });\n        }\n      };\n\n      _proto.clearMarkers = function clearMarkers() {\n        var markerGroup = this.markerGroup;\n        markerGroup && markerGroup.clear();\n      };\n\n      _proto.show = function show() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        var canvas = this.canvas;\n        crosshairsShapeX && crosshairsShapeX.show();\n        crosshairsShapeY && crosshairsShapeY.show();\n        markerGroup && markerGroup.show();\n        container && container.show();\n        tooltipArrow && tooltipArrow.show();\n        xTipBox && xTipBox.show();\n        yTipBox && yTipBox.show();\n        canvas.draw();\n      };\n\n      _proto.hide = function hide() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.hide();\n        crosshairsShapeY && crosshairsShapeY.hide();\n        markerGroup && markerGroup.hide();\n        container && container.hide();\n        tooltipArrow && tooltipArrow.hide();\n        xTipBox && xTipBox.hide();\n        yTipBox && yTipBox.hide();\n      };\n\n      _proto.destroy = function destroy() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.remove(true);\n        crosshairsShapeY && crosshairsShapeY.remove(true);\n        markerGroup && markerGroup.remove(true);\n        tooltipArrow && tooltipArrow.remove(true);\n        container && container.clear();\n        xTipBox && xTipBox.clear();\n        yTipBox && yTipBox.clear();\n        this.destroyed = true;\n      };\n\n      _proto._getMarkerGroup = function _getMarkerGroup(type) {\n        var markerGroup = this.markerGroup;\n\n        if (!markerGroup) {\n          if (type === 'circle') {\n            markerGroup = this.frontPlot.addGroup({\n              zIndex: 1\n            });\n            this.frontPlot.sort();\n          } else {\n            markerGroup = this.backPlot.addGroup();\n          }\n\n          this.markerGroup = markerGroup;\n        } else {\n          markerGroup.clear();\n        }\n\n        return markerGroup;\n      };\n\n      _proto._renderCrosshairs = function _renderCrosshairs() {\n        var crosshairsType = this.crosshairsType,\n            crosshairsStyle = this.crosshairsStyle,\n            frontPlot = this.frontPlot,\n            plotRange = this.plotRange;\n        var tl = plotRange.tl,\n            br = plotRange.br;\n\n        if (directionEnabled(crosshairsType, 'x')) {\n          this.crosshairsShapeX = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-x',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: tl.x,\n              y1: 0,\n              x2: br.x,\n              y2: 0\n            }, crosshairsStyle)\n          });\n        }\n\n        if (directionEnabled(crosshairsType, 'y')) {\n          this.crosshairsShapeY = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-y',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: 0,\n              y1: br.y,\n              x2: 0,\n              y2: tl.y\n            }, crosshairsStyle)\n          });\n        }\n      };\n\n      return Tooltip;\n    }();\n\n    Global.tooltip = deepMix({\n      triggerOn: 'press',\n      triggerOff: 'pressend',\n      alwaysShow: false,\n      showTitle: false,\n      showCrosshairs: false,\n      crosshairsStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      showTooltipMarker: true,\n      background: {\n        radius: 1,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        padding: [3, 5]\n      },\n      titleStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fontSize: 12,\n        fill: 'rgba(255, 255, 255, 0.65)',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      showItemMarker: true,\n      itemMarkerStyle: {\n        radius: 3,\n        symbol: 'circle',\n        lineWidth: 1,\n        stroke: '#fff'\n      },\n      layout: 'horizontal',\n      snap: false\n    }, Global.tooltip || {});\n\n    function _getTooltipValueScale(geom) {\n      var colorAttr = geom.getAttr('color');\n\n      if (colorAttr) {\n        var colorScale = colorAttr.getScale(colorAttr.type);\n\n        if (colorScale.isLinear) {\n          return colorScale;\n        }\n      }\n\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n\n      if (yScale) {\n        return yScale;\n      }\n\n      return xScale;\n    }\n\n    function getTooltipName(geom, origin) {\n      var name;\n      var nameScale;\n\n      var groupScales = geom._getGroupScales();\n\n      if (groupScales.length) {\n        each(groupScales, function (scale) {\n          nameScale = scale;\n          return false;\n        });\n      }\n\n      if (nameScale) {\n        var field = nameScale.field;\n        name = nameScale.getText(origin[field]);\n      } else {\n        var valueScale = _getTooltipValueScale(geom);\n\n        name = valueScale.alias || valueScale.field;\n      }\n\n      return name;\n    }\n\n    function getTooltipValue(geom, origin) {\n      var scale = _getTooltipValueScale(geom);\n\n      return scale.getText(origin[scale.field]);\n    }\n\n    function getTooltipTitle(geom, origin) {\n      var position = geom.getAttr('position');\n      var field = position.getFields()[0];\n      var scale = geom.get('scales')[field];\n      return scale.getText(origin[scale.field]);\n    }\n\n    function _indexOfArray(items, item) {\n      var rst = -1;\n      each(items, function (sub, index) {\n        if (sub.title === item.title && sub.name === item.name && sub.value === item.value && sub.color === item.color) {\n          rst = index;\n          return false;\n        }\n      });\n      return rst;\n    }\n\n    function _uniqItems(items) {\n      var tmp = [];\n      each(items, function (item) {\n        var index = _indexOfArray(tmp, item);\n\n        if (index === -1) {\n          tmp.push(item);\n        } else {\n          tmp[index] = item;\n        }\n      });\n      return tmp;\n    }\n\n    function isEqual$1(arr1, arr2) {\n      return JSON.stringify(arr1) === JSON.stringify(arr2);\n    }\n\n    var TooltipController = /*#__PURE__*/function () {\n      function TooltipController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleShowEvent\", function (ev) {\n          var chart = _this.chart;\n          if (!_this.enable) return;\n          var plot = chart.get('plotRange');\n          var point = createEvent(ev, chart);\n\n          if (!isPointInPlot(point, plot) && !_this._tooltipCfg.alwaysShow) {\n            // not in chart plot\n            _this.hideTooltip();\n\n            return;\n          }\n\n          var lastTimeStamp = _this.timeStamp;\n          var timeStamp = +new Date();\n\n          if (timeStamp - lastTimeStamp > 16) {\n            _this.showTooltip(point);\n\n            _this.timeStamp = timeStamp;\n          }\n        });\n\n        _defineProperty(this, \"handleHideEvent\", function () {\n          if (!_this.enable) return;\n\n          _this.hideTooltip();\n        });\n\n        this.enable = true;\n        this.cfg = {};\n        this.tooltip = null;\n        this.chart = null;\n        this.timeStamp = 0;\n        mix(this, cfg);\n        var _chart = this.chart;\n\n        var canvas = _chart.get('canvas');\n\n        this.canvas = canvas;\n        this.canvasDom = canvas.get('el');\n      }\n\n      var _proto = TooltipController.prototype;\n\n      _proto._setCrosshairsCfg = function _setCrosshairsCfg() {\n        var self = this;\n        var chart = self.chart;\n        var defaultCfg = mix({}, Global.tooltip);\n        var geoms = chart.get('geoms');\n        var shapes = [];\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n\n          if (shapes.indexOf(type) === -1) {\n            shapes.push(type);\n          }\n        });\n        var coordType = chart.get('coord').type;\n\n        if (geoms.length && (coordType === 'cartesian' || coordType === 'rect')) {\n          if (shapes.length === 1 && ['line', 'area', 'path', 'point'].indexOf(shapes[0]) !== -1) {\n            mix(defaultCfg, {\n              showCrosshairs: true\n            });\n          }\n        }\n\n        return defaultCfg;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg = cfg,\n            layout = _cfg.layout,\n            plotRange = _cfg.plotRange;\n        return layout === 'horizontal' ? plotRange.br.x - plotRange.bl.x : plotRange.bl.y - plotRange.tr.y;\n      };\n\n      _proto.render = function render() {\n        var self = this;\n\n        if (self.tooltip) {\n          return;\n        }\n\n        var chart = self.chart;\n        var canvas = chart.get('canvas');\n        var frontPlot = chart.get('frontPlot').addGroup({\n          className: 'tooltipContainer',\n          zIndex: 10\n        });\n        var backPlot = chart.get('backPlot').addGroup({\n          className: 'tooltipContainer'\n        });\n        var plotRange = chart.get('plotRange');\n        var coord = chart.get('coord');\n\n        var defaultCfg = self._setCrosshairsCfg();\n\n        var cfg = self.cfg; // 通过 chart.tooltip() 接口传入的 tooltip 配置项\n\n        var tooltipCfg = deepMix({\n          plotRange: plotRange,\n          frontPlot: frontPlot,\n          backPlot: backPlot,\n          canvas: canvas,\n          fixed: coord.transposed || coord.isPolar\n        }, defaultCfg, cfg); // 创建 tooltip 实例需要的配置，不应该修改 this.cfg，即用户传入的配置\n\n        tooltipCfg.maxLength = self._getMaxLength(tooltipCfg);\n        this._tooltipCfg = tooltipCfg;\n        var tooltip = new Tooltip(tooltipCfg);\n        self.tooltip = tooltip; // 需要保持tooltip一直显示\n\n        if (tooltipCfg.alwaysShow && self.prePoint) {\n          this.showTooltip(self.prePoint);\n        }\n\n        self.bindEvents();\n      };\n\n      _proto.clear = function clear() {\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.destroy();\n          this.unBindEvents();\n        }\n\n        this.tooltip = null;\n        this._lastActive = null;\n      };\n\n      _proto._getTooltipMarkerStyle = function _getTooltipMarkerStyle(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg2 = cfg,\n            type = _cfg2.type,\n            items = _cfg2.items;\n        var tooltipCfg = this._tooltipCfg;\n\n        if (type === 'rect') {\n          var x;\n          var y;\n          var width;\n          var height;\n          var chart = this.chart;\n\n          var _chart$get = chart.get('plotRange'),\n              tl = _chart$get.tl,\n              br = _chart$get.br;\n\n          var coord = chart.get('coord');\n          var firstItem = items[0];\n          var lastItem = items[items.length - 1];\n          var intervalWidth = firstItem.width;\n\n          if (coord.transposed) {\n            x = tl.x;\n            y = lastItem.y - intervalWidth * 0.75;\n            width = br.x - tl.x;\n            height = firstItem.y - lastItem.y + 1.5 * intervalWidth;\n          } else {\n            x = firstItem.x - intervalWidth * 0.75;\n            y = tl.y;\n            width = lastItem.x - firstItem.x + 1.5 * intervalWidth;\n            height = br.y - tl.y;\n          }\n\n          cfg.style = mix({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            fill: '#CCD6EC',\n            opacity: 0.3\n          }, tooltipCfg.tooltipMarkerStyle);\n        } else {\n          cfg.style = mix({\n            radius: 4,\n            fill: '#fff',\n            lineWidth: 2\n          }, tooltipCfg.tooltipMarkerStyle);\n        }\n\n        return cfg;\n      };\n\n      _proto._setTooltip = function _setTooltip(point, items, tooltipMarkerCfg) {\n        if (tooltipMarkerCfg === void 0) {\n          tooltipMarkerCfg = {};\n        }\n\n        this.prePoint = point;\n        var lastActive = this._lastActive;\n        var tooltip = this.tooltip;\n        var cfg = this._tooltipCfg;\n        items = _uniqItems(items);\n        var chart = this.chart;\n        var coord = chart.get('coord');\n        var yScale = chart.getYScales()[0];\n        var snap = cfg.snap;\n\n        if (snap === false && yScale.isLinear) {\n          var invertPoint = coord.invertPoint(point);\n          var plot = chart.get('plotRange');\n          var tip;\n          var pos;\n\n          if (isPointInPlot(point, plot)) {\n            if (coord.transposed) {\n              tip = yScale.invert(invertPoint.x);\n              pos = point.x;\n              tooltip.setXTipContent(tip);\n              tooltip.setXTipPosition(pos);\n              tooltip.setYCrosshairPosition(pos);\n            } else {\n              tip = yScale.invert(invertPoint.y);\n              pos = point.y;\n              tooltip.setYTipContent(tip);\n              tooltip.setYTipPosition(pos);\n              tooltip.setXCrosshairPosition(pos);\n            }\n          }\n        }\n\n        if (cfg.onShow) {\n          cfg.onShow({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        if (isEqual$1(lastActive, items)) {\n          if (snap === false && (directionEnabled(cfg.crosshairsType, 'y') || cfg.showYTip)) {\n            var canvas = this.chart.get('canvas');\n            canvas.draw();\n          }\n\n          return;\n        }\n\n        this._lastActive = items;\n        var onChange = cfg.onChange;\n\n        if (onChange) {\n          onChange({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        var first = items[0];\n        var title = first.title || first.name;\n        var xTipPosX = first.x;\n\n        if (items.length > 1) {\n          xTipPosX = (items[0].x + items[items.length - 1].x) / 2;\n        }\n\n        tooltip.setContent(title, items, coord.transposed);\n        tooltip.setPosition(items, point);\n\n        if (coord.transposed) {\n          var yTipPosY = first.y;\n\n          if (items.length > 1) {\n            yTipPosY = (items[0].y + items[items.length - 1].y) / 2;\n          }\n\n          tooltip.setYTipContent(title);\n          tooltip.setYTipPosition(yTipPosY);\n          tooltip.setXCrosshairPosition(yTipPosY);\n\n          if (snap) {\n            tooltip.setXTipContent(first.value);\n            tooltip.setXTipPosition(xTipPosX);\n            tooltip.setYCrosshairPosition(xTipPosX);\n          }\n        } else {\n          tooltip.setXTipContent(title);\n          tooltip.setXTipPosition(xTipPosX);\n          tooltip.setYCrosshairPosition(xTipPosX);\n\n          if (snap) {\n            tooltip.setYTipContent(first.value);\n            tooltip.setYTipPosition(first.y);\n            tooltip.setXCrosshairPosition(first.y);\n          }\n        }\n\n        var markerItems = tooltipMarkerCfg.items;\n\n        if (cfg.showTooltipMarker && markerItems.length) {\n          tooltipMarkerCfg = this._getTooltipMarkerStyle(tooltipMarkerCfg);\n          tooltip.setMarkers(tooltipMarkerCfg);\n        } else {\n          tooltip.clearMarkers();\n        }\n\n        tooltip.show();\n      };\n\n      _proto.showTooltip = function showTooltip(point) {\n        var self = this;\n        var chart = self.chart;\n        var tooltipMarkerType;\n        var tooltipMarkerItems = [];\n        var items = [];\n        var cfg = self._tooltipCfg;\n        var showItemMarker = cfg.showItemMarker,\n            itemMarkerStyle = cfg.itemMarkerStyle,\n            alwaysShow = cfg.alwaysShow;\n        var marker;\n\n        if (showItemMarker) {\n          marker = itemMarkerStyle;\n        }\n\n        var geoms = chart.get('geoms');\n        var coord = chart.get('coord');\n        each(geoms, function (geom) {\n          if (geom.get('visible')) {\n            var type = geom.get('type');\n            var records = geom.getSnapRecords(point);\n            var adjust = geom.get('adjust'); // 漏斗图和金子塔图tooltip位置有问题，暂时不开放显示\n\n            if (type === 'interval' && adjust && adjust.type === 'symmetric') {\n              return;\n            }\n\n            each(records, function (record) {\n              var x = record.x,\n                  y = record.y,\n                  _origin = record._origin,\n                  color = record.color;\n\n              if ((x || !isNaN(x)) && (y || !isNaN(y))) {\n                var tooltipItem = {\n                  x: x,\n                  y: isArray(y) ? y[1] : y,\n                  color: color || Global.defaultColor,\n                  origin: _origin,\n                  name: getTooltipName(geom, _origin),\n                  value: getTooltipValue(geom, _origin),\n                  title: getTooltipTitle(geom, _origin)\n                };\n\n                if (marker) {\n                  tooltipItem.marker = mix({\n                    fill: color || Global.defaultColor\n                  }, marker);\n                }\n\n                items.push(tooltipItem);\n\n                if (['line', 'area', 'path'].indexOf(type) !== -1) {\n                  tooltipMarkerType = 'circle';\n                  tooltipMarkerItems.push(tooltipItem);\n                } else if (type === 'interval' && (coord.type === 'cartesian' || coord.type === 'rect')) {\n                  tooltipMarkerType = 'rect';\n                  tooltipItem.width = geom.getSize(record._origin);\n                  tooltipMarkerItems.push(tooltipItem);\n                }\n              }\n            });\n          }\n        });\n\n        if (items.length) {\n          var tooltipMarkerCfg = {\n            items: tooltipMarkerItems,\n            type: tooltipMarkerType\n          };\n\n          self._setTooltip(point, items, tooltipMarkerCfg);\n\n          return;\n        }\n\n        if (!alwaysShow) {\n          self.hideTooltip();\n        }\n      };\n\n      _proto.hideTooltip = function hideTooltip() {\n        var cfg = this._tooltipCfg;\n        this._lastActive = null;\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.hide();\n\n          if (cfg.onHide) {\n            cfg.onHide({\n              tooltip: tooltip\n            });\n          }\n\n          var canvas = this.chart.get('canvas');\n          canvas.draw();\n        }\n      };\n\n      _proto._handleEvent = function _handleEvent(methodName, method, action) {\n        var canvas = this.canvas;\n        each([].concat(methodName), function (aMethod) {\n          if (action === 'bind') {\n            canvas.on(aMethod, method);\n          } else {\n            canvas.off(aMethod, method);\n          }\n        });\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'bind'); // 如果 !alwaysShow, 则在手势离开后就隐藏\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'bind');\n        }\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'unBind');\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'unBind');\n        }\n      };\n\n      return TooltipController;\n    }();\n\n    function init(chart) {\n      var tooltipController = new TooltipController({\n        chart: chart\n      });\n      chart.set('tooltipController', tooltipController);\n\n      chart.tooltip = function (enable, cfg) {\n        if (isObject(enable)) {\n          cfg = enable;\n          enable = true;\n        }\n\n        tooltipController.enable = enable;\n\n        if (cfg) {\n          tooltipController.cfg = cfg;\n        }\n\n        return this;\n      };\n    }\n\n    function afterGeomDraw(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.render();\n\n      chart.showTooltip = function (point) {\n        tooltipController.showTooltip(point);\n        return this;\n      };\n\n      chart.hideTooltip = function () {\n        tooltipController.hideTooltip();\n        return this;\n      };\n    }\n\n    function clearInner(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.clear();\n    }\n    var tooltip = {\n      init: init,\n      afterGeomDraw: afterGeomDraw,\n      clearInner: clearInner\n    };\n\n    var Tooltip$1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init,\n        afterGeomDraw: afterGeomDraw,\n        clearInner: clearInner,\n        'default': tooltip\n    });\n\n    Global.guide = deepMix({\n      line: {\n        style: {\n          stroke: '#a3a3a3',\n          lineWidth: 1\n        },\n        top: true\n      },\n      text: {\n        style: {\n          fill: '#787878',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        },\n        offsetX: 0,\n        offsetY: 0,\n        top: true\n      },\n      rect: {\n        style: {\n          fill: '#fafafa'\n        },\n        top: false\n      },\n      arc: {\n        style: {\n          stroke: '#a3a3a3'\n        },\n        top: true\n      },\n      html: {\n        offsetX: 0,\n        offsetY: 0,\n        alignX: 'center',\n        alignY: 'middle'\n      },\n      tag: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        side: 4,\n        background: {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        },\n        textStyle: {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      point: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          fill: '#fff',\n          r: 3,\n          lineWidth: 2,\n          stroke: '#1890ff'\n        }\n      }\n    }, Global.guide || {});\n\n    var GuideController = /*#__PURE__*/function () {\n      function GuideController(cfg) {\n        this.guides = [];\n        this.xScale = null;\n        this.yScales = null;\n        this.guideShapes = [];\n        mix(this, cfg);\n      }\n\n      var _proto = GuideController.prototype;\n\n      _proto._toString = function _toString(position) {\n        if (isFunction(position)) {\n          position = position(this.xScale, this.yScales);\n        }\n\n        position = position.toString();\n        return position;\n      };\n\n      _proto._getId = function _getId(shape, guide) {\n        var id = guide.id;\n\n        if (!id) {\n          var type = guide.type;\n\n          if (type === 'arc' || type === 'line' || type === 'rect') {\n            id = this._toString(guide.start) + '-' + this._toString(guide.end);\n          } else {\n            id = this._toString(guide.position);\n          }\n        }\n\n        return id;\n      };\n\n      _proto.paint = function paint(coord) {\n        var self = this;\n        var chart = self.chart,\n            guides = self.guides,\n            xScale = self.xScale,\n            yScales = self.yScales;\n        var guideShapes = [];\n        each(guides, function (guide, idx) {\n          guide.xScale = xScale;\n          guide.yScales = yScales;\n          var container;\n\n          if (guide.type === 'regionFilter') {\n            // TODO: RegionFilter support animation\n            guide.chart = chart;\n          } else {\n            container = guide.top ? self.frontPlot : self.backPlot;\n          }\n\n          guide.coord = coord;\n          guide.container = container;\n          guide.canvas = chart.get('canvas');\n          var shape = guide.render(coord, container);\n\n          if (shape) {\n            var id = self._getId(shape, guide);\n\n            [].concat(shape).forEach(function (s) {\n              s._id = s.get('className') + '-' + id;\n              s.set('index', idx);\n              guideShapes.push(s);\n            });\n          }\n        });\n        self.guideShapes = guideShapes;\n      };\n\n      _proto.clear = function clear() {\n        this.reset();\n        this.guides = [];\n        return this;\n      };\n\n      _proto.reset = function reset() {\n        var guides = this.guides;\n        each(guides, function (guide) {\n          guide.remove();\n        });\n      };\n\n      _proto._createGuide = function _createGuide(type, cfg) {\n        var ClassName = upperFirst(type);\n        var guide = new GuideBase[ClassName](deepMix({}, Global.guide[type], cfg));\n        this.guides.push(guide);\n        return guide;\n      };\n\n      _proto.line = function line(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('line', cfg);\n      };\n\n      _proto.text = function text(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('text', cfg);\n      };\n\n      _proto.arc = function arc(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('arc', cfg);\n      };\n\n      _proto.html = function html(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('html', cfg);\n      };\n\n      _proto.rect = function rect(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('rect', cfg);\n      };\n\n      _proto.tag = function tag(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('tag', cfg);\n      };\n\n      _proto.point = function point(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('point', cfg);\n      };\n\n      _proto.regionFilter = function regionFilter(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('regionFilter', cfg);\n      };\n\n      return GuideController;\n    }();\n\n    function init$1(chart) {\n      var guideController = new GuideController({\n        frontPlot: chart.get('frontPlot').addGroup({\n          zIndex: 20,\n          className: 'guideContainer'\n        }),\n        backPlot: chart.get('backPlot').addGroup({\n          className: 'guideContainer'\n        })\n      });\n      chart.set('guideController', guideController);\n      /**\n       * 为图表添加 guide\n       * @return {GuideController} 返回 guide 控制器\n       */\n\n      chart.guide = function () {\n        return guideController;\n      };\n    }\n\n    function afterGeomDraw$1(chart) {\n      var guideController = chart.get('guideController');\n\n      if (!guideController.guides.length) {\n        return;\n      }\n\n      var xScale = chart.getXScale();\n      var yScales = chart.getYScales();\n      var coord = chart.get('coord');\n      guideController.xScale = xScale;\n      guideController.yScales = yScales;\n      guideController.chart = chart; // for regionFilter\n\n      guideController.paint(coord);\n    }\n\n    function clear(chart) {\n      chart.get('guideController').clear();\n    }\n\n    function repaint(chart) {\n      chart.get('guideController').reset();\n    }\n    var guide = {\n      init: init$1,\n      afterGeomDraw: afterGeomDraw$1,\n      clear: clear,\n      repaint: repaint\n    };\n\n    var Guide = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1,\n        afterGeomDraw: afterGeomDraw$1,\n        clear: clear,\n        repaint: repaint,\n        'default': guide\n    });\n\n    var LEGEND_GAP = 12;\n    var MARKER_SIZE = 3;\n    var DEFAULT_CFG = {\n      itemMarginBottom: 12,\n      itemGap: 10,\n      showTitle: false,\n      titleStyle: {\n        fontSize: 12,\n        fill: '#808080',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fill: '#808080',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fill: '#000000',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      unCheckStyle: {\n        fill: '#bfbfbf'\n      },\n      itemWidth: 'auto',\n      wordSpace: 6,\n      selectedMode: 'multiple' // 'multiple' or 'single'\n\n    }; // Register the default configuration for Legend\n\n    Global.legend = deepMix({\n      common: DEFAULT_CFG,\n      // common legend configuration\n      right: mix({\n        position: 'right',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      left: mix({\n        position: 'left',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      top: mix({\n        position: 'top',\n        layout: 'horizontal'\n      }, DEFAULT_CFG),\n      bottom: mix({\n        position: 'bottom',\n        layout: 'horizontal'\n      }, DEFAULT_CFG)\n    }, Global.legend || {});\n\n    function getPaddingByPos(pos, appendPadding) {\n      var padding = 0;\n      appendPadding = parsePadding(appendPadding);\n\n      switch (pos) {\n        case 'top':\n          padding = appendPadding[0];\n          break;\n\n        case 'right':\n          padding = appendPadding[1];\n          break;\n\n        case 'bottom':\n          padding = appendPadding[2];\n          break;\n\n        case 'left':\n          padding = appendPadding[3];\n          break;\n      }\n\n      return padding;\n    }\n\n    var LegendController = /*#__PURE__*/function () {\n      function LegendController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleEvent\", function (ev) {\n          var self = _this;\n\n          function findItem(x, y) {\n            var result = null;\n            var legends = self.legends;\n            each(legends, function (legendItems) {\n              each(legendItems, function (legend) {\n                var itemsGroup = legend.itemsGroup,\n                    legendHitBoxes = legend.legendHitBoxes;\n                var children = itemsGroup.get('children');\n\n                if (children.length) {\n                  var legendPosX = legend.x;\n                  var legendPosY = legend.y;\n                  each(legendHitBoxes, function (box, index) {\n                    if (x >= box.x + legendPosX && x <= box.x + box.width + legendPosX && y >= box.y + legendPosY && y <= box.height + box.y + legendPosY) {\n                      // inbox\n                      result = {\n                        clickedItem: children[index],\n                        clickedLegend: legend\n                      };\n                      return false;\n                    }\n                  });\n                }\n              });\n            });\n            return result;\n          }\n\n          var chart = self.chart;\n\n          var _createEvent = createEvent(ev, chart),\n              x = _createEvent.x,\n              y = _createEvent.y;\n\n          var clicked = findItem(x, y);\n\n          if (clicked && clicked.clickedLegend.clickable !== false) {\n            var clickedItem = clicked.clickedItem,\n                clickedLegend = clicked.clickedLegend;\n\n            if (clickedLegend.onClick) {\n              ev.clickedItem = clickedItem;\n              clickedLegend.onClick(ev);\n            } else if (!clickedLegend.custom) {\n              var checked = clickedItem.get('checked');\n              var value = clickedItem.get('dataValue');\n              var filteredVals = clickedLegend.filteredVals,\n                  field = clickedLegend.field,\n                  selectedMode = clickedLegend.selectedMode;\n              var isSingeSelected = selectedMode === 'single';\n\n              if (isSingeSelected) {\n                chart.filter(field, function (val) {\n                  return val === value;\n                });\n              } else {\n                if (checked) {\n                  filteredVals.push(value);\n                } else {\n                  remove(filteredVals, value);\n                }\n\n                chart.filter(field, function (val) {\n                  return filteredVals.indexOf(val) === -1;\n                });\n              }\n\n              chart.repaint();\n            }\n          }\n        });\n\n        this.legendCfg = {};\n        this.enable = true;\n        this.position = 'top';\n        mix(this, cfg);\n        var _chart = this.chart;\n        this.canvasDom = _chart.get('canvas').get('el');\n        this.clear();\n      }\n\n      var _proto = LegendController.prototype;\n\n      _proto.addLegend = function addLegend(scale, items, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n        var field = scale.field;\n        var fieldCfg = legendCfg[field];\n\n        if (fieldCfg === false) {\n          return null;\n        }\n\n        if (fieldCfg && fieldCfg.custom) {\n          self.addCustomLegend(field);\n        } else {\n          var position = legendCfg.position || self.position;\n\n          if (fieldCfg && fieldCfg.position) {\n            position = fieldCfg.position;\n          }\n\n          if (scale.isCategory) {\n            self._addCategoryLegend(scale, items, position, filteredVals);\n          }\n        }\n      };\n\n      _proto.addCustomLegend = function addCustomLegend(field) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n\n        if (field && legendCfg[field]) {\n          legendCfg = legendCfg[field];\n        }\n\n        var position = legendCfg.position || self.position;\n        var legends = self.legends;\n        legends[position] = legends[position] || [];\n        var items = legendCfg.items;\n\n        if (!items) {\n          return null;\n        }\n\n        var container = self.container;\n        each(items, function (item) {\n          if (!isPlainObject(item.marker)) {\n            item.marker = {\n              symbol: item.marker || 'circle',\n              fill: item.fill,\n              radius: MARKER_SIZE\n            };\n          } else {\n            item.marker.radius = item.marker.radius || MARKER_SIZE;\n          }\n\n          item.checked = isNil(item.checked) ? true : item.checked;\n          item.name = item.name || item.value;\n        });\n        var legend = new List(deepMix({}, Global.legend[position], legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          parent: container\n        }));\n        legends[position].push(legend);\n      };\n\n      _proto.clear = function clear() {\n        var legends = this.legends;\n        each(legends, function (legendItems) {\n          each(legendItems, function (legend) {\n            legend.clear();\n          });\n        });\n        this.legends = {};\n        this.unBindEvents();\n      };\n\n      _proto._isFiltered = function _isFiltered(scale, values, value) {\n        var rst = false;\n        each(values, function (val) {\n          rst = rst || scale.getText(val) === scale.getText(value);\n\n          if (rst) {\n            return false;\n          }\n        });\n        return rst;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(position) {\n        var chart = this.chart;\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        return position === 'right' || position === 'left' ? chart.get('height') - (appendPadding[0] + appendPadding[2]) : chart.get('width') - (appendPadding[1] + appendPadding[3]);\n      };\n\n      _proto._addCategoryLegend = function _addCategoryLegend(scale, items, position, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg,\n            legends = self.legends,\n            container = self.container,\n            chart = self.chart;\n        var field = scale.field;\n        legends[position] = legends[position] || [];\n        var symbol = 'circle';\n\n        if (legendCfg[field] && legendCfg[field].marker) {\n          symbol = legendCfg[field].marker;\n        } else if (legendCfg.marker) {\n          symbol = legendCfg.marker;\n        }\n\n        each(items, function (item) {\n          if (isPlainObject(symbol)) {\n            mix(item.marker, symbol);\n          } else {\n            item.marker.symbol = symbol;\n          }\n\n          if (filteredVals) {\n            item.checked = !self._isFiltered(scale, filteredVals, item.dataValue);\n          }\n        });\n        var legendItems = chart.get('legendItems');\n        legendItems[field] = items;\n        var lastCfg = deepMix({}, Global.legend[position], legendCfg[field] || legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          field: field,\n          filteredVals: filteredVals,\n          parent: container\n        });\n\n        if (lastCfg.showTitle) {\n          deepMix(lastCfg, {\n            title: scale.alias || scale.field\n          });\n        }\n\n        var legend = new List(lastCfg);\n        legends[position].push(legend);\n        return legend;\n      };\n\n      _proto._alignLegend = function _alignLegend(legend, pre, position) {\n        var self = this;\n        var _self$plotRange = self.plotRange,\n            tl = _self$plotRange.tl,\n            bl = _self$plotRange.bl;\n        var chart = self.chart;\n        var offsetX = legend.offsetX || 0;\n        var offsetY = legend.offsetY || 0;\n        var chartWidth = chart.get('width');\n        var chartHeight = chart.get('height');\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        var legendHeight = legend.getHeight();\n        var legendWidth = legend.getWidth();\n        var x = 0;\n        var y = 0;\n\n        if (position === 'left' || position === 'right') {\n          var verticalAlign = legend.verticalAlign || 'middle';\n          var height = Math.abs(tl.y - bl.y);\n          x = position === 'left' ? appendPadding[3] : chartWidth - legendWidth - appendPadding[1];\n          y = (height - legendHeight) / 2 + tl.y;\n\n          if (verticalAlign === 'top') {\n            y = tl.y;\n          } else if (verticalAlign === 'bottom') {\n            y = bl.y - legendHeight;\n          }\n\n          if (pre) {\n            y = pre.get('y') - legendHeight - LEGEND_GAP;\n          }\n        } else {\n          var align = legend.align || 'left';\n          x = appendPadding[3];\n\n          if (align === 'center') {\n            x = chartWidth / 2 - legendWidth / 2;\n          } else if (align === 'right') {\n            x = chartWidth - (legendWidth + appendPadding[1]);\n          }\n\n          y = position === 'top' ? appendPadding[0] + Math.abs(legend.container.getBBox().minY) : chartHeight - legendHeight;\n\n          if (pre) {\n            var preWidth = pre.getWidth();\n            x = pre.x + preWidth + LEGEND_GAP;\n          }\n        }\n\n        if (position === 'bottom' && offsetY > 0) {\n          offsetY = 0;\n        }\n\n        if (position === 'right' && offsetX > 0) {\n          offsetX = 0;\n        }\n\n        legend.moveTo(x + offsetX, y + offsetY);\n      };\n\n      _proto.alignLegends = function alignLegends() {\n        var self = this;\n        var legends = self.legends;\n        each(legends, function (legendItems, position) {\n          each(legendItems, function (legend, index) {\n            var pre = legendItems[index - 1];\n\n            self._alignLegend(legend, pre, position);\n          });\n        });\n        return self;\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        addEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        removeEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      return LegendController;\n    }();\n\n    function init$2(chart) {\n      var legendController = new LegendController({\n        container: chart.get('backPlot').addGroup(),\n        plotRange: chart.get('plotRange'),\n        chart: chart\n      });\n      chart.set('legendController', legendController);\n\n      chart.legend = function (field, cfg) {\n        var legendCfg = legendController.legendCfg;\n        legendController.enable = true;\n\n        if (isBoolean(field)) {\n          legendController.enable = field;\n          legendCfg = cfg || {};\n        } else if (isObject(field)) {\n          legendCfg = field;\n        } else {\n          legendCfg[field] = cfg;\n        }\n\n        legendController.legendCfg = legendCfg;\n        return this;\n      };\n    }\n\n    function beforeGeomDraw(chart) {\n      var legendController = chart.get('legendController');\n      if (!legendController.enable) return null; // legend is not displayed\n\n      var legendCfg = legendController.legendCfg,\n          container = legendController.container;\n\n      if (legendCfg && legendCfg.custom) {\n        legendController.addCustomLegend();\n      } else {\n        var legendItems = chart.getLegendItems();\n        var scales = chart.get('scales');\n        var filters = chart.get('filters');\n        each(legendItems, function (items, field) {\n          var scale = scales[field];\n          var values = scale.values;\n          var filteredVals;\n\n          if (filters && filters[field]) {\n            filteredVals = values.filter(function (v) {\n              return !filters[field](v);\n            });\n          } else {\n            filteredVals = [];\n          }\n\n          legendController.addLegend(scale, items, filteredVals);\n        });\n      }\n\n      if (legendCfg && legendCfg.clickable !== false) {\n        legendController.bindEvents();\n      }\n\n      var legends = legendController.legends;\n      var legendRange = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      };\n      each(legends, function (legendItems, position) {\n        var padding = 0;\n        each(legendItems, function (legend) {\n          var width = legend.getWidth();\n          var height = legend.getHeight();\n\n          if (position === 'top' || position === 'bottom') {\n            padding = Math.max(padding, height);\n\n            if (legend.offsetY > 0) {\n              padding += legend.offsetY;\n            }\n          } else {\n            padding = Math.max(padding, width);\n\n            if (legend.offsetX > 0) {\n              padding += legend.offsetX;\n            }\n          }\n        });\n        legendRange[position] = padding + getPaddingByPos(position, chart.get('appendPadding'));\n      });\n      chart.set('legendRange', legendRange);\n\n      if (Object.keys(legends).length) {\n        container.set('ariaLabel', lang.legend.prefix);\n      } else {\n        container.set('ariaLabel', null);\n      }\n    }\n\n    function afterGeomDraw$2(chart) {\n      var legendController = chart.get('legendController');\n      legendController.alignLegends();\n    }\n\n    function clearInner$1(chart) {\n      var legendController = chart.get('legendController');\n      legendController.clear();\n      chart.set('legendRange', null);\n    }\n    var legend = {\n      init: init$2,\n      beforeGeomDraw: beforeGeomDraw,\n      afterGeomDraw: afterGeomDraw$2,\n      clearInner: clearInner$1\n    };\n\n    var Legend = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$2,\n        beforeGeomDraw: beforeGeomDraw,\n        afterGeomDraw: afterGeomDraw$2,\n        clearInner: clearInner$1,\n        'default': legend\n    });\n\n    var clock = typeof performance === 'object' && performance.now ? performance : Date;\n\n    var Timeline = /*#__PURE__*/function () {\n      function Timeline() {\n        this.anims = [];\n        this.time = null;\n        this.playing = false;\n        this.canvas = [];\n      }\n\n      var _proto = Timeline.prototype;\n\n      _proto.play = function play() {\n        var self = this;\n        self.time = clock.now();\n        self.playing = true;\n\n        function step() {\n          if (self.playing) {\n            requestAnimationFrame(step);\n            self.update();\n          }\n        }\n\n        requestAnimationFrame(step);\n      };\n\n      _proto.stop = function stop() {\n        this.playing = false;\n        this.time = null;\n        this.canvas = [];\n      };\n\n      _proto.pushAnim = function pushAnim(animInfo) {\n        // 先启动动画\n        if (!this.playing) {\n          this.play();\n        }\n\n        var delay = animInfo.delay,\n            duration = animInfo.duration;\n        var startTime = this.time + delay;\n        var endTime = startTime + duration;\n        animInfo.startTime = startTime;\n        animInfo.endTime = endTime;\n        this.anims.push(animInfo);\n      };\n\n      _proto.update = function update() {\n        var currentTime = clock.now();\n        this.canvas = [];\n\n        if (!this.anims.length) {\n          this.stop();\n          return;\n        }\n\n        for (var i = 0; i < this.anims.length; i++) {\n          var propertyAnim = this.anims[i];\n\n          if (currentTime < propertyAnim.startTime || propertyAnim.hasEnded) {\n            continue;\n          }\n\n          var shape = propertyAnim.shape; // shape\n\n          if (shape.get('destroyed')) {\n            this.anims.splice(i, 1);\n            i--;\n            continue;\n          }\n\n          var startState = propertyAnim.startState,\n              endState = propertyAnim.endState,\n              interpolate = propertyAnim.interpolate,\n              duration = propertyAnim.duration;\n\n          if (currentTime >= propertyAnim.startTime && !propertyAnim.hasStarted) {\n            propertyAnim.hasStarted = true;\n\n            if (propertyAnim.onStart) {\n              propertyAnim.onStart();\n            }\n          }\n\n          var t = (currentTime - propertyAnim.startTime) / duration;\n          t = Math.max(0, Math.min(t, 1));\n          t = propertyAnim.easing(t);\n\n          if (propertyAnim.onFrame) {\n            propertyAnim.onFrame(t);\n          } else {\n            for (var key in interpolate) {\n              var diff = interpolate[key];\n              var value = diff(t);\n              var newValue = void 0;\n\n              if (key === 'points') {\n                newValue = [];\n                var aLen = Math.max(startState.points.length, endState.points.length);\n\n                for (var j = 0; j < aLen; j += 2) {\n                  newValue.push({\n                    x: value[j],\n                    y: value[j + 1]\n                  });\n                }\n              } else {\n                newValue = value;\n              }\n\n              shape._attrs.attrs[key] = newValue;\n              shape._attrs.bbox = null; // should clear calculated bbox\n            }\n          }\n\n          var canvas = shape.get('canvas');\n\n          if (this.canvas.indexOf(canvas) === -1) {\n            this.canvas.push(canvas);\n          }\n\n          if (propertyAnim.onUpdate) {\n            propertyAnim.onUpdate(t);\n          }\n\n          if (currentTime >= propertyAnim.endTime && !propertyAnim.hasEnded) {\n            propertyAnim.hasEnded = true;\n\n            if (propertyAnim.onEnd) {\n              propertyAnim.onEnd();\n            }\n          }\n\n          if (t === 1) {\n            // end\n            this.anims.splice(i, 1);\n            i--;\n          }\n        }\n\n        this.canvas.map(function (c) {\n          c.draw();\n          return c;\n        });\n        this.time = clock.now();\n      };\n\n      return Timeline;\n    }();\n\n    function linear$1(k) {\n      return k;\n    }\n\n    function quadraticIn(k) {\n      return k * k;\n    }\n\n    function quadraticOut(k) {\n      return k * (2 - k);\n    }\n\n    function quadraticInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    }\n\n    function cubicIn(k) {\n      return k * k * k;\n    }\n\n    function cubicOut(k) {\n      return --k * k * k + 1;\n    }\n\n    function cubicInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    }\n\n    function elasticIn(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    function elasticOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    }\n\n    function elasticInOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    }\n\n    function backIn(k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    }\n\n    function backOut(k) {\n      var s = 1.70158;\n      return (k = k - 1) * k * ((s + 1) * k + s) + 1;\n    }\n\n    function backInOut(k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    }\n\n    function bounceIn(k) {\n      return 1 - bounceOut(1 - k);\n    }\n\n    function bounceOut(k) {\n      if ((k /= 1) < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      }\n\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n\n    function bounceInOut(k) {\n      if (k < 0.5) {\n        return bounceIn(k * 2) * 0.5;\n      }\n\n      return bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n\n    var Easing = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        linear: linear$1,\n        quadraticIn: quadraticIn,\n        quadraticOut: quadraticOut,\n        quadraticInOut: quadraticInOut,\n        cubicIn: cubicIn,\n        cubicOut: cubicOut,\n        cubicInOut: cubicInOut,\n        elasticIn: elasticIn,\n        elasticOut: elasticOut,\n        elasticInOut: elasticInOut,\n        backIn: backIn,\n        backOut: backOut,\n        backInOut: backInOut,\n        bounceIn: bounceIn,\n        bounceOut: bounceOut,\n        bounceInOut: bounceInOut\n    });\n\n    function plainArray(arr) {\n      var result = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i]) {\n          result.push(arr[i].x);\n          result.push(arr[i].y);\n        }\n      }\n\n      return result;\n    }\n\n    function interpolateNumber(a, b) {\n      a = +a;\n      b -= a;\n      return function (t) {\n        return a + b * t;\n      };\n    }\n\n    function interpolateArray(a, b) {\n      var nb = b ? b.length : 0;\n      var na = a ? Math.min(nb, a.length) : 0;\n      var x = new Array(na);\n      var c = new Array(nb);\n      var i;\n\n      for (i = 0; i < na; ++i) {\n        x[i] = interpolateNumber(a[i], b[i]);\n      }\n\n      for (; i < nb; ++i) {\n        c[i] = b[i];\n      }\n\n      return function (t) {\n        for (i = 0; i < na; ++i) {\n          c[i] = x[i](t);\n        }\n\n        return c;\n      };\n    }\n\n    var Animator = /*#__PURE__*/function () {\n      function Animator(shape, source, timeline) {\n        this.hasStarted = false;\n        this.hasEnded = false;\n        this.shape = shape;\n        this.source = source;\n        this.timeline = timeline;\n        this.animate = null;\n      } // delay, attrs, duration, easing\n\n\n      var _proto = Animator.prototype;\n\n      _proto.to = function to(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var delay = cfg.delay || 0;\n        var attrs = cfg.attrs || {};\n        var duration = cfg.duration || 1000;\n        var easing; // 缓动函数\n\n        if (typeof cfg.easing === 'function') {\n          easing = cfg.easing;\n        } else {\n          easing = Easing[cfg.easing] || linear$1;\n        }\n\n        var animInfo = {\n          shape: this.shape,\n          delay: delay,\n          duration: duration,\n          easing: easing\n        };\n        var interpolate = {}; // 差值函数\n\n        for (var attrName in attrs) {\n          var startValue = this.source[attrName];\n          var endValue = attrs[attrName];\n\n          if (attrName === 'points') {\n            startValue = plainArray(startValue);\n            endValue = plainArray(endValue);\n            interpolate.points = interpolateArray(startValue, endValue);\n            this.source.points = startValue;\n            attrs.points = endValue;\n          } else if (attrName === 'matrix') {\n            interpolate.matrix = interpolateArray(startValue, endValue);\n          } else {\n            interpolate[attrName] = interpolateNumber(startValue, endValue);\n          }\n        }\n\n        animInfo.interpolate = interpolate;\n        animInfo.startState = this.source;\n        animInfo.endState = attrs;\n        this.timeline.pushAnim(animInfo);\n        this.animate = animInfo;\n        return this;\n      };\n\n      _proto.onFrame = function onFrame(callback) {\n        // 自定义每一帧动画的动作\n        if (this.animate) {\n          this.animate.onFrame = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onStart = function onStart(callback) {\n        if (this.animate) {\n          this.animate.onStart = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onUpdate = function onUpdate(callback) {\n        if (this.animate) {\n          this.animate.onUpdate = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onEnd = function onEnd(callback) {\n        if (this.animate) {\n          this.animate.onEnd = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      return Animator;\n    }();\n\n    var defaultAnimationCfg = {\n      appear: {\n        duration: 450,\n        easing: 'quadraticOut'\n      },\n      // 'appear' animation options\n      update: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'update' animation options\n      enter: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'enter' animation options\n      leave: {\n        duration: 350,\n        easing: 'quadraticIn'\n      } // 'leave' animation options\n\n    };\n    var Animate = {\n      defaultCfg: {},\n      Action: {},\n      getAnimation: function getAnimation(geomType, coord, animationType) {\n        var geomAnimateCfg = this.defaultCfg[geomType];\n\n        if (geomAnimateCfg) {\n          var animation = geomAnimateCfg[animationType];\n\n          if (isFunction(animation)) {\n            return animation(coord);\n          }\n        }\n\n        return false;\n      },\n      getAnimateCfg: function getAnimateCfg(geomType, animationType) {\n        var defaultCfg = defaultAnimationCfg[animationType];\n        var geomConfig = this.defaultCfg[geomType];\n\n        if (geomConfig && geomConfig.cfg && geomConfig.cfg[animationType]) {\n          return deepMix({}, defaultCfg, geomConfig.cfg[animationType]);\n        }\n\n        return defaultCfg;\n      },\n      registerAnimation: function registerAnimation(animationName, animationFun) {\n        var _extends2;\n\n        if (!this.Action) {\n          this.Action = {};\n        }\n\n        this.Action = _extends({}, this.Action, (_extends2 = {}, _extends2[animationName] = animationFun, _extends2));\n      }\n    };\n\n    /**\n     * Utility\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function getCoordInfo(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      return {\n        start: start,\n        end: end,\n        width: end.x - start.x,\n        height: Math.abs(end.y - start.y)\n      };\n    }\n\n    function getScaledMatrix(shape, v, direct) {\n      var scaledMatrix;\n      shape.apply(v);\n      var x = v[0];\n      var y = v[1];\n\n      if (direct === 'x') {\n        shape.transform([['t', x, y], ['s', 0.01, 1], ['t', -x, -y]]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = Matrix.transform(matrix, [['t', x, y], ['s', 100, 1], ['t', -x, -y]]);\n      } else if (direct === 'y') {\n        shape.transform([['t', x, y], ['s', 1, 0.01], ['t', -x, -y]]);\n\n        var _matrix = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix, [['t', x, y], ['s', 1, 100], ['t', -x, -y]]);\n      } else if (direct === 'xy') {\n        shape.transform([['t', x, y], ['s', 0.01, 0.01], ['t', -x, -y]]);\n\n        var _matrix2 = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix2, [['t', x, y], ['s', 100, 100], ['t', -x, -y]]);\n      }\n\n      return scaledMatrix;\n    }\n\n    function getAnimateParam(animateCfg, index, id) {\n      var result = {};\n\n      if (animateCfg.delay) {\n        result.delay = isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay;\n      }\n\n      result.easing = animateCfg.easing;\n      result.duration = animateCfg.duration;\n      result.delay = animateCfg.delay;\n      return result;\n    }\n\n    function doAnimation(shape, endState, animateCfg, callback) {\n      var id = shape._id;\n      var index = shape.get('index');\n\n      var _getAnimateParam = getAnimateParam(animateCfg, index, id),\n          easing = _getAnimateParam.easing,\n          delay = _getAnimateParam.delay,\n          duration = _getAnimateParam.duration;\n\n      var anim = shape.animate().to({\n        attrs: endState,\n        duration: duration,\n        delay: delay,\n        easing: easing\n      });\n\n      if (callback) {\n        anim.onEnd(function () {\n          callback();\n        });\n      }\n    }\n\n    /**\n     * Animation functions for shape\n     * @author sima.zhang1990@gmail.com\n     */\n    /*\n    function waveIn(shape, animateCfg, coord) {\n      const clip = Helpers.getClip(coord);\n      clip.set('canvas', shape.get('canvas'));\n      shape.attr('clip', clip);\n      const onEnd = function() {\n        shape.attr('clip', null);\n        clip.remove(true);\n      };\n      Helpers.doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function scaleInX(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      let x;\n      const y = (box.minY + box.maxY) / 2;\n\n      if (points[0].y - points[1].y > 0) { // 当顶点在零点之下\n        x = box.maxX;\n      } else {\n        x = box.minX;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n\n    function scaleInY(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      const x = (box.minX + box.maxX) / 2;\n      let y;\n\n      if (points[0].y - points[1].y <= 0) { // 当顶点在零点之下\n        y = box.maxY;\n      } else {\n        y = box.minY;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n    */\n\n    function fadeIn(shape, animateCfg) {\n      var fillOpacity = isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n      var strokeOpacity = isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n      shape.attr('fillOpacity', 0);\n      shape.attr('strokeOpacity', 0);\n      var endState = {\n        fillOpacity: fillOpacity,\n        strokeOpacity: strokeOpacity\n      };\n      doAnimation(shape, endState, animateCfg);\n    }\n\n    var ShapeAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        fadeIn: fadeIn\n    });\n\n    /**\n     * Group animate functions\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function _groupScaleIn(container, animateCfg, coord, zeroY, type) {\n      var _getCoordInfo = getCoordInfo(coord),\n          start = _getCoordInfo.start,\n          end = _getCoordInfo.end,\n          width = _getCoordInfo.width,\n          height = _getCoordInfo.height;\n\n      var x;\n      var y;\n      var clip = new Shape$2.Rect({\n        attrs: {\n          x: start.x,\n          y: end.y,\n          width: width,\n          height: height\n        }\n      });\n\n      if (type === 'y') {\n        x = start.x + width / 2;\n        y = zeroY.y < start.y ? zeroY.y : start.y;\n      } else if (type === 'x') {\n        x = zeroY.x > start.x ? zeroY.x : start.x;\n        y = start.y + height / 2;\n      } else if (type === 'xy') {\n        if (coord.isPolar) {\n          x = coord.center.x;\n          y = coord.center.y;\n        } else {\n          x = (start.x + end.x) / 2;\n          y = (start.y + end.y) / 2;\n        }\n      }\n\n      var endMatrix = getScaledMatrix(clip, [x, y], type);\n      clip.isClip = true;\n      clip.endState = {\n        matrix: endMatrix\n      };\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function _shapeScale(container, animateCfg, type) {\n      var shapes = container.get('children');\n      var x;\n      var y;\n      var endMatrix;\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        var box = shape.getBBox();\n        x = (box.minX + box.maxX) / 2;\n        y = (box.minY + box.maxY) / 2;\n        endMatrix = getScaledMatrix(shape, [x, y], type);\n        doAnimation(shape, {\n          matrix: endMatrix\n        }, animateCfg);\n      }\n    }\n\n    function groupScaleInX(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'x');\n    }\n\n    function groupScaleInY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'y');\n    }\n\n    function groupScaleInXY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n    }\n\n    function shapesScaleInX(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'x');\n    }\n\n    function shapesScaleInY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'y');\n    }\n\n    function shapesScaleInXY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'xy');\n    }\n\n    function groupWaveIn(container, animateCfg, coord) {\n      var clip = getClip(coord);\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      var endState = {};\n\n      if (coord.isPolar) {\n        var startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        endState.endAngle = endAngle;\n        clip.attr('endAngle', startAngle);\n      } else {\n        var start = coord.start,\n            end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n\n        if (coord.isTransposed) {\n          clip.attr('height', 0);\n          endState.height = height;\n        } else {\n          clip.attr('width', 0);\n          endState.width = width;\n        }\n      }\n\n      doAnimation(clip, endState, animateCfg, onEnd);\n    }\n\n    var GroupAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        groupWaveIn: groupWaveIn,\n        groupScaleInX: groupScaleInX,\n        groupScaleInY: groupScaleInY,\n        groupScaleInXY: groupScaleInXY,\n        shapesScaleInX: shapesScaleInX,\n        shapesScaleInY: shapesScaleInY,\n        shapesScaleInXY: shapesScaleInXY\n    });\n\n    /**\n     * Handle the detail animations\n     * @author sima.zhang1990@gmail.com\n     */\n    var timeline;\n\n    Element.prototype.animate = function () {\n      var attrs = mix({}, this.get('attrs'));\n      return new Animator(this, attrs, timeline);\n    };\n\n    Chart.prototype.animate = function (cfg) {\n      this.set('animate', cfg);\n      return this;\n    };\n\n    Animate.Action = ShapeAction;\n    Animate.defaultCfg = {\n      interval: {\n        enter: function enter(coord) {\n          if (coord.isPolar && coord.transposed) {\n            // for pie chart\n            return function (shape) {\n              shape.set('zIndex', -1);\n              var container = shape.get('parent');\n              container.sort();\n            };\n          }\n\n          return fadeIn;\n        }\n      },\n      area: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      line: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      path: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      }\n    };\n    var GROUP_ANIMATION = {\n      line: function line(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      area: function area(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      path: function path(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      point: function point() {\n        return shapesScaleInXY;\n      },\n      interval: function interval(coord) {\n        var result;\n\n        if (coord.isPolar) {\n          // polar coodinate\n          result = groupScaleInXY;\n\n          if (coord.transposed) {\n            // pie chart\n            result = groupWaveIn;\n          }\n        } else {\n          result = coord.transposed ? groupScaleInX : groupScaleInY;\n        }\n\n        return result;\n      },\n      schema: function schema() {\n        return groupWaveIn;\n      }\n    };\n\n    function diff(fromAttrs, toAttrs) {\n      var endState = {};\n\n      for (var k in toAttrs) {\n        if (isNumber(fromAttrs[k]) && fromAttrs[k] !== toAttrs[k]) {\n          endState[k] = toAttrs[k];\n        } else if (isArray(fromAttrs[k]) && JSON.stringify(fromAttrs[k]) !== JSON.stringify(toAttrs[k])) {\n          endState[k] = toAttrs[k];\n        }\n      }\n\n      return endState;\n    } // Add a unique id identifier to each shape\n\n\n    function _getShapeId(geom, dataObj, geomIdx) {\n      var type = geom.get('type');\n      var id = 'geom' + geomIdx + '-' + type;\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.value;\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id += '-' + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id += '-' + type;\n      } else {\n        id += xScale.isCategory ? '-' + xVal : '-' + xVal + '-' + yVal;\n      }\n\n      var groupScales = geom._getGroupScales();\n\n      each(groupScales, function (groupScale) {\n        var field = groupScale.field;\n\n        if (groupScale.type !== 'identity') {\n          id += '-' + dataObj[field];\n        }\n      });\n      return id;\n    } // get geometry's shapes\n\n\n    function getShapes(geoms, chart, coord) {\n      var shapes = [];\n      each(geoms, function (geom, geomIdx) {\n        var geomContainer = geom.get('container');\n        var geomShapes = geomContainer.get('children');\n        var type = geom.get('type');\n        var animateCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n        if (animateCfg !== false) {\n          each(geomShapes, function (shape, index) {\n            if (shape.get('className') === type) {\n              shape._id = _getShapeId(geom, shape.get('origin')._origin, geomIdx);\n              shape.set('coord', coord);\n              shape.set('animateCfg', animateCfg);\n              shape.set('index', index);\n              shapes.push(shape);\n            }\n          });\n        }\n\n        geom.set('shapes', geomShapes);\n      });\n      return shapes;\n    }\n\n    function cache(shapes) {\n      var rst = {};\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        if (!shape._id || shape.isClip) continue;\n        var id = shape._id;\n        rst[id] = {\n          _id: id,\n          type: shape.get('type'),\n          // the type of shape\n          attrs: mix({}, shape._attrs.attrs),\n          // the graphics attributes of shape\n          className: shape.get('className'),\n          geomType: shape.get('className'),\n          index: shape.get('index'),\n          coord: shape.get('coord'),\n          animateCfg: shape.get('animateCfg')\n        };\n      }\n\n      return rst;\n    }\n\n    function getAnimate(geomType, coord, animationType, animationName) {\n      var result;\n\n      if (isFunction(animationName)) {\n        result = animationName;\n      } else if (isString(animationName)) {\n        result = Animate.Action[animationName];\n      } else {\n        result = Animate.getAnimation(geomType, coord, animationType);\n      }\n\n      return result;\n    }\n\n    function getAnimateCfg(geomType, animationType, animateCfg) {\n      if (animateCfg === false || isObject(animateCfg) && animateCfg[animationType] === false) {\n        return false;\n      }\n\n      var defaultCfg = Animate.getAnimateCfg(geomType, animationType);\n\n      if (animateCfg && animateCfg[animationType]) {\n        return deepMix({}, defaultCfg, animateCfg[animationType]);\n      }\n\n      return defaultCfg;\n    }\n\n    function addAnimate(cache, shapes, canvas) {\n      var animate;\n      var animateCfg; // the order of animation: leave -> update -> enter\n\n      var updateShapes = [];\n      var newShapes = [];\n      each(shapes, function (shape) {\n        var result = cache[shape._id];\n\n        if (!result) {\n          newShapes.push(shape);\n        } else {\n          shape.set('cacheShape', result);\n          updateShapes.push(shape);\n          delete cache[shape._id];\n        }\n      }); // first do the leave animation\n\n      each(cache, function (deletedShape) {\n        var className = deletedShape.className,\n            coord = deletedShape.coord,\n            _id = deletedShape._id,\n            attrs = deletedShape.attrs,\n            index = deletedShape.index,\n            type = deletedShape.type;\n        animateCfg = getAnimateCfg(className, 'leave', deletedShape.animateCfg);\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'leave', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          var tempShape = canvas.addShape(type, {\n            attrs: attrs,\n            index: index,\n            canvas: canvas,\n            className: className\n          });\n          tempShape._id = _id;\n          animate(tempShape, animateCfg, coord);\n        }\n      }); // then do the update animation\n\n      each(updateShapes, function (updateShape) {\n        var className = updateShape.get('className');\n        animateCfg = getAnimateCfg(className, 'update', updateShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        var coord = updateShape.get('coord');\n        var cacheAttrs = updateShape.get('cacheShape').attrs;\n        var endState = diff(cacheAttrs, updateShape._attrs.attrs); // 判断如果属性相同的话就不进行变换\n\n        if (Object.keys(endState).length) {\n          animate = getAnimate(className, coord, 'update', animateCfg.animation);\n\n          if (isFunction(animate)) {\n            animate(updateShape, animateCfg, coord);\n          } else {\n            var startState = {};\n            each(endState, function (value, key) {\n              startState[key] = cacheAttrs[key];\n            });\n            updateShape.attr(startState);\n            updateShape.animate().to({\n              attrs: endState,\n              duration: animateCfg.duration,\n              easing: animateCfg.easing,\n              delay: animateCfg.delay\n            }).onEnd(function () {\n              updateShape.set('cacheShape', null);\n            });\n          }\n        }\n      }); // last, enter animation\n\n      each(newShapes, function (newShape) {\n        // 新图形元素的进场元素\n        var className = newShape.get('className');\n        var coord = newShape.get('coord');\n        animateCfg = getAnimateCfg(className, 'enter', newShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'enter', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          if (className === 'interval' && coord.isPolar && coord.transposed) {\n            var index = newShape.get('index');\n            var lastShape = updateShapes[index - 1];\n            animate(newShape, animateCfg, lastShape);\n          } else {\n            animate(newShape, animateCfg, coord);\n          }\n        }\n      });\n    }\n\n    function _getAnimateCfgByShapeType(type, chart) {\n      if (!type) {\n        return null;\n      }\n\n      var animateCfg = chart.get('animate');\n\n      if (type.indexOf('guide-tag') > -1) {\n        type = 'guide-tag';\n      }\n\n      if (isObject(animateCfg)) {\n        return animateCfg[type];\n      }\n\n      if (animateCfg === false) {\n        return false;\n      }\n\n      return null;\n    }\n\n    function afterCanvasInit()\n    /* chart */\n    {\n      timeline = new Timeline();\n      timeline.play();\n    }\n\n    function beforeCanvasDraw(chart) {\n      if (chart.get('animate') === false) {\n        return;\n      }\n\n      var isUpdate = chart.get('isUpdate');\n      var canvas = chart.get('canvas');\n      var coord = chart.get('coord');\n      var geoms = chart.get('geoms');\n      var caches = canvas.get('caches') || [];\n\n      if (caches.length === 0) {\n        isUpdate = false;\n      }\n\n      var cacheShapes = getShapes(geoms, chart, coord);\n\n      var _chart$get = chart.get('axisController'),\n          frontPlot = _chart$get.frontPlot,\n          backPlot = _chart$get.backPlot;\n\n      var axisShapes = frontPlot.get('children').concat(backPlot.get('children'));\n      var guideShapes = [];\n\n      if (chart.get('guideController')) {\n        guideShapes = chart.get('guideController').guideShapes;\n      }\n\n      var componentShapes = [];\n      axisShapes.concat(guideShapes).forEach(function (s) {\n        var className = s.get('className');\n\n        var animateCfg = _getAnimateCfgByShapeType(className, chart);\n\n        s.set('coord', coord);\n        s.set('animateCfg', animateCfg);\n        componentShapes.push(s);\n        cacheShapes.push(s);\n      });\n      canvas.set('caches', cache(cacheShapes));\n\n      if (isUpdate) {\n        addAnimate(caches, cacheShapes, canvas);\n      } else {\n        // do the appear animation\n        var animateCfg;\n        var animate;\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var geomCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n          if (geomCfg !== false) {\n            animateCfg = getAnimateCfg(type, 'appear', geomCfg);\n            animate = getAnimate(type, coord, 'appear', animateCfg.animation);\n\n            if (isFunction(animate)) {\n              var shapes = geom.get('shapes');\n              each(shapes, function (shape) {\n                animate(shape, animateCfg, coord);\n              });\n            } else if (GROUP_ANIMATION[type]) {\n              // do the default animation\n              animate = GroupAction[animateCfg.animation] || GROUP_ANIMATION[type](coord);\n              var yScale = geom.getYScale();\n              var zeroY = coord.convertPoint({\n                x: 0,\n                y: yScale.scale(geom.getYMinValue())\n              });\n              var container = geom.get('container');\n              animate && animate(container, animateCfg, coord, zeroY);\n            }\n          }\n        }); // do the animation of components\n\n        each(componentShapes, function (shape) {\n          var animateCfg = shape.get('animateCfg');\n          var className = shape.get('className');\n\n          if (animateCfg && animateCfg.appear) {\n            // if user configure\n            var defaultCfg = Animate.getAnimateCfg(className, 'appear');\n            var appearCfg = deepMix({}, defaultCfg, animateCfg.appear);\n\n            var _animate = getAnimate(className, coord, 'appear', appearCfg.animation);\n\n            if (isFunction(_animate)) {\n              _animate(shape, appearCfg, coord);\n            }\n          }\n        });\n      }\n    }\n\n    function afterCanvasDestroyed()\n    /* chart */\n    {\n      timeline.stop();\n    }\n    var detail = {\n      afterCanvasInit: afterCanvasInit,\n      beforeCanvasDraw: beforeCanvasDraw,\n      afterCanvasDestroyed: afterCanvasDestroyed\n    };\n\n    var Animation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        afterCanvasInit: afterCanvasInit,\n        beforeCanvasDraw: beforeCanvasDraw,\n        afterCanvasDestroyed: afterCanvasDestroyed,\n        'default': detail\n    });\n\n    Chart._Interactions = {};\n\n    Chart.registerInteraction = function (type, constructor) {\n      Chart._Interactions[type] = constructor;\n    };\n\n    Chart.getInteraction = function (type) {\n      return Chart._Interactions[type];\n    };\n\n    Chart.prototype.interaction = function (type, cfg) {\n      var interactions = this._interactions || {};\n\n      if (interactions[type]) {\n        // if reprated, destroy last\n        interactions[type].destroy();\n      }\n\n      var Ctor = Chart.getInteraction(type);\n      var interact = new Ctor(cfg, this);\n      interactions[type] = interact;\n      this._interactions = interactions;\n      return this;\n    };\n\n    Chart.prototype.clearInteraction = function (type) {\n      var interactions = this._interactions;\n      if (!interactions) return;\n\n      if (type) {\n        interactions[type] && interactions[type].destroy();\n        delete interactions[type];\n      } else {\n        each(interactions, function (interaction, key) {\n          interaction.destroy();\n          delete interactions[key];\n        });\n      }\n\n      return this;\n    };\n\n    function isValuesEqual(values, newValues) {\n      if (values.length !== newValues.length) {\n        return false;\n      }\n\n      var lastIndex = values.length - 1;\n      return values[0] === newValues[0] && values[lastIndex] === newValues[lastIndex];\n    } // 不同交互之间共享的上下文\n\n\n    var defaultRange = [0, 1];\n\n    var Context = /*#__PURE__*/function () {\n      // 最开始的原始值\n      // 当前显示的范围\n      // 缩放最小的点数\n      // 最小的缩放比例, 默认通过minCount计算\n      // minScale = 0.01;\n      // 交互开始时，ticks个数，主要为了每次缩放后，更新ticks个数\n      // lastTickCount;\n      function Context(chart) {\n        var _this = this;\n\n        _defineProperty(this, \"chart\", null);\n\n        _defineProperty(this, \"values\", null);\n\n        _defineProperty(this, \"range\", defaultRange);\n\n        _defineProperty(this, \"startRange\", defaultRange);\n\n        _defineProperty(this, \"minCount\", 10);\n\n        _defineProperty(this, \"_afterinit\", function () {\n          // 初始化value值\n          var scale = _this.getPinchScale(); // 记录原始全量数据\n\n\n          var values = [].concat(scale.values);\n          _this.values = values; // 最小的缩放比例\n\n          if (!_this.minScale) {\n            _this.minScale = _this.minCount / values.length;\n          } // 初始化的时候有设置range，则初始化成默认比例\n\n\n          if (_this.range !== defaultRange) {\n            _this.updateRange(_this.range);\n\n            _this.updateTicks();\n          }\n        });\n\n        _defineProperty(this, \"_afterdatachange\", function () {\n          _this.updateRange(_this.range);\n        });\n\n        this.chart = chart;\n\n        this._initEvent(chart);\n      }\n\n      var _proto = Context.prototype;\n\n      _proto._initEvent = function _initEvent(chart) {\n        // 在整体初始化后还需要设置一些初始状态\n        chart.on(EVENT_AFTER_INIT, this._afterinit);\n        chart.on(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      } // 缩放的主轴scale\n      ;\n\n      _proto.getPinchScale = function getPinchScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scale = chart.getXScale();\n        return scale;\n      } // 跟随轴的scale\n      ;\n\n      _proto.getFollowScale = function getFollowScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scales = chart.getYScales() || [];\n        return scales[0];\n      };\n\n      _proto.start = function start() {\n        var range = this.range;\n        var scale = this.getPinchScale();\n        var start = range[0],\n            end = range[1]; // 记录交互起始的范围\n\n        this.startRange = [start, end]; // 记录开始时的ticks个数\n\n        this.lastTickCount = scale.tickCount;\n      };\n\n      _proto.doZoom = function doZoom(leftScale, rightScale, zoom) {\n        var range = this.startRange,\n            minScale = this.minScale;\n        var start = range[0],\n            end = range[1];\n        var zoomOffset = 1 - zoom;\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * zoomOffset;\n        var leftOffset = rangeOffset * leftScale;\n        var rightOffset = rangeOffset * rightScale;\n        var newStart = Math.max(0, start - leftOffset);\n        var newEnd = Math.min(1, end + rightOffset);\n        var newRange = [newStart, newEnd]; // 如果已经到了最小比例，则不能再继续再放大\n\n        if (newEnd - newStart < minScale) {\n          return;\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.doMove = function doMove(ratio) {\n        // 不管是0， 还是其他，都不用处理\n        if (!ratio) return;\n        var range = this.startRange;\n        var start = range[0],\n            end = range[1];\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * ratio;\n        var newStart = start - rangeOffset;\n        var newEnd = end - rangeOffset; // 处理边界值\n\n        var newRange;\n\n        if (newStart < 0) {\n          newRange = [0, rangeLen];\n        } else if (newEnd > 1) {\n          newRange = [1 - rangeLen, 1];\n        } else {\n          newRange = [newStart, newEnd];\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.updateRange = function updateRange(range) {\n        var values = this.values; // 0， 1 的范围之间\n\n        var start = range[0],\n            end = range[1]; // start 不能小于0\n\n        start = Math.max(0, start); // end 不能大于1\n\n        end = Math.min(1, end); // 设置当前的范围\n\n        this.range = [start, end];\n        var len = values.length;\n        var valueStart = start * len;\n        var valueEnd = end * len; // 从原始数据里截取需要显示的数据\n\n        var newValues = values.slice(valueStart, valueEnd);\n        this.repaint(newValues);\n      };\n\n      _proto.repaint = function repaint(newValues) {\n        var chart = this.chart;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            ticks = scale.ticks; // 如果新数组和当前显示的数组相同，则不更新\n\n        if (isValuesEqual(currentValues, newValues)) {\n          return;\n        } // 更新主轴values\n\n\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: newValues\n        });\n        this.updateFollowScale(scale, newValues);\n        chart.repaint();\n      };\n\n      _proto.updateFollowScale = function updateFollowScale(pinchScale, pinchValues) {\n        var chart = this.chart;\n        var followScale = this.getFollowScale();\n        var pinchField = pinchScale.field,\n            pinchScaleType = pinchScale.type;\n        var followField = followScale.field; // 根据主轴的value值，找到所有从轴的value值\n\n        var values = []; // 转成map，让查找性能更高\n\n        var pinchValueMap = {};\n        pinchValues.forEach(function (item) {\n          pinchValueMap[item] = true;\n        });\n        var data = chart.get('data');\n        data.forEach(function (item) {\n          if (pinchScaleType === 'timeCat') {\n            var value = toTimeStamp(item[pinchField]);\n\n            if (pinchValueMap[value]) {\n              values.push(item[followField]);\n            }\n          }\n        });\n\n        var _getRange = getRange$1(values),\n            min = _getRange.min,\n            max = _getRange.max;\n\n        this.updateScale(followScale, {\n          min: min,\n          max: max,\n          nice: true\n        });\n      };\n\n      _proto.updateScale = function updateScale(scale, cfg) {\n        if (!scale) {\n          return;\n        }\n\n        scale.change(cfg);\n      } // 上一次的tick个数\n      ;\n\n      _proto.updateTicks = function updateTicks() {\n        var chart = this.chart,\n            values = this.values;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            tickCount = scale.tickCount; // 根据当前数据的比例，和定义的tickCount计算应该需要多少个ticks\n\n        var newTickCount = Math.round(tickCount * values.length / currentValues.length);\n        var catTicks = getTickMethod('cat');\n        var ticks = catTicks({\n          tickCount: newTickCount,\n          values: values\n        });\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: currentValues\n        }); // 更新完后，需要重新绘制一次\n\n        chart.repaint();\n      };\n\n      _proto.destroy = function destroy() {\n        var chart = this.chart;\n        chart.off(EVENT_AFTER_INIT, this._afterinit);\n        chart.off(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      };\n\n      return Context;\n    }();\n\n    var Base$2 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      // 交互的上下文\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      _proto.getInteractionContext = function getInteractionContext(chart) {\n        var interactionContext = chart.get('interactionContext');\n\n        if (interactionContext) {\n          return interactionContext;\n        }\n\n        interactionContext = new Context(chart);\n        chart.set('interactionContext', interactionContext);\n        return interactionContext;\n      };\n\n      function Base(cfg, chart) {\n        var _this = this;\n\n        _defineProperty(this, \"type\", '');\n\n        _defineProperty(this, \"startEvent\", 'touchstart');\n\n        _defineProperty(this, \"processEvent\", 'touchmove');\n\n        _defineProperty(this, \"endEvent\", 'touchend');\n\n        _defineProperty(this, \"resetEvent\", null);\n\n        _defineProperty(this, \"context\", null);\n\n        _defineProperty(this, \"_start\", function (ev) {\n          _this.preStart && _this.preStart(ev);\n\n          _this.start(ev);\n\n          _this.onStart && _this.onStart(ev);\n        });\n\n        _defineProperty(this, \"_process\", function (ev) {\n          _this.preProcess && _this.preProcess(ev);\n\n          _this.process(ev);\n\n          _this.onProcess && _this.onProcess(ev);\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          _this.preEnd && _this.preEnd(ev);\n\n          _this.end(ev);\n\n          _this.onEnd && _this.onEnd(ev);\n        });\n\n        _defineProperty(this, \"_reset\", function (ev) {\n          _this.preReset && _this.preReset(ev);\n\n          _this.reset(ev);\n\n          _this.onReset && _this.onReset(ev);\n        });\n\n        mix(this, this.getDefaultCfg(), cfg);\n        this.context = this.getInteractionContext(chart);\n        this.chart = chart; // 只处理range, 暂时先这么处理后面再看情况调整\n\n        var range = this.range;\n\n        if (range) {\n          this.context.range = range;\n        }\n\n        this._bindEvents(chart);\n      }\n\n      _proto._bindEvents = function _bindEvents(chart) {\n        var startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.on(startEvent, this._start);\n        canvas.on(processEvent, this._process);\n        canvas.on(endEvent, this._end);\n        canvas.on(resetEvent, this._reset);\n      };\n\n      _proto._clearEvents = function _clearEvents() {\n        var chart = this.chart,\n            startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.off(startEvent, this._start);\n        canvas.off(processEvent, this._process);\n        canvas.off(endEvent, this._end);\n        canvas.off(resetEvent, this._start);\n      };\n\n      // override\n      _proto.start = function start() {} // override\n      ;\n\n      _proto.process = function process() {} // override\n      ;\n\n      _proto.end = function end() {} // override\n      ;\n\n      _proto.reset = function reset() {};\n\n      _proto.destroy = function destroy() {\n        this.context.destroy();\n\n        this._clearEvents();\n      };\n\n      return Base;\n    }();\n\n    var Pan = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pan, _Base);\n\n      function Pan() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Pan.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pan',\n          startEvent: 'panstart',\n          processEvent: 'pan',\n          endEvent: 'panend'\n        };\n      };\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        var direction = e.direction,\n            deltaX = e.deltaX;\n\n        if (direction === 'up' || direction === 'down') {\n          return;\n        }\n\n        e.preventDefault && e.preventDefault();\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var ratio = deltaX / coordWidth;\n        context.doMove(ratio);\n      };\n\n      return Pan;\n    }(Base$2);\n\n    var Pinch = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pinch, _Base);\n\n      var _proto = Pinch.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pinch',\n          startEvent: 'pinchstart',\n          processEvent: 'pinch',\n          endEvent: 'pinchend'\n        };\n      };\n\n      function Pinch(cfg, chart) {\n        var _this;\n\n        _this = _Base.call(this, cfg, chart) || this;\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            context = _assertThisInitialize.context;\n\n        mix(context, cfg);\n        return _this;\n      }\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        e.preventDefault && e.preventDefault();\n        var zoom = e.zoom,\n            center = e.center;\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var leftLen = Math.abs(center.x - start.x);\n        var rightLen = Math.abs(end.x - center.x); // 计算左右缩放的比例\n\n        var leftScale = leftLen / coordWidth;\n        var rightScale = rightLen / coordWidth;\n        context.doZoom(leftScale, rightScale, zoom);\n      };\n\n      _proto.end = function end() {\n        // 缩放完成后再更新ticks\n        var context = this.context;\n        context.updateTicks();\n      };\n\n      return Pinch;\n    }(Base$2);\n\n    Chart.registerInteraction('pan', Pan);\n    Chart.registerInteraction('pinch', Pinch);\n\n    /**\n     * Default, without interactins\n     */\n    var Component = {\n      // 为了兼容之前版本\n      Marker: Shape$2.Marker,\n      Tooltip: Tooltip\n    }; // register plugins\n\n    Chart.plugins.register([Tooltip$1, Legend, Guide, Animation]); // 默认添加交互\n    var index = {\n      Component: Component,\n      Global: Global,\n      Chart: Chart,\n      Shape: Shape$1,\n      G: G,\n      Util: Util,\n      Helper: Helper,\n      track: track,\n      Animate: Animate\n    };\n\n    exports.Animate = Animate;\n    exports.Chart = Chart;\n    exports.Component = Component;\n    exports.G = G;\n    exports.Global = Global;\n    exports.Helper = Helper;\n    exports.Shape = Shape$1;\n    exports.Util = Util;\n    exports.default = index;\n    exports.track = track;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}