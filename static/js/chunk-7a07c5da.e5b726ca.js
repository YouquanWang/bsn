(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a07c5da"],{"071a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAJ1BMVEUAAABFKntFKnpVKoBFKnlFKnpFKnpEKnlEKnpEKXtFKXpAKoBFKno2lUxJAAAADHRSTlMAhbIGeO/ZpNhwbwxmN0n6AAAAWElEQVQY02OgGCwthjKYSycw5BwygHCMziQw+JxRhkjonHFgYDwDlAJLHASSMkApsIQAkAJJQSUgUlAJqBRYAiqlDZaASh0FScClQBIwKaAEAng4MFAfAACz1R8N41BpSAAAAABJRU5ErkJggg=="},"0cb2":function(e,t,n){var a=n("7b0b"),c=Math.floor,r="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,o,l,u){var d=n+e.length,p=o.length,b=s;return void 0!==l&&(l=a(l),b=i),r.call(u,b,(function(a,r){var i;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":i=l[r.slice(1,-1)];break;default:var s=+r;if(0===s)return a;if(s>p){var u=c(s/10);return 0===u?a:u<=p?void 0===o[u-1]?r.charAt(1):o[u-1]+r.charAt(1):a}i=o[s-1]}return void 0===i?"":i}))}},"0dd8":function(e,t,n){"use strict";n("b320")},"10f2":function(e,t,n){},"14c3":function(e,t,n){var a=n("c6b6"),c=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var r=n.call(e,t);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return c.call(e,t)}},2529:function(e,t,n){"use strict";n("f9e2")},"25f0":function(e,t,n){"use strict";var a=n("6eeb"),c=n("825a"),r=n("d039"),i=n("ad6d"),s="toString",o=RegExp.prototype,l=o[s],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&a(RegExp.prototype,s,(function(){var e=c(this),t=String(e.source),n=e.flags,a=String(void 0===n&&e instanceof RegExp&&!("flags"in o)?i.call(e):n);return"/"+t+"/"+a}),{unsafe:!0})},"26f1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAOVBMVEUAAAAfx9Qfx9Uky9Iex9QYyc4fx9Qfx9QcxtUfx9QfyNQfx9Qfx9MeyNMcxtAfx9Qex9Qfx9Qfx9TWk5SmAAAAEnRSTlMA+oQGbgr0yBHcz8V6bxvQdtHGrpxGAAAAtElEQVQ4y+2Uyw6DIBBFHUCgPtvz/x9bE6cGdTQuurBJz3JymHAJuVVB7R7CgjxcXZnULRta23TscFvHhxSZ6Hwx65iIKRSzoWHGr66iw2ZYzqq326iMn2kACdm+Yw4CQcUE/XHqJyQVBfLxO2YQFYHqBOD3RCdsEGeKwo54eeM/9c1SizNEM3W8vPGmP/xrojbFIRli2T022j3rNrNYt5kfOeXly8Y9ZhyKdu1TxCSmft73BpxYJqN+c+7xAAAAAElFTkSuQmCC"},"37f9":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=Object(a["N"])("data-v-172bb754");Object(a["A"])("data-v-172bb754");var r={class:"container bg-container",id:"indexPage"};Object(a["y"])();var i=c((function(e,t,n,i,s,o){var l=Object(a["E"])("van-nav-bar"),u=Object(a["E"])("index-option"),d=Object(a["E"])("van-tab"),p=Object(a["E"])("index-pool"),b=Object(a["E"])("van-tabs");return Object(a["x"])(),Object(a["f"])("div",r,[Object(a["i"])(l,{title:"BSC期权"}),Object(a["i"])(b,{active:e.tabsActive,"onUpdate:active":t[1]||(t[1]=function(t){return e.tabsActive=t}),onClick:e.tabClick,type:"card",class:"fixed-tab"},{default:c((function(){return[Object(a["i"])(d,{title:"期权",name:"1"},{default:c((function(){return[Object(a["i"])(u)]})),_:1}),Object(a["i"])(d,{title:"矿池",name:"2"},{default:c((function(){return[Object(a["i"])(p)]})),_:1})]})),_:1},8,["active","onClick"])])})),s=n("5530"),o=(n("b0c0"),n("5319"),n("ac1f"),n("6c02")),l=(n("a9e3"),n("b680"),n("071a")),u=n.n(l),d=n("c1fe"),p=n.n(d),b=Object(a["N"])("data-v-a7d4df5e");Object(a["A"])("data-v-a7d4df5e");var f={id:"indexOption"},m={class:"qq-chart"},O={class:"flex-middle coin-title"},y=Object(a["h"])("BETH"),j={class:"coin-num"},x={class:"flex-middle"},v={class:"price"},w={class:"coin-address"},h={class:"qq-block--cont"},A={class:"cell-tit flex-between"},k=Object(a["h"])(" 请选择委托周期 "),g=Object(a["h"])("历史记录"),C=Object(a["i"])("div",{class:"cell-tit"},"请输入委托数量",-1),B={class:"cell-number flex-wrap"},T=Object(a["i"])("span",null,"100BUSD",-1),M=Object(a["i"])("span",null,"200BUSD",-1),E=Object(a["i"])("span",null,"1000BUSD",-1),D=Object(a["i"])("span",{class:"input-right"},"BUSD",-1),R={key:0,class:"cell-tit"},F={key:1,class:"cell-type flex"},S={key:2,class:"cell-type flex"},U=Object(a["i"])("div",{class:"cell-msg"},[Object(a["h"])("注：一个地址在一个区块内仅接受"),Object(a["i"])("span",{class:"c-1FC7D4"},"一次转账"),Object(a["h"])("，且单笔转账不能超过"),Object(a["i"])("span",{class:"c-1FC7D4"},"100000BUSD"),Object(a["h"])("，超出将按照上限记录下单金额，多余部分在下一区块退回。")],-1),K={class:"qq-block--record"},I={class:"record-item"},N={class:"flex-between title"},_={class:"flex-item"},V={key:0,class:"status"},z={key:0,class:"c-2FBBA1"},P={key:1,class:"c-D4566C"},Q={key:1,class:"status"},H={class:"flex"},W={class:"flex-item"},J=Object(a["h"])("委托方向："),L={key:0,class:"c-D4566C"},G={key:1,class:"c-2FBBA1"},q={class:"flex-item text-r"},Y={class:"flex"},X={key:0,class:"flex-item"},Z={key:1,class:"flex-item"},$={key:2,class:"flex-item"},ee={class:"flex-item text-r"},te={key:0,class:"flex"},ne={class:"flex-item"},ae=Object(a["h"])("额外获得："),ce={key:0,class:"c-2FBBA1"},re=Object(a["h"])(),ie={key:1,class:"c-2FBBA1"},se={class:"modal-box"},oe=Object(a["i"])("div",{class:"modal-title"},"确认委托",-1),le={class:"modal-cont"},ue={class:"row flex"},de=Object(a["i"])("div",{class:"label"},"委托周期：",-1),pe={class:"cont text-r flex-item"},be={class:"row flex"},fe=Object(a["i"])("div",{class:"label"},"委托方向：",-1),me={class:"cont text-r flex-item"},Oe={key:0,class:"c-2FBBA1"},ye={key:1,class:"c-D4566C"},je={class:"row flex"},xe=Object(a["i"])("div",{class:"label"},"委托金额：",-1),ve={class:"cont text-r flex-item"},we={key:0,class:"modal-btn"},he=Object(a["h"])("确定"),Ae={key:1,class:"modal-btn"},ke=Object(a["h"])("授权BUSD");Object(a["y"])();var ge=b((function(e,t,c,r,i,s){var o=Object(a["E"])("router-link"),l=Object(a["E"])("van-field"),d=Object(a["E"])("van-tab"),ge=Object(a["E"])("van-tabs"),Ce=Object(a["E"])("van-picker"),Be=Object(a["E"])("van-popup"),Te=Object(a["E"])("van-button");return Object(a["x"])(),Object(a["f"])(a["a"],null,[Object(a["i"])("div",f,[Object(a["i"])("div",m,[Object(a["i"])("div",O,[y,Object(a["i"])("img",{src:u.a,alt:"",srcset:"".concat(n("6997")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),Object(a["i"])("div",j,[Object(a["i"])("div",x,[Object(a["i"])("span",v,Object(a["H"])(e.price)+"BUSDT",1)])]),Object(a["i"])("div",w," 地址 "+Object(a["H"])(e.address),1)]),Object(a["i"])(ge,{onClick:e.blockClick,active:e.blockName,"onUpdate:active":t[10]||(t[10]=function(t){return e.blockName=t}),type:"card",class:"qq-block--tab"},{default:b((function(){return[Object(a["i"])(d,{title:"期权",name:"qq"},{default:b((function(){return[Object(a["i"])("div",h,[Object(a["i"])("div",A,[k,Object(a["i"])(o,{class:"cell-tit--right",to:{name:"List"}},{default:b((function(){return[g]})),_:1})]),Object(a["i"])("div",{class:"cell-sellect flex-between",onClick:t[1]||(t[1]=function(t){return e.showColumnsPicker=!0})},[Object(a["h"])(Object(a["H"])(e.columnsValue)+" ",1),Object(a["i"])("img",{src:u.a,alt:"",srcset:"".concat(n("6997")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),C,Object(a["i"])("div",B,[Object(a["i"])("div",{class:["item",{active:"100"==e.amount}],onClick:t[2]||(t[2]=function(t){return e.changeAmount("100")})},[T],2),Object(a["i"])("div",{class:["item",{active:"200"==e.amount}],onClick:t[3]||(t[3]=function(t){return e.changeAmount("200")})},[M],2),Object(a["i"])("div",{class:["item",{active:"1000"==e.amount}],onClick:t[4]||(t[4]=function(t){return e.changeAmount("1000")})},[E],2)]),Object(a["i"])(l,{class:"mb15",type:"number",modelValue:e.amount,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.amount=t}),placeholder:"请输入您的委托数量"},{extra:b((function(){return[D]})),_:1},8,["modelValue"]),e.curMarketType?(Object(a["x"])(),Object(a["f"])("div",R,"委托限制："+Object(a["H"])(e.curMarketType.minAmount/Math.pow(10,6))+"BUSD-"+Object(a["H"])(e.curMarketType.maxAmount/Math.pow(10,6))+"BUSD",1)):Object(a["g"])("",!0),e.address?(Object(a["x"])(),Object(a["f"])("div",F,[Object(a["i"])("div",{class:["btn flex-item",{"active-2FBBA1":1===e.wtType}],onClick:t[6]||(t[6]=function(t){return e.changeWtType(1)})},"看涨",2),Object(a["i"])("div",{class:["btn flex-item",{"active-D4566C":0===e.wtType}],onClick:t[7]||(t[7]=function(t){return e.changeWtType(0)})},"看跌",2)])):(Object(a["x"])(),Object(a["f"])("div",S,[Object(a["i"])("div",{class:"btn flex-item active-D4566C",onClick:t[8]||(t[8]=function(){return e.initWallet&&e.initWallet.apply(e,arguments)})},"连接钱包")])),U])]})),_:1}),Object(a["i"])(d,{title:"流水记录",class:"ls"},{default:b((function(){return[Object(a["i"])("div",K,[Object(a["i"])(ge,{active:e.isOpen,"onUpdate:active":t[9]||(t[9]=function(t){return e.isOpen=t}),class:"qq-block--recordtab","line-width":"25px"},{default:b((function(){return[Object(a["i"])(d,{title:"已开奖"}),Object(a["i"])(d,{title:"未开奖"})]})),_:1},8,["active"]),Object(a["i"])("div",null,[(Object(a["x"])(!0),Object(a["f"])(a["a"],null,Object(a["D"])(e.records,(function(t){return Object(a["M"])((Object(a["x"])(),Object(a["f"])("div",I,[Object(a["i"])("div",N,[Object(a["i"])("div",_,Object(a["H"])(t.investor),1),t.isOpen&&t.openPrice!=t.busdPerBeth?(Object(a["x"])(),Object(a["f"])("div",V,[t.openPrice-t.busdPerBeth>0?(Object(a["x"])(),Object(a["f"])("span",z,"涨")):(Object(a["x"])(),Object(a["f"])("span",P,"跌"))])):Object(a["g"])("",!0),t.isOpen&&t.openPrice==t.busdPerBeth?(Object(a["x"])(),Object(a["f"])("div",Q,"返回本金")):Object(a["g"])("",!0)]),Object(a["i"])("div",H,[Object(a["i"])("div",W,[J,0==t.investType?(Object(a["x"])(),Object(a["f"])("span",L,"看跌")):(Object(a["x"])(),Object(a["f"])("span",G,"看涨"))]),Object(a["i"])("div",q,"委托数量："+Object(a["H"])(t.investAmount)+"BUSD",1)]),Object(a["i"])("div",Y,[!t.isWin&&t.isOpen?(Object(a["x"])(),Object(a["f"])("div",X,"委托本金：扣除")):t.isWin&&t.isOpen?(Object(a["x"])(),Object(a["f"])("div",Z,"委托本金：+"+Object(a["H"])(t.income)+"BUSD",1)):(Object(a["x"])(),Object(a["f"])("div",$,"委托本金：暂未开奖")),Object(a["i"])("div",ee,"区块："+Object(a["H"])(t.investBlock)+"-"+Object(a["H"])(t.openBlock),1)]),t.isOpen?(Object(a["x"])(),Object(a["f"])("div",te,[Object(a["i"])("div",ne,[ae,Number(t.income)?(Object(a["x"])(),Object(a["f"])("span",ce,Object(a["H"])(Number(t.income-t.investAmount).toFixed(2))+"BUSD",1)):Object(a["g"])("",!0),re,Number(t.windIncome)?(Object(a["x"])(),Object(a["f"])("span",ie,Object(a["H"])(t.windIncome)+"WIND",1)):Object(a["g"])("",!0)])])):Object(a["g"])("",!0)],512)),[[a["K"],t.isOpen==!e.isOpen]])})),256))])])]})),_:1})]})),_:1},8,["onClick","active"])]),Object(a["i"])(Be,{show:e.showColumnsPicker,"onUpdate:show":t[12]||(t[12]=function(t){return e.showColumnsPicker=t}),position:"bottom"},{default:b((function(){return[Object(a["i"])(Ce,{columns:e.columns,onConfirm:e.onColumnsConfirm,onCancel:t[11]||(t[11]=function(t){return e.showColumnsPicker=!1})},null,8,["columns","onConfirm"])]})),_:1},8,["show"]),Object(a["i"])(Be,{show:e.showModal,"onUpdate:show":t[14]||(t[14]=function(t){return e.showModal=t}),style:{background:"transparent"}},{default:b((function(){return[Object(a["i"])("div",se,[oe,Object(a["i"])("div",{class:"modal-close flex-center",onClick:t[13]||(t[13]=function(t){return e.showModal=!1})},[Object(a["i"])("img",{src:p.a,alt:"",srcset:"".concat(n("c319")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),Object(a["i"])("div",le,[Object(a["i"])("div",ue,[de,Object(a["i"])("div",pe,Object(a["H"])(e.curMarketType.duration)+"个块("+Object(a["H"])(e.curMarketType.minute)+"分钟)",1)]),Object(a["i"])("div",be,[fe,Object(a["i"])("div",me,[1===e.wtType?(Object(a["x"])(),Object(a["f"])("span",Oe,"看涨")):Object(a["g"])("",!0),0===e.wtType?(Object(a["x"])(),Object(a["f"])("span",ye,"看跌")):Object(a["g"])("",!0)])]),Object(a["i"])("div",je,[xe,Object(a["i"])("div",ve,Object(a["H"])(e.amount)+"BUSD",1)])]),Number(e.tokenAllowance)?(Object(a["x"])(),Object(a["f"])("div",we,[Object(a["i"])(Te,{type:"primary",onClick:e.invest,size:"large"},{default:b((function(){return[he]})),_:1},8,["onClick"])])):(Object(a["x"])(),Object(a["f"])("div",Ae,[Object(a["i"])(Te,{type:"primary",onClick:e.approve,size:"large"},{default:b((function(){return[ke]})),_:1},8,["onClick"])]))])]})),_:1},8,["show"])],64)})),Ce=n("1da1"),Be=(n("159b"),n("99af"),n("d3b7"),n("25f0"),n("96cf"),n("d399")),Te=n("d9d1"),Me=n("722f"),Ee=n("9d56"),De=n("01ea"),Re=n("ee10"),Fe=n("5502"),Se=n("99e5"),Ue=n.n(Se),Ke=n("fb9e"),Ie={setup:function(){var e=Object(Fe["b"])(),t=Object(a["B"])({showModal:!1,price:"",amount:"",blockName:"qq",columns:[],marketType:[],curMarketType:null,showColumnsPicker:!1,columnsValue:"请选择",wtType:1,isOpen:!1,address:Object(a["d"])((function(){return e.state.accounts[0]})),web3:Object(a["d"])((function(){return e.state.provider})),BsnContract:null,BusdContract:null,tokenAllowance:0,records:[],windTokenContract:null,BsnDataContract:null,changeTab:function(){t.isOpen=!t.isOpen},changeWtType:function(e){t.wtType=e,t.curMarketType?t.amount?t.showModal=!0:Object(Be["a"])("请输入投资金额"):Object(Be["a"])("请选择委托周期")},changeAmount:function(e){t.amount=e},onColumnsConfirm:function(e,n){t.columnsValue=e,t.showColumnsPicker=!1,t.curMarketType=t.marketType[n]},initWallet:function(){Re["a"].initWeb3()},initContract:function(){t.BsnContract=new t.web3.eth.Contract(Te,De["a"].BsnAddress),t.BusdContract=new t.web3.eth.Contract(Me,De["a"].BusdAddress),t.BsnDataContract=new t.web3.eth.Contract(Ke,De["a"].BsnDataAddress),t.windTokenContract=new t.web3.eth.Contract(Me,De["a"].windToken),t.initData()},initData:function(){t.getMarketTypeIds(),t.getEthUsdt(),t.getTokenAllowance(),t.getList()},getTokenAllowance:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.allowance(t.address,De["a"].BsnAddress).call();case 2:n=e.sent,t.tokenAllowance=n;case 4:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getMarketTypeIds:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.BsnContract),n=[],a=[],e.next=5,t.BsnContract.methods.getMarketTypeIds().call();case 5:c=e.sent,console.log(c),c.forEach(function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(c){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnContract.methods.marketTypes(c).call();case 2:r=e.sent,i={minute:r.minute,duration:r.duration,maxAmount:r.maxAmount,minAmount:r.minAmount},n.push(i),a.push("".concat(r.duration,"个块(").concat(r.minute,"分钟)"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.marketType=n,t.columns=a;case 10:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getEthUsdt:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnContract.methods.getEthUsd().call();case 2:n=e.sent,a=n/Math.pow(10,10),t.price=Number(a).toFixed(4);case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getList:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnDataContract.methods.getAllrecord().call();case 2:return n=e.sent,e.next=5,t.web3.eth.getBlockNumber();case 5:return a=e.sent,e.next=8,t.BusdContract.methods.decimals().call();case 8:return c=e.sent,e.next=11,t.windTokenContract.methods.decimals().call();case 11:r=e.sent,n.forEach(function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(n){var i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnDataContract.methods.getOrderById(n).call();case 2:return i=e.sent,e.next=5,t.BsnContract.methods.getBlockPrice(i.openBlock).call();case 5:return s=e.sent,e.next=8,t.BsnContract.methods.getWin(n).call();case 8:o=e.sent,console.log(o),s>0&&a>=i.openBlock&&!i.isOpen&&(i.canOpen=!0),s>0&&a>=i.openBlock&&(o.back>0?(i.income=Number(o.back/Math.pow(10,c)).toFixed(2),i.windIncome=Number(8*o.winTokenAmount/Math.pow(10,r)/9).toFixed(2),i.isWin=!0):(i.income=Number(o.back/Math.pow(10,r)).toFixed(2),i.windIncome=Number(8*o.winTokenAmount/Math.pow(10,r)/9).toFixed(2),i.isWin=!1)),s<=0&&(i.canOpen=!1),console.log(i),i.id=n,i.openPrice=s,i.investAmount=Number(i.investAmount/Math.pow(10,c)).toFixed(2),t.records.unshift(i);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),approve:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.approve(De["a"].BsnAddress,Ee["a"]).send({from:t.address});case 2:e.sent,t.getTokenAllowance();case 4:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),invest:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showModal=!1,e.next=3,t.BusdContract.methods.decimals().call();case 3:return n=e.sent,a=Ue.a.utils.BN,console.log(n),c=new a(t.amount*Math.pow(10,n)).toString(),e.next=9,t.BsnContract.methods.invest(t.wtType,t.curMarketType.minute,c).send({from:t.address});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()});t.address&&t.initContract(),Object(a["L"])((function(){return t.address}),(function(e){e&&t.initContract()}));var n=Object(a["I"])(t);return Object(s["a"])({},n)}};n("2529"),n("dc12");Ie.render=ge,Ie.__scopeId="data-v-a7d4df5e";var Ne=Ie,_e=n("26f1"),Ve=n.n(_e),ze=Object(a["N"])("data-v-1a980c0e");Object(a["A"])("data-v-1a980c0e");var Pe={id:"indexPool"},Qe={class:"pool-block qq-block--cont"},He=Object(a["i"])("div",{class:"pool-block--title"}," 流动性挖矿 ",-1),We={class:"flex-between cell-balance"},Je={class:"info-item flex-item"},Le=Object(a["i"])("p",{class:"tit"},"总冻结(wind token)",-1),Ge={class:"num c-2FBBA1"},qe={class:"info-item flex-item"},Ye={class:"tit flex-middle icon-box"},Xe=Object(a["h"])("我的冻结(wind token) "),Ze={class:"num c-D4566C"},$e={class:"cell-button flex"},et=Object(a["h"])("冻结"),tt=Object(a["h"])("解冻"),nt={class:"flex-between cell-balance border-1px-t"},at={class:"info-item flex-item"},ct=Object(a["i"])("p",{class:"tit fs12"},"锁仓累积分红(BUSD)",-1),rt={class:"num c-1FC7D4"},it={class:"info-item flex-item"},st=Object(a["i"])("p",{class:"tit fs12"},"挖矿(已挖出wind token)",-1),ot={class:"num c-1FC7D4"},lt={class:"flex-between cell-balance mt12"},ut={class:"info-item flex-item"},dt=Object(a["i"])("p",{class:"tit fs12"},"上轮分红总额(BUSD)",-1),pt={class:"num c-1FC7D4"},bt={class:"pool-block--tip"},ft={class:"flex-middle pool-block--link"},mt={class:"flex-item"},Ot=Object(a["h"])(" 领取记录>> "),yt={class:"pool-block qq-block--cont pool-block--bg"},jt=Object(a["i"])("div",{class:"pool-block--title"}," 锁仓分红 ",-1),xt={class:"flex-between cell-balance"},vt={class:"info-item flex-item"},wt=Object(a["i"])("p",{class:"tit"},"流动性挖矿总量(wind token)",-1),ht={class:"num big-num"},At={class:"flex-between cell-balance mt12"},kt={class:"info-item flex-item"},gt=Object(a["i"])("p",{class:"tit"},"流动性挖矿余额(BUSD)",-1),Ct={class:"num c-1FC7D4"},Bt={class:"info-item flex-item"},Tt=Object(a["i"])("p",{class:"tit"},"流动性挖矿损益(BUSD)",-1),Mt={class:"num c-2FBBA1"},Et={class:"cell-button flex"},Dt=Object(a["h"])("参与"),Rt=Object(a["h"])("赎回"),Ft={class:"flex-between cell-balance border-1px-t"},St={class:"info-item flex-item"},Ut=Object(a["i"])("p",{class:"tit"},"我的锁仓：",-1),Kt={class:"num big-num"},It={class:"flex-middle pool-block--link mt12"},Nt={class:"flex-item"},_t=Object(a["h"])(" 待领取金额记录>> "),Vt={key:1,class:"btn"},zt={class:"modal-box"},Pt=Object(a["i"])("div",{class:"modal-title"},"参与",-1),Qt={class:"modal-cont"},Ht=Object(a["i"])("span",{class:"input-right"},"BUSD",-1),Wt={class:"modal-btn"},Jt=Object(a["h"])("连接钱包"),Lt=Object(a["h"])("授权BUSD"),Gt=Object(a["h"])("确定"),qt={class:"modal-box"},Yt=Object(a["i"])("div",{class:"modal-title"},"赎回",-1),Xt={class:"modal-cont"},Zt={class:"modal-tip flex-between"},$t=Object(a["i"])("div",null,"赎回数量",-1),en={class:"c-1FC7D4"},tn={class:"modal-btn"},nn=Object(a["h"])("连接钱包"),an=Object(a["h"])("确定"),cn={class:"modal-box"},rn=Object(a["i"])("div",{class:"modal-title"},"冻结wind token",-1),sn={class:"modal-cont"},on={class:"modal-tip flex-between"},ln=Object(a["i"])("div",null,"余额",-1),un={class:"c-1FC7D4"},dn={class:"modal-btn"},pn=Object(a["h"])("连接钱包"),bn=Object(a["h"])("授权Wind Token"),fn=Object(a["h"])("确定"),mn={class:"modal-box"},On=Object(a["i"])("div",{class:"modal-title"},"解冻",-1),yn={class:"modal-cont"},jn={class:"modal-tip flex-between"},xn=Object(a["i"])("div",null,"解冻数量",-1),vn={class:"c-1FC7D4"},wn={class:"modal-btn"},hn=Object(a["h"])("连接钱包"),An=Object(a["h"])("确定");Object(a["y"])();var kn=ze((function(e,t,c,r,i,s){var o=Object(a["E"])("router-link"),l=Object(a["E"])("van-button"),u=Object(a["E"])("van-picker"),d=Object(a["E"])("van-popup"),b=Object(a["E"])("van-field");return Object(a["x"])(),Object(a["f"])("div",Pe,[Object(a["i"])("div",Qe,[He,Object(a["i"])("div",We,[Object(a["i"])("div",Je,[Le,Object(a["i"])("p",Ge,Object(a["H"])(e.freezeTokenNum),1)]),Object(a["i"])("div",qe,[Object(a["i"])("p",Ye,[Xe,Object(a["i"])(o,{class:"icon-right",to:{name:"ListFreeze"}},{default:ze((function(){return[Object(a["i"])("img",{src:Ve.a,alt:"",srcset:"".concat(n("af2d")," 3x"),class:"icon-record"},null,8,["srcset"])]})),_:1})]),Object(a["i"])("p",Ze,Object(a["H"])(e.userBlance),1)])]),Object(a["i"])("div",$e,[Object(a["i"])(l,{type:"primary",size:"large",color:"#8F80BA",onClick:t[1]||(t[1]=function(t){return e.showDjModal=!0})},{default:ze((function(){return[et]})),_:1}),Object(a["i"])(l,{type:"primary",size:"large",onClick:t[2]||(t[2]=function(t){return e.showShModal=!0})},{default:ze((function(){return[tt]})),_:1})]),Object(a["i"])("div",nt,[Object(a["i"])("div",at,[ct,Object(a["i"])("p",rt,Object(a["H"])(e.totalPool),1)]),Object(a["i"])("div",it,[st,Object(a["i"])("p",ot,Object(a["H"])(e.totalMarketWind),1)])]),Object(a["i"])("div",lt,[Object(a["i"])("div",ut,[dt,Object(a["i"])("p",pt,Object(a["H"])(e.yesPool),1)])]),Object(a["i"])("div",bt,"我的待领取收益："+Object(a["H"])(e.freezeIncome)+" BUSD",1),Object(a["i"])("div",ft,[Object(a["i"])("div",mt,[Object(a["i"])(o,{class:"c-1FC7D4",to:{name:"FrozenPool"}},{default:ze((function(){return[Ot]})),_:1})]),Number(e.freezeIncome)?(Object(a["x"])(),Object(a["f"])("div",{key:0,class:"btn",onClick:t[3]||(t[3]=function(){return e.getReward&&e.getReward.apply(e,arguments)})},"领取")):Object(a["g"])("",!0)])]),Object(a["i"])("div",yt,[jt,Object(a["i"])("div",xt,[Object(a["i"])("div",vt,[wt,Object(a["i"])("p",ht,Object(a["H"])(e.totalMarketWind),1)])]),Object(a["i"])("div",At,[Object(a["i"])("div",kt,[gt,Object(a["i"])("p",Ct,Object(a["H"])(e.marketToTalMoney),1)]),Object(a["i"])("div",Bt,[Tt,Object(a["i"])("p",Mt,Object(a["H"])(Number(e.curCycleIncome-e.marketToTalMoney).toFixed(2)),1)])]),Object(a["i"])("div",Et,[Object(a["i"])(l,{type:"primary",size:"large",color:"#8F80BA",onClick:t[4]||(t[4]=function(t){return e.showCyModal=!0})},{default:ze((function(){return[Dt]})),_:1}),Object(a["i"])(l,{type:"primary",size:"large",onClick:t[5]||(t[5]=function(t){return e.showModal=!0})},{default:ze((function(){return[Rt]})),_:1})]),Object(a["i"])("div",Ft,[Object(a["i"])("div",St,[Ut,Object(a["i"])("p",Kt,Object(a["H"])(e.userMarket)+" BUSD",1)])]),Object(a["i"])("div",It,[Object(a["i"])("div",Nt,[Object(a["i"])(o,{class:"c-1FC7D4",to:{name:"ListPool"}},{default:ze((function(){return[_t]})),_:1})]),Number(e.marketIncome)>0&&!e.isGet?(Object(a["x"])(),Object(a["f"])("div",{key:0,class:"btn",onClick:t[6]||(t[6]=function(){return e.receiveMarketIncome&&e.receiveMarketIncome.apply(e,arguments)})},"领取")):Number(e.userMarket)>0&&e.isGet?(Object(a["x"])(),Object(a["f"])("div",Vt,"已领取")):Object(a["g"])("",!0)])]),Object(a["i"])(d,{show:e.showDayPicker,"onUpdate:show":t[8]||(t[8]=function(t){return e.showDayPicker=t}),position:"bottom"},{default:ze((function(){return[Object(a["i"])(u,{columns:e.day,onConfirm:e.onDayConfirm,onCancel:t[7]||(t[7]=function(t){return e.showDayPicker=!1})},null,8,["columns","onConfirm"])]})),_:1},8,["show"]),Object(a["i"])(d,{show:e.showCyModal,"onUpdate:show":t[11]||(t[11]=function(t){return e.showCyModal=t}),style:{background:"transparent"}},{default:ze((function(){return[Object(a["i"])("div",zt,[Pt,Object(a["i"])("div",{class:"modal-close flex-center",onClick:t[9]||(t[9]=function(t){return e.showCyModal=!1})},[Object(a["i"])("img",{src:p.a,alt:"",srcset:"".concat(n("c319")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),Object(a["i"])("div",Qt,[Object(a["i"])(b,{type:"number",modelValue:e.amount,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.amount=t}),placeholder:"请输入您的委托数量"},{extra:ze((function(){return[Ht]})),_:1},8,["modelValue"])]),Object(a["i"])("div",Wt,[e.address?Number(e.tokenAllowance)?(Object(a["x"])(),Object(a["f"])(l,{key:2,type:"primary",block:!0,size:"large",onClick:e.addpoolMoney},{default:ze((function(){return[Gt]})),_:1},8,["onClick"])):(Object(a["x"])(),Object(a["f"])(l,{key:1,type:"primary",size:"large",onClick:e.approve},{default:ze((function(){return[Lt]})),_:1},8,["onClick"])):(Object(a["x"])(),Object(a["f"])(l,{key:0,type:"primary",size:"large",onClick:e.initWallet},{default:ze((function(){return[Jt]})),_:1},8,["onClick"]))])])]})),_:1},8,["show"]),Object(a["i"])(d,{show:e.showModal,"onUpdate:show":t[14]||(t[14]=function(t){return e.showModal=t}),style:{background:"transparent"}},{default:ze((function(){return[Object(a["i"])("div",qt,[Yt,Object(a["i"])("div",{class:"modal-close flex-center",onClick:t[12]||(t[12]=function(t){return e.showModal=!1})},[Object(a["i"])("img",{src:p.a,alt:"",srcset:"".concat(n("c319")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),Object(a["i"])("div",Xt,[Object(a["i"])("div",Zt,[$t,Object(a["i"])("div",en,"上限："+Object(a["H"])(e.userMarket),1)]),Object(a["i"])(b,{type:"number",modelValue:e.wAmount,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.wAmount=t}),placeholder:"请输入赎回BUSD token"},null,8,["modelValue"])]),Object(a["i"])("div",tn,[e.address?(Object(a["x"])(),Object(a["f"])(l,{key:1,type:"primary",size:"large",onClick:e.markerRedeem},{default:ze((function(){return[an]})),_:1},8,["onClick"])):(Object(a["x"])(),Object(a["f"])(l,{key:0,type:"primary",size:"large",onClick:e.initWallet},{default:ze((function(){return[nn]})),_:1},8,["onClick"]))])])]})),_:1},8,["show"]),Object(a["i"])(d,{show:e.showDjModal,"onUpdate:show":t[17]||(t[17]=function(t){return e.showDjModal=t}),style:{background:"transparent"}},{default:ze((function(){return[Object(a["i"])("div",cn,[rn,Object(a["i"])("div",{class:"modal-close flex-center",onClick:t[15]||(t[15]=function(t){return e.showDjModal=!1})},[Object(a["i"])("img",{src:p.a,alt:"",srcset:"".concat(n("c319")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),Object(a["i"])("div",sn,[Object(a["i"])("div",on,[ln,Object(a["i"])("div",un,Object(a["H"])(e.userWindBlance)+"wind token",1)]),Object(a["i"])(b,{type:"number",modelValue:e.windAmount,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.windAmount=t}),placeholder:"请输入冻结wind token的数量"},null,8,["modelValue"])]),Object(a["i"])("div",dn,[e.address?Number(e.windAllowance)?(Object(a["x"])(),Object(a["f"])(l,{key:2,type:"primary",size:"large",onClick:e.freezeToken},{default:ze((function(){return[fn]})),_:1},8,["onClick"])):(Object(a["x"])(),Object(a["f"])(l,{key:1,type:"primary",size:"large",onClick:e.approveWind},{default:ze((function(){return[bn]})),_:1},8,["onClick"])):(Object(a["x"])(),Object(a["f"])(l,{key:0,type:"primary",size:"large",onClick:e.initWallet},{default:ze((function(){return[pn]})),_:1},8,["onClick"]))])])]})),_:1},8,["show"]),Object(a["i"])(d,{show:e.showShModal,"onUpdate:show":t[20]||(t[20]=function(t){return e.showShModal=t}),style:{background:"transparent"}},{default:ze((function(){return[Object(a["i"])("div",mn,[On,Object(a["i"])("div",{class:"modal-close flex-center",onClick:t[18]||(t[18]=function(t){return e.showShModal=!1})},[Object(a["i"])("img",{src:p.a,alt:"",srcset:"".concat(n("c319")," 3x"),class:"icon_arrow"},null,8,["srcset"])]),Object(a["i"])("div",yn,[Object(a["i"])("div",jn,[xn,Object(a["i"])("div",vn,"上限："+Object(a["H"])(e.userBlance),1)]),Object(a["i"])(b,{type:"number",modelValue:e.shAmount,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.shAmount=t}),placeholder:"请输入解冻wind token"},null,8,["modelValue"])]),Object(a["i"])("div",wn,[e.address?(Object(a["x"])(),Object(a["f"])(l,{key:1,type:"primary",size:"large",onClick:e.withdrawFreezeToken},{default:ze((function(){return[An]})),_:1},8,["onClick"])):(Object(a["x"])(),Object(a["f"])(l,{key:0,type:"primary",size:"large",onClick:e.initWallet},{default:ze((function(){return[hn]})),_:1},8,["onClick"]))])])]})),_:1},8,["show"])])})),gn=(n("3ca3"),n("ddb0"),n("59c5")),Cn=n("901e"),Bn=n.n(Cn),Tn={setup:function(){var e=Object(Fe["b"])(),t=Object(a["B"])({day:["3天","4天"],address:Object(a["d"])((function(){return e.state.accounts[0]})),web3:Object(a["d"])((function(){return e.state.provider})),BsnContract:null,amount:"",windAmount:"",BusdContract:null,freezeContract:null,windTokenContract:null,BsnDataContract:null,freezeTokenNum:0,windAllowance:0,tokenAllowance:0,marketToTalMoney:0,userMarket:0,wAmount:"",curCycleIncome:0,showDjModal:!1,showCyModal:!1,showModal:!1,showDayPicker:!1,showShModal:!1,shAmount:"",marketIncome:0,isGet:!1,freezeIncome:0,totalPool:0,userBlance:0,totalMarketWind:0,userWindBlance:0,yesPool:0,dayValue:"3天",onDayConfirm:function(e){t.dayValue=e,t.showDayPicker=!1},initWallet:function(){Re["a"].initWeb3()},initContract:function(){t.BsnContract=new t.web3.eth.Contract(Te,De["a"].BsnAddress),t.BusdContract=new t.web3.eth.Contract(Me,De["a"].BusdAddress),t.BsnDataContract=new t.web3.eth.Contract(Ke,De["a"].BsnDataAddress),t.freezeContract=new t.web3.eth.Contract(gn,De["a"].frozen),t.windTokenContract=new t.web3.eth.Contract(Me,De["a"].windToken),t.initData()},initData:function(){t.getCurCycleIncome(),t.getUserInfo(),t.getTokenAllowance(),t.getFreezeToken(),t.getMarketIncome(),t.getTotalData(),t.getFreezeIncome()},getTotalData:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.decimals().call();case 2:return n=e.sent,e.next=5,t.windTokenContract.methods.decimals().call();case 5:return a=e.sent,e.next=8,Promise.all([t.BsnDataContract.methods.totalPool().call(),t.BsnDataContract.methods.totalMarketWind().call(),t.windTokenContract.methods.balanceOf(t.address).call()]);case 8:c=e.sent,t.totalPool=new Bn.a(c[0]).dividedToIntegerBy(Math.pow(10,n)).toFixed(3),t.totalMarketWind=new Bn.a(c[1]).dividedToIntegerBy(Math.pow(10,a)).toFixed(3),t.userWindBlance=new Bn.a(c[2]).dividedToIntegerBy(Math.pow(10,a)).toFixed(3);case 12:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getCurCycleIncome:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.decimals().call();case 2:return n=e.sent,e.next=5,t.BsnContract.methods.getCurCycleIncome().call();case 5:return a=e.sent,e.next=8,t.BsnDataContract.methods.getCurDayNum().call();case 8:return c=e.sent,e.next=11,t.BsnDataContract.methods.getCurCycleData(c-1).call();case 11:r=e.sent,t.curCycleIncome=Number(a.curAmount/Math.pow(10,n)).toFixed(2),t.marketToTalMoney=Number(a.curDayMarketTotal/Math.pow(10,n)).toFixed(2),t.yesPool=Number(r.poolAmount/Math.pow(10,n)).toFixed(2),console.log("yesMarketToTalMoney",r);case 16:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getUserInfo:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnDataContract.methods.getUserInfo(t.address).call();case 2:return n=e.sent,e.next=5,t.BusdContract.methods.decimals().call();case 5:a=e.sent,t.userMarket=Number(n.marketProvide/Math.pow(10,a)).toFixed(2);case 7:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),addpoolMoney:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.amount<1e3)){e.next=3;break}return Object(Be["a"])("数量必须大于等于1000"),e.abrupt("return");case 3:return e.next=5,t.BusdContract.methods.decimals().call();case 5:return n=e.sent,a=new Bn.a(t.amount).multipliedBy(Math.pow(10,n)).toString(),e.next=9,t.BsnContract.methods.addMarketPool(a).send({from:t.address});case 9:t.initData();case 10:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),approveWind:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.windTokenContract.methods.approve(De["a"].frozen,Ee["a"]).send({from:t.address});case 2:t.getTokenAllowance();case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),approve:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.approve(De["a"].BsnAddress,Ee["a"]).send({from:t.address});case 2:t.getTokenAllowance();case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getTokenAllowance:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.allowance(t.address,De["a"].BsnAddress).call();case 2:return n=e.sent,e.next=5,t.windTokenContract.methods.allowance(t.address,De["a"].frozen).call();case 5:a=e.sent,t.tokenAllowance=n,t.windAllowance=a;case 8:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),markerRedeem:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.wAmount<=0)){e.next=3;break}return Object(Be["a"])("数量必须大于0"),e.abrupt("return");case 3:return t.showModal=!1,e.next=6,t.BusdContract.methods.decimals().call();case 6:return n=e.sent,a=new Bn.a(t.wAmount).multipliedBy(Math.pow(10,n)).toString(),e.next=10,t.BsnContract.methods.markerRedeem(a).send({from:t.address});case 10:t.initData();case 11:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),freezeToken:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.windAmount<=0)){e.next=3;break}return Object(Be["a"])("数量必须大于0"),e.abrupt("return");case 3:return t.showDjModal=!1,e.next=6,t.windTokenContract.methods.decimals().call();case 6:return n=e.sent,a=new Bn.a(t.windAmount).multipliedBy(Math.pow(10,n)).toFixed(),e.next=10,t.freezeContract.methods.stake(a).send({from:t.address});case 10:t.initData();case 11:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),withdrawFreezeToken:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(Number(t.shAmount)<=0)){e.next=3;break}return Object(Be["a"])("数量必须大于0"),e.abrupt("return");case 3:if(!(Number(t.shAmount)<=Number(t.userBlance))){e.next=14;break}return t.showShModal=!1,e.next=7,t.windTokenContract.methods.decimals().call();case 7:return n=e.sent,a=new Bn.a(t.shAmount).multipliedBy(Math.pow(10,n)).toFixed(),e.next=11,t.freezeContract.methods.withdraw(a).send({from:t.address});case 11:t.initData(),e.next=15;break;case 14:Object(Be["a"])("数量不足");case 15:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getFreezeIncome:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BusdContract.methods.decimals().call();case 2:return n=e.sent,e.next=5,t.freezeContract.methods.earned(t.address).call();case 5:return a=e.sent,e.next=8,t.windTokenContract.methods.decimals().call();case 8:return c=e.sent,e.next=11,t.freezeContract.methods.balanceOf(t.address).call();case 11:r=e.sent,t.userBlance=new Bn.a(r).dividedBy(Math.pow(10,c)).toFixed(3),t.freezeIncome=new Bn.a(a).dividedBy(Math.pow(10,n)).toFixed(3);case 14:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getFreezeToken:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.freezeContract.methods.totalSupply().call();case 2:return n=e.sent,e.next=5,t.windTokenContract.methods.decimals().call();case 5:a=e.sent,console.log(n),t.freezeTokenNum=Number(n/Math.pow(10,a)).toFixed(2);case 8:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getMarketIncome:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,a,c,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnDataContract.methods.dayNum().call();case 2:return n=e.sent,e.next=5,t.windTokenContract.methods.decimals().call();case 5:return a=e.sent,e.next=8,t.BsnDataContract.methods.getCurCycleData(n-1).call();case 8:return c=e.sent,e.next=11,t.BsnDataContract.methods.getUserDayMarket(t.address,n-1).call();case 11:return r=e.sent,e.next=14,t.BsnDataContract.methods.isDividend(t.address,n-1).call();case 14:i=e.sent,t.isGet=i,t.marketIncome=i?0:new Bn.a(r).multipliedBy(c._windToken).dividedBy(c._marketToTalMoney).dividedBy(Math.pow(10,a)).toFixed(4);case 17:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),receiveMarketIncome:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.BsnDataContract.methods.dayNum().call();case 2:return n=e.sent,e.next=5,t.BsnContract.methods.receiveDividends(n-1).send({from:t.address});case 5:t.initData();case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),getReward:function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.freezeContract.methods.getReward().send({from:t.address});case 2:t.getFreezeIncome();case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()});t.address&&t.initContract(),Object(a["L"])((function(){return t.address}),(function(e){e&&t.initContract()}));var n=Object(a["I"])(t);return Object(s["a"])({},n)}};n("8fd5");Tn.render=kn,Tn.__scopeId="data-v-1a980c0e";var Mn=Tn,En={components:{IndexOption:Ne,IndexPool:Mn},setup:function(){var e=Object(o["c"])(),t=Object(o["d"])(),n=Object(a["B"])({tabsActive:e.query.name,tabClick:function(e){t.replace({name:"Index",query:{name:e}})}}),c=Object(a["I"])(n);return Object(s["a"])({},c)}};n("e554"),n("0dd8");En.render=i,En.__scopeId="data-v-172bb754";t["default"]=En},5319:function(e,t,n){"use strict";var a=n("d784"),c=n("825a"),r=n("50c4"),i=n("a691"),s=n("1d80"),o=n("8aa5"),l=n("0cb2"),u=n("14c3"),d=Math.max,p=Math.min,b=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,n,a){var f=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,O=f?"$":"$0";return[function(n,a){var c=s(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,c,a):t.call(String(c),n,a)},function(e,a){if(!f&&m||"string"===typeof a&&-1===a.indexOf(O)){var s=n(t,e,this,a);if(s.done)return s.value}var y=c(e),j=String(this),x="function"===typeof a;x||(a=String(a));var v=y.global;if(v){var w=y.unicode;y.lastIndex=0}var h=[];while(1){var A=u(y,j);if(null===A)break;if(h.push(A),!v)break;var k=String(A[0]);""===k&&(y.lastIndex=o(j,r(y.lastIndex),w))}for(var g="",C=0,B=0;B<h.length;B++){A=h[B];for(var T=String(A[0]),M=d(p(i(A.index),j.length),0),E=[],D=1;D<A.length;D++)E.push(b(A[D]));var R=A.groups;if(x){var F=[T].concat(E,M,j);void 0!==R&&F.push(R);var S=String(a.apply(void 0,F))}else S=l(T,j,M,E,R,a);M>=C&&(g+=j.slice(C,M)+S,C=M+T.length)}return g+j.slice(C)}]}))},"59c5":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_BUSD","type":"address"},{"internalType":"address","name":"_windToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_addr","type":"address"},{"indexed":false,"internalType":"bool","name":"_access","type":"bool"}],"name":"AccessAllowedAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_time","type":"uint256"}],"name":"FreezeToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_reward","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_time","type":"uint256"}],"name":"RewardPaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_old","type":"address"},{"indexed":false,"internalType":"address","name":"_new","type":"address"}],"name":"SetBUSDTokenAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_old","type":"address"},{"indexed":false,"internalType":"address","name":"_new","type":"address"}],"name":"SetWindTokenAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_time","type":"uint256"}],"name":"WithdrawalWind","type":"event"},{"inputs":[],"name":"BUSD","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"allowAccess","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"}],"name":"denyAccess","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"earned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"exit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCurBlance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"haveTakeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOpen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastBlance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"platformStake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerTokenStored","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_BUSD","type":"address"}],"name":"setBUSDAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"setOpen","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_windToken","type":"address"}],"name":"setWindTokenAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userRewardPerTokenPaid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"windToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},"67c4":function(e,t,n){},6997:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAVFBMVEUAAABFKnpFKXpSP5ZFKnpFKnpBKn9FKnpFLHtEKnpCKXtFKnpFKntFKnpLLXhILHpEKHpFKnpFKXtDKXpGKHlFKnlGK3tFKXlEKXpHK3xEK3pFKnoS1nEEAAAAG3RSTlMA7ocE9WYLzzrCH9dVsREuJ8d0LhbfoKBeSEdTsvMfAAAAlElEQVQ4y+3NyxLCIAyF4bQCvViVXrzm/d/TKMO4+GHprmcTmJzJJ3skTMvzUN1ufllt+EYbX2udB6ddFJlVtZnKrXGwpXuI3GxWbo2n7+4lErvcoqWftMHe/VGzSEtdm3797xYsZ3dSLrlVsSwQaUEsWRRpUYRVFmlR3GhRvNKimK1a1tSCRZEWRVpMvM8+yJ7/5Q2c0hJAWZ1VrQAAAABJRU5ErkJggg=="},"8aa5":function(e,t,n){"use strict";var a=n("6547").charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},"8fd5":function(e,t,n){"use strict";n("10f2")},9263:function(e,t,n){"use strict";var a=n("ad6d"),c=n("9f7f"),r=RegExp.prototype.exec,i=String.prototype.replace,s=r,o=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=c.UNSUPPORTED_Y||c.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(s=function(e){var t,n,c,s,d=this,p=l&&d.sticky,b=a.call(d),f=d.source,m=0,O=e;return p&&(b=b.replace("y",""),-1===b.indexOf("g")&&(b+="g"),O=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(f="(?: "+f+")",O=" "+O,m++),n=new RegExp("^(?:"+f+")",b)),u&&(n=new RegExp("^"+f+"$(?!\\s)",b)),o&&(t=d.lastIndex),c=r.call(p?n:d,O),p?c?(c.input=c.input.slice(m),c[0]=c[0].slice(m),c.index=d.lastIndex,d.lastIndex+=c[0].length):d.lastIndex=0:o&&c&&(d.lastIndex=d.global?c.index+c[0].length:t),u&&c&&c.length>1&&i.call(c[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(c[s]=void 0)})),c}),e.exports=s},"99af":function(e,t,n){"use strict";var a=n("23e7"),c=n("d039"),r=n("e8b5"),i=n("861d"),s=n("7b0b"),o=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),p=n("b622"),b=n("2d00"),f=p("isConcatSpreadable"),m=9007199254740991,O="Maximum allowed index exceeded",y=b>=51||!c((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),j=d("concat"),x=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)},v=!y||!j;a({target:"Array",proto:!0,forced:v},{concat:function(e){var t,n,a,c,r,i=s(this),d=u(i,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?i:arguments[t],x(r)){if(c=o(r.length),p+c>m)throw TypeError(O);for(n=0;n<c;n++,p++)n in r&&l(d,p,r[n])}else{if(p>=m)throw TypeError(O);l(d,p++,r)}return d.length=p,d}})},"9f7f":function(e,t,n){"use strict";var a=n("d039");function c(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var a=n("23e7"),c=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},af2d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAh1BMVEUAAAAexdMit8cfx9QeyNUfx9Qfx9Qhx88fx9Qex9Qfx9QfyNUex9UfyNQeyNQfx9QfxNAivdMfx9QfyNQgxtIextUex9Qex9Qex9Qfx9Udx9Mex9Ufx9Uex9Uex9Mfx9Qex9QeyNUfy9cdxtMfydMex9QfyNQex9Qcxtcbv9Eeydsgv98fx9TtjM00AAAALHRSTlMAgAP6h/F6D/zayuB+6MQmFAX39DMMn5dzX1hSjGdD67qwKSI40ms/LRwVCCtVfaAAAAGmSURBVEjH7ZfZkoIwEEVlgIQAsm+CbOJu/v/7ZtrSRGBi4GmcKu4bSR/odN+iOquR/J1GVDqQSrSdv5IKI4v+KgthGeujgAoUINm3z2sq1PosxL7cPLOVFqIcTRlIc2C9VdAxd7/GrJda+qNODt/nb3YeldOt1Btunghl0jjLA7SX0lX9gIpQriQew3FCuUjVy7nXHj2LR2ym99rmveSU3osJPshVKpSa/zhoe29HyhN3LWALWLg2Yrjx4EMF0JbL4FznZYqIiCURL52eMziDXJ/vurTrYEwG6/byzBNOkDHYhm12Cn9f2spAqNz7rEIQbTNYgcfVZEG0ssB/DUemQQUyzEgCm/SNHAmsv4N1CbwNxWyoSWC8sRWB7A3+2FYtJllM8sHwyCThFnNstknCDcdmm8TIODbXJAbZc2yuSdDpP7RqgafACPwcT2UxwIg9ljB4FVPhAsayks+8NfwavWmsB5N3XfGZ1oShLulucvTWJTAumvFLJrBAD6kiVXqASLUYzPFyie4COAmmo2qCB2VAZCpL0HV0A+nKpjZkoFE3x47l/A32Zsn694VFeQAAAABJRU5ErkJggg=="},b0c0:function(e,t,n){var a=n("83ab"),c=n("9bf2").f,r=Function.prototype,i=r.toString,s=/^\s*function ([^ (]*)/,o="name";a&&!(o in r)&&c(r,o,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},b320:function(e,t,n){},c1fe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAALVBMVEUAAABGKH1EKntFKnpFKnpJJHlFKnpFKnlEKnlFKnpFKnpFKnpFKnpFKntFKnqqnya1AAAADnRSTlMAEc7UyBW66WX18bHDcuUs0UMAAAB8SURBVBjTLc6xCYVAFETRMfj58gNzG7AEwRoEcxswtgO7MDYSbMTcVEQD4dUgcudFu5zgjvZOvnbWdCTev+pWHwWfJh7940hA1MrKKIAzCQIEGSDABJgAE2ACHKflODMc9wziXkg8MxE3EYcAyGDaPoAuLR9At8ZVvnx4AQGZS0evcNKCAAAAAElFTkSuQmCC"},c319:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAP1BMVEUAAABlAIBDKHlFKntEKXpEKnlFKnpFKnpELHxFKnpDK3lFK3lFKnpFKnpFKnpFKXpFKntFK3lEKnpFKXpFKnpQ3U6VAAAAFHRSTlMAAjngMtDl20DHKju0+eqpITO+oLO9whQAAADGSURBVDjLddRJDoMwDEBRk4SxmQDf/6xlUBWp3/EO2dJb8BWpMR37IJ0Z3JpKlaiqo+sdLeO1LpL0Gh/sm890b7Mc+ly5wbCW6VlG2UfVJtJSXTcZnNcm0tI53Mjum0hr3t5v10RaP+BPpPVOaKJpUaQF0bQowrJEWJYIyxJpUaRFEVavDZbD/8Vy2AbLoTV7imwD5VhtoBx2yHJooZx+hxDZIUVaEC0LIi1TdLAgBllhQYySYEHMUmBBPKWWHLf+cxhiPusX/W8fAlNsnmkAAAAASUVORK5CYII="},d784:function(e,t,n){"use strict";n("ac1f");var a=n("6eeb"),c=n("d039"),r=n("b622"),i=n("9263"),s=n("9112"),o=r("species"),l=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),b=!c((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var f=r(e),m=!c((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),O=m&&!c((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!m||!O||"replace"===e&&(!l||!u||p)||"split"===e&&!b){var y=/./[f],j=n(f,""[e],(function(e,t,n,a,c){return t.exec===i?m&&!c?{done:!0,value:y.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=j[0],v=j[1];a(String.prototype,e,x),a(RegExp.prototype,f,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}d&&s(RegExp.prototype[f],"sham",!0)}},dc12:function(e,t,n){"use strict";n("ecbf")},e554:function(e,t,n){"use strict";n("67c4")},ecbf:function(e,t,n){},f9e2:function(e,t,n){}}]);
//# sourceMappingURL=chunk-7a07c5da.e5b726ca.js.map